(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},Al={};var F_;function NS(){if(F_)return Al;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Al.Fragment=t,Al.jsx=i,Al.jsxs=i,Al}var G_;function DS(){return G_||(G_=1,Id.exports=NS()),Id.exports}var S=DS(),Cd={exports:{}},St={};var Q_;function OS(){if(Q_)return St;Q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function Y(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,tt={};function ft(M,K,nt){this.props=M,this.context=K,this.refs=tt,this.updater=nt||W}ft.prototype.isReactComponent={},ft.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},ft.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function vt(){}vt.prototype=ft.prototype;function mt(M,K,nt){this.props=M,this.context=K,this.refs=tt,this.updater=nt||W}var Kt=mt.prototype=new vt;Kt.constructor=mt,it(Kt,ft.prototype),Kt.isPureReactComponent=!0;var re=Array.isArray;function kt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,K,nt){var rt=nt.ref;return{$$typeof:r,type:M,key:K,ref:rt!==void 0?rt:null,props:nt}}function x(M,K){return I(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function P(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return K[nt]})}var R=/\/+/g;function oe(M,K){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):K.toString(36)}function Zt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(kt,kt):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,K,nt,rt,pt){var At=typeof M;(At==="undefined"||At==="boolean")&&(M=null);var Dt=!1;if(M===null)Dt=!0;else switch(At){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(M.$$typeof){case r:case t:Dt=!0;break;case A:return Dt=M._init,F(Dt(M._payload),K,nt,rt,pt)}}if(Dt)return pt=pt(M),Dt=rt===""?"."+oe(M,0):rt,re(pt)?(nt="",Dt!=null&&(nt=Dt.replace(R,"$&/")+"/"),F(pt,K,nt,"",function(Es){return Es})):pt!=null&&(D(pt)&&(pt=x(pt,nt+(pt.key==null||M&&M.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+Dt)),K.push(pt)),1;Dt=0;var Ne=rt===""?".":rt+":";if(re(M))for(var he=0;he<M.length;he++)rt=M[he],At=Ne+oe(rt,he),Dt+=F(rt,K,nt,At,pt);else if(he=Y(M),typeof he=="function")for(M=he.call(M),he=0;!(rt=M.next()).done;)rt=rt.value,At=Ne+oe(rt,he++),Dt+=F(rt,K,nt,At,pt);else if(At==="object"){if(typeof M.then=="function")return F(Zt(M),K,nt,rt,pt);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function J(M,K,nt){if(M==null)return M;var rt=[],pt=0;return F(M,rt,"","",function(At){return K.call(nt,At,pt++)}),rt}function ut(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Nt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ft={map:J,forEach:function(M,K,nt){J(M,function(){K.apply(this,arguments)},nt)},count:function(M){var K=0;return J(M,function(){K++}),K},toArray:function(M){return J(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return St.Activity=b,St.Children=Ft,St.Component=ft,St.Fragment=i,St.Profiler=l,St.PureComponent=mt,St.StrictMode=a,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,St.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},St.cache=function(M){return function(){return M.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(M,K,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=it({},M.props),pt=M.key;if(K!=null)for(At in K.key!==void 0&&(pt=""+K.key),K)!w.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(rt[At]=K[At]);var At=arguments.length-2;if(At===1)rt.children=nt;else if(1<At){for(var Dt=Array(At),Ne=0;Ne<At;Ne++)Dt[Ne]=arguments[Ne+2];rt.children=Dt}return I(M.type,pt,rt)},St.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},St.createElement=function(M,K,nt){var rt,pt={},At=null;if(K!=null)for(rt in K.key!==void 0&&(At=""+K.key),K)w.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=K[rt]);var Dt=arguments.length-2;if(Dt===1)pt.children=nt;else if(1<Dt){for(var Ne=Array(Dt),he=0;he<Dt;he++)Ne[he]=arguments[he+2];pt.children=Ne}if(M&&M.defaultProps)for(rt in Dt=M.defaultProps,Dt)pt[rt]===void 0&&(pt[rt]=Dt[rt]);return I(M,At,pt)},St.createRef=function(){return{current:null}},St.forwardRef=function(M){return{$$typeof:p,render:M}},St.isValidElement=D,St.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ut}},St.memo=function(M,K){return{$$typeof:v,type:M,compare:K===void 0?null:K}},St.startTransition=function(M){var K=N.T,nt={};N.T=nt;try{var rt=M(),pt=N.S;pt!==null&&pt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(kt,Nt)}catch(At){Nt(At)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),N.T=K}},St.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},St.use=function(M){return N.H.use(M)},St.useActionState=function(M,K,nt){return N.H.useActionState(M,K,nt)},St.useCallback=function(M,K){return N.H.useCallback(M,K)},St.useContext=function(M){return N.H.useContext(M)},St.useDebugValue=function(){},St.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},St.useEffect=function(M,K){return N.H.useEffect(M,K)},St.useEffectEvent=function(M){return N.H.useEffectEvent(M)},St.useId=function(){return N.H.useId()},St.useImperativeHandle=function(M,K,nt){return N.H.useImperativeHandle(M,K,nt)},St.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},St.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},St.useMemo=function(M,K){return N.H.useMemo(M,K)},St.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},St.useReducer=function(M,K,nt){return N.H.useReducer(M,K,nt)},St.useRef=function(M){return N.H.useRef(M)},St.useState=function(M){return N.H.useState(M)},St.useSyncExternalStore=function(M,K,nt){return N.H.useSyncExternalStore(M,K,nt)},St.useTransition=function(){return N.H.useTransition()},St.version="19.2.3",St}var Y_;function Em(){return Y_||(Y_=1,Cd.exports=OS()),Cd.exports}var Xt=Em(),Nd={exports:{}},Sl={},Dd={exports:{}},Od={};var K_;function VS(){return K_||(K_=1,(function(r){function t(F,J){var ut=F.length;F.push(J);t:for(;0<ut;){var Nt=ut-1>>>1,Ft=F[Nt];if(0<l(Ft,J))F[Nt]=J,F[ut]=Ft,ut=Nt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var J=F[0],ut=F.pop();if(ut!==J){F[0]=ut;t:for(var Nt=0,Ft=F.length,M=Ft>>>1;Nt<M;){var K=2*(Nt+1)-1,nt=F[K],rt=K+1,pt=F[rt];if(0>l(nt,ut))rt<Ft&&0>l(pt,nt)?(F[Nt]=pt,F[rt]=ut,Nt=rt):(F[Nt]=nt,F[K]=ut,Nt=K);else if(rt<Ft&&0>l(pt,ut))F[Nt]=pt,F[rt]=ut,Nt=rt;else break t}}return J}function l(F,J){var ut=F.sortIndex-J.sortIndex;return ut!==0?ut:F.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],v=[],A=1,b=null,V=3,Y=!1,W=!1,it=!1,tt=!1,ft=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Kt(F){for(var J=i(v);J!==null;){if(J.callback===null)a(v);else if(J.startTime<=F)a(v),J.sortIndex=J.expirationTime,t(y,J);else break;J=i(v)}}function re(F){if(it=!1,Kt(F),!W)if(i(y)!==null)W=!0,kt||(kt=!0,P());else{var J=i(v);J!==null&&Zt(re,J.startTime-F)}}var kt=!1,N=-1,w=5,I=-1;function x(){return tt?!0:!(r.unstable_now()-I<w)}function D(){if(tt=!1,kt){var F=r.unstable_now();I=F;var J=!0;try{t:{W=!1,it&&(it=!1,vt(N),N=-1),Y=!0;var ut=V;try{e:{for(Kt(F),b=i(y);b!==null&&!(b.expirationTime>F&&x());){var Nt=b.callback;if(typeof Nt=="function"){b.callback=null,V=b.priorityLevel;var Ft=Nt(b.expirationTime<=F);if(F=r.unstable_now(),typeof Ft=="function"){b.callback=Ft,Kt(F),J=!0;break e}b===i(y)&&a(y),Kt(F)}else a(y);b=i(y)}if(b!==null)J=!0;else{var M=i(v);M!==null&&Zt(re,M.startTime-F),J=!1}}break t}finally{b=null,V=ut,Y=!1}J=void 0}}finally{J?P():kt=!1}}}var P;if(typeof mt=="function")P=function(){mt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,oe=R.port2;R.port1.onmessage=D,P=function(){oe.postMessage(null)}}else P=function(){ft(D,0)};function Zt(F,J){N=ft(function(){F(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(F){switch(V){case 1:case 2:case 3:var J=3;break;default:J=V}var ut=V;V=J;try{return F()}finally{V=ut}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(F,J){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ut=V;V=F;try{return J()}finally{V=ut}},r.unstable_scheduleCallback=function(F,J,ut){var Nt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Nt+ut:Nt):ut=Nt,F){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ut+Ft,F={id:A++,callback:J,priorityLevel:F,startTime:ut,expirationTime:Ft,sortIndex:-1},ut>Nt?(F.sortIndex=ut,t(v,F),i(y)===null&&F===i(v)&&(it?(vt(N),N=-1):it=!0,Zt(re,ut-Nt))):(F.sortIndex=Ft,t(y,F),W||Y||(W=!0,kt||(kt=!0,P()))),F},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(F){var J=V;return function(){var ut=V;V=J;try{return F.apply(this,arguments)}finally{V=ut}}}})(Od)),Od}var X_;function MS(){return X_||(X_=1,Dd.exports=VS()),Dd.exports}var Vd={exports:{}},nn={};var $_;function xS(){if($_)return nn;$_=1;var r=Em();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,A)},nn.flushSync=function(y){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=v,a.p=A,a.d.f()}},nn.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},nn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},nn.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:Y}):A==="script"&&a.d.X(y,{crossOrigin:b,integrity:V,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},nn.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},nn.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin);a.d.L(y,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},nn.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},nn.requestFormReset=function(y){a.d.r(y)},nn.unstable_batchedUpdates=function(y,v){return y(v)},nn.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var Z_;function US(){if(Z_)return Vd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vd.exports=xS(),Vd.exports}var J_;function LS(){if(J_)return Sl;J_=1;var r=MS(),t=Em(),i=US();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Kt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ft:return"Profiler";case tt:return"StrictMode";case re:return"Suspense";case kt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case mt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}var Zt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Nt=[],Ft=-1;function M(e){return{current:e}}function K(e){0>Ft||(e.current=Nt[Ft],Nt[Ft]=null,Ft--)}function nt(e,n){Ft++,Nt[Ft]=e.current,e.current=n}var rt=M(null),pt=M(null),At=M(null),Dt=M(null);function Ne(e,n){switch(nt(At,n),nt(pt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?d_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=d_(n),e=m_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),nt(rt,e)}function he(){K(rt),K(pt),K(At)}function Es(e){e.memoizedState!==null&&nt(Dt,e);var n=rt.current,s=m_(n,e.type);n!==s&&(nt(pt,e),nt(rt,s))}function Ts(e){pt.current===e&&(K(rt),K(pt)),Dt.current===e&&(K(Dt),_l._currentValue=ut)}var hi,qi;function Vn(e){if(hi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);hi=n&&n[1]||"",qi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hi+e+qi}var pr=!1;function Hi(e,n){if(!e||pr)return"";pr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{pr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Vn(s):""}function yr(e,n){switch(e.tag){case 26:case 27:case 5:return Vn(e.type);case 16:return Vn("Lazy");case 13:return e.child!==n&&n!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return Hi(e.type,!1);case 11:return Hi(e.type.render,!1);case 1:return Hi(e.type,!0);case 31:return Vn("Activity");default:return""}}function _r(e){try{var n="",s=null;do n+=yr(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Te=r.unstable_scheduleCallback,fi=r.unstable_cancelCallback,Ao=r.unstable_shouldYield,la=r.unstable_requestPaint,U=r.unstable_now,gt=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,le=r.unstable_UserBlockingPriority,Gt=r.unstable_NormalPriority,ln=r.unstable_LowPriority,dn=r.unstable_IdlePriority,ue=r.log,It=r.unstable_setDisableYieldValue,Bt=null,De=null;function un(e){if(typeof ue=="function"&&It(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Bt,e)}catch{}}var Ae=Math.clz32?Math.clz32:su,iu=Math.log,ua=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/ua|0)|0}var di=256,vr=262144,Oe=4194304;function mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=mi(o):(g&=E,g!==0?h=mi(g):s||(s=E&~e,s!==0&&(h=mi(s))))):(E=o&~f,E!==0?h=mi(E):g!==0?h=mi(g):s||(s=o&~e,s!==0&&(h=mi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),e}function pi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Er(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-Ae(s),$=1<<G;E[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}s&=~$}o!==0&&Tr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Tr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ae(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function So(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Ae(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function bo(e,n){var s=n&-n;return s=(s&42)!==0?1:Ar(s),(s&(e.suspendedLanes|n))!==0?0:s}function Ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:P_(e.type))}function Xn(e,n){var s=J.p;try{return J.p=e,n()}finally{J.p=s}}var $n=Math.random().toString(36).slice(2),Ve="__reactFiber$"+$n,Fe="__reactProps$"+$n,yi="__reactContainer$"+$n,ca="__reactEvents$"+$n,Vh="__reactListeners$"+$n,ou="__reactHandles$"+$n,lu="__reactResources$"+$n,_i="__reactMarker$"+$n;function ha(e){delete e[Ve],delete e[Fe],delete e[ca],delete e[Vh],delete e[ou]}function vi(e){var n=e[Ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[yi]||s[Ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=T_(e);e!==null;){if(s=e[Ve])return s;e=T_(e)}return n}e=s,s=e.parentNode}return null}function Mn(e){if(e=e[Ve]||e[yi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ei(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Me(e){e[_i]=!0}var wo=new Set,Ro={};function Ti(e,n){Ai(e,n),Ai(e+"Capture",n)}function Ai(e,n){for(Ro[e]=n,e=0;e<n.length;e++)wo.add(n[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},No={};function uu(e){return _e.call(No,e)?!0:_e.call(Co,e)?!1:Io.test(e)?No[e]=!0:(Co[e]=!0,!1)}function fa(e,n,s){if(uu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Sn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function xe(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function As(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Do(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=As(e)?"checked":"value";e._valueTracker=Do(e,n,""+e[n])}}function Sr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=As(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var br=/[\n"\\]/g;function mn(e){return e.replace(br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ge(n)):e.value!==""+Ge(n)&&(e.value=""+Ge(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Oo(e,g,Ge(n)):s!=null?Oo(e,g,Ge(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ge(E):e.removeAttribute("name")}function cu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}s=s!=null?""+Ge(s):"",n=n!=null?""+Ge(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Jt(e)}function Oo(e,n,s){n==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ss(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ge(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,s){if(n!=null&&(n=""+Ge(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ge(s):""}function bs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Zt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ge(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Jt(e)}function gn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Mo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Vo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(e,f,n[f])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return ws.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var xo=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,bi=null;function wr(e){var n=Mn(e);if(n&&(e=n.stateNode)){var s=e[Fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(da(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Fe]||null;if(!h)throw Error(a(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Sr(o)}break t;case"textarea":hu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ss(e,!!s.multiple,n,!1)}}}var pa=!1;function Is(e,n,s){if(pa)return e(n,s);pa=!0;try{var o=e(n);return o}finally{if(pa=!1,(Rs!==null||bi!==null)&&(ac(),Rs&&(n=Rs,e=bi,bi=Rs=null,wr(n),e)))for(n=0;n<e.length;n++)wr(e[n])}}function Jn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Fe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(Un)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Rr=!1}var wi=null,Uo=null,Ir=null;function Lo(){if(Ir)return Ir;var e,n=Uo,s=n.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Ir=h.slice(e,1<o?1-o:void 0)}function Cr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function Wn(){return!1}function Ke(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:Wn,this.isPropagationStopped=Wn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ke(Qi),Cs=b({},Qi,{view:0,detail:0}),Po=Ke(Cs),Ns,ya,Ii,_a=b({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(Ns=e.screenX-Ii.screenX,ya=e.screenY-Ii.screenY):ya=Ns=0,Ii=e),Ns)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),ko=Ke(_a),Nr=b({},_a,{dataTransfer:0}),mu=Ke(Nr),gu=b({},Cs,{relatedTarget:0}),Dr=Ke(gu),jo=b({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Ke(jo),va=b({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=Ke(va),_u=b({},Qi,{data:0}),Ci=Ke(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function Ds(){return Au}var cn=b({},Cs,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=Ke(cn),bu=b({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Ke(bu),u=b({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=Ke(u),_=b({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ke(_),k=b({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ke(k),et=b({},Qi,{newState:0,oldState:0}),wt=Ke(et),Se=[9,13,27,32],Qt=Un&&"CompositionEvent"in window,ge=null;Un&&"documentMode"in document&&(ge=document.documentMode);var Ln=Un&&"TextEvent"in window&&!ge,Ni=Un&&(!Qt||ge&&8<ge&&11>=ge),ti=" ",ei=!1;function Or(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function W0(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(ei=!0,ti);case"textInput":return e=n.data,e===ti&&ei?null:e;default:return null}}function tA(e,n){if(Ta)return e==="compositionend"||!Qt&&Or(e,n)?(e=Lo(),Ir=Uo=wi=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!eA[e.type]:n==="textarea"}function wg(e,n,s,o){Rs?bi?bi.push(o):bi=[o]:Rs=o,n=dc(n,"onChange"),0<n.length&&(s=new Ri("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var zo=null,Bo=null;function nA(e){o_(e,0)}function wu(e){var n=An(e);if(Sr(n))return e}function Rg(e,n){if(e==="change")return n}var Ig=!1;if(Un){var Mh;if(Un){var xh="oninput"in document;if(!xh){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),xh=typeof Cg.oninput=="function"}Mh=xh}else Mh=!1;Ig=Mh&&(!document.documentMode||9<document.documentMode)}function Ng(){zo&&(zo.detachEvent("onpropertychange",Dg),Bo=zo=null)}function Dg(e){if(e.propertyName==="value"&&wu(Bo)){var n=[];wg(n,Bo,e,xn(e)),Is(nA,n)}}function iA(e,n,s){e==="focusin"?(Ng(),zo=n,Bo=s,zo.attachEvent("onpropertychange",Dg)):e==="focusout"&&Ng()}function sA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Bo)}function rA(e,n){if(e==="click")return wu(n)}function aA(e,n){if(e==="input"||e==="change")return wu(n)}function oA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var bn=typeof Object.is=="function"?Object.is:oA;function qo(e,n){if(bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!_e.call(n,h)||!bn(e[h],n[h]))return!1}return!0}function Og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vg(e,n){var s=Og(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Og(s)}}function Mg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function xg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Si(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Si(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var lA=Un&&"documentMode"in document&&11>=document.documentMode,Aa=null,Lh=null,Ho=null,Ph=!1;function Ug(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||Aa==null||Aa!==Si(o)||(o=Aa,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=dc(Lh,"onSelect"),0<o.length&&(n=new Ri("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Aa)))}function Vr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Sa={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},kh={},Lg={};Un&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Mr(e){if(kh[e])return kh[e];if(!Sa[e])return e;var n=Sa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Lg)return kh[e]=n[s];return e}var Pg=Mr("animationend"),kg=Mr("animationiteration"),jg=Mr("animationstart"),uA=Mr("transitionrun"),cA=Mr("transitionstart"),hA=Mr("transitioncancel"),zg=Mr("transitionend"),Bg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function ni(e,n){Bg.set(e,n),Ti(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pn=[],ba=0,zh=0;function Iu(){for(var e=ba,n=zh=ba=0;n<e;){var s=Pn[n];Pn[n++]=null;var o=Pn[n];Pn[n++]=null;var h=Pn[n];Pn[n++]=null;var f=Pn[n];if(Pn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&qg(s,h,f)}}function Cu(e,n,s,o){Pn[ba++]=e,Pn[ba++]=n,Pn[ba++]=s,Pn[ba++]=o,zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Bh(e,n,s,o){return Cu(e,n,s,o),Nu(e)}function xr(e,n){return Cu(e,null,null,n),Nu(e)}function qg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ae(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Nu(e){if(50<hl)throw hl=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wa={};function fA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,s,o){return new fA(e,n,s,o)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var s=e.alternate;return s===null?(s=wn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Hg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")qh(e)&&(g=1);else if(typeof e=="string")g=yS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=wn(31,s,n,h),e.elementType=I,e.lanes=f,e;case it:return Ur(s.children,h,f,n);case tt:g=8,h|=24;break;case ft:return e=wn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case re:return e=wn(13,s,n,h),e.elementType=re,e.lanes=f,e;case kt:return e=wn(19,s,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case vt:g=9;break t;case Kt:g=11;break t;case N:g=14;break t;case w:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=wn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ur(e,n,s,o){return e=wn(7,e,o,n),e.lanes=s,e}function Hh(e,n,s){return e=wn(6,e,null,n),e.lanes=s,e}function Fg(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Gg=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var s=Gg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:_r(n)},Gg.set(e,n),n)}return{value:e,source:n,stack:_r(n)}}var Ra=[],Ia=0,Ou=null,Fo=0,jn=[],zn=0,Os=null,Di=1,Oi="";function Xi(e,n){Ra[Ia++]=Fo,Ra[Ia++]=Ou,Ou=e,Fo=n}function Qg(e,n,s){jn[zn++]=Di,jn[zn++]=Oi,jn[zn++]=Os,Os=e;var o=Di;e=Oi;var h=32-Ae(o)-1;o&=~(1<<h),s+=1;var f=32-Ae(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Di=1<<32-Ae(n)+h|s<<h|o,Oi=f+e}else Di=1<<f|s<<h|o,Oi=e}function Gh(e){e.return!==null&&(Xi(e,1),Qg(e,1,0))}function Qh(e){for(;e===Ou;)Ou=Ra[--Ia],Ra[Ia]=null,Fo=Ra[--Ia],Ra[Ia]=null;for(;e===Os;)Os=jn[--zn],jn[zn]=null,Oi=jn[--zn],jn[zn]=null,Di=jn[--zn],jn[zn]=null}function Yg(e,n){jn[zn++]=Di,jn[zn++]=Oi,jn[zn++]=Os,Di=n.id,Oi=n.overflow,Os=e}var Xe=null,fe=null,jt=!1,Vs=null,Bn=!1,Yh=Error(a(519));function Ms(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(kn(n,e)),Yh}function Kg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ve]=e,n[Fe]=o,s){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<dl.length;s++)Vt(dl[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),bs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||h_(n.textContent,s)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||Ms(e,!0)}function Xg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Xe=Xe.return}}function Ca(e){if(e!==Xe)return!1;if(!jt)return Xg(e),jt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&fe&&Ms(e),Xg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=E_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=E_(e)}else n===27?(n=fe,Ys(e.type)?(e=yd,yd=null,fe=e):fe=n):fe=Xe?Hn(e.stateNode.nextSibling):null;return!0}function Lr(){fe=Xe=null,jt=!1}function Kh(){var e=Vs;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),Vs=null),e}function Go(e){Vs===null?Vs=[e]:Vs.push(e)}var Xh=M(null),Pr=null,$i=null;function xs(e,n,s){nt(Xh,n._currentValue),n._currentValue=s}function Zi(e){e._currentValue=Xh.current,K(Xh)}function $h(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Zh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),$h(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),$h(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Na(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;bn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Dt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&Zh(n,e,s,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){Pr=e,$i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return $g(Pr,e)}function Mu(e,n){return Pr===null&&kr(e),$g(e,n)}function $g(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},$i===null){if(e===null)throw Error(a(308));$i=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else $i=$i.next=n;return s}var dA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},mA=r.unstable_scheduleCallback,gA=r.unstable_NormalPriority,Ue={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new dA,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&mA(gA,function(){e.controller.abort()})}var Yo=null,Wh=0,Da=0,Oa=null;function pA(e,n){if(Yo===null){var s=Yo=[];Wh=0,Da=id(),Oa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Wh++,n.then(Zg,Zg),n}function Zg(){if(--Wh===0&&Yo!==null){Oa!==null&&(Oa.status="fulfilled");var e=Yo;Yo=null,Da=0,Oa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function yA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Jg=F.S;F.S=function(e,n){Uy=U(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pA(e,n),Jg!==null&&Jg(e,n)};var jr=M(null);function tf(){var e=jr.current;return e!==null?e:ae.pooledCache}function xu(e,n){n===null?nt(jr,jr.current):nt(jr,n.pool)}function Wg(){var e=tf();return e===null?null:{parent:Ue._currentValue,pool:e}}var Va=Error(a(460)),ef=Error(a(474)),Uu=Error(a(542)),Lu={then:function(){}};function tp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ep(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Zn,Zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ip(e),e;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ip(e),e}throw Br=n,Va}}function zr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Br=s,Va):s}}var Br=null;function np(){if(Br===null)throw Error(a(459));var e=Br;return Br=null,e}function ip(e){if(e===Va||e===Uu)throw Error(a(483))}var Ma=null,Ko=0;function Pu(e){var n=Ko;return Ko+=1,Ma===null&&(Ma=[]),ep(Ma,e,n)}function Xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sp(e){function n(L,O){if(e){var j=L.deletions;j===null?(L.deletions=[O],L.flags|=16):j.push(O)}}function s(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Ki(L,O),L.index=0,L.sibling=null,L}function f(L,O,j){return L.index=j,e?(j=L.alternate,j!==null?(j=j.index,j<O?(L.flags|=67108866,O):j):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function g(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,j,Q){return O===null||O.tag!==6?(O=Hh(j,L.mode,Q),O.return=L,O):(O=h(O,j),O.return=L,O)}function C(L,O,j,Q){var ct=j.type;return ct===it?G(L,O,j.props.children,Q,j.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&zr(ct)===O.type)?(O=h(O,j.props),Xo(O,j),O.return=L,O):(O=Du(j.type,j.key,j.props,null,L.mode,Q),Xo(O,j),O.return=L,O)}function z(L,O,j,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Fh(j,L.mode,Q),O.return=L,O):(O=h(O,j.children||[]),O.return=L,O)}function G(L,O,j,Q,ct){return O===null||O.tag!==7?(O=Ur(j,L.mode,Q,ct),O.return=L,O):(O=h(O,j),O.return=L,O)}function $(L,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Hh(""+O,L.mode,j),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Y:return j=Du(O.type,O.key,O.props,null,L.mode,j),Xo(j,O),j.return=L,j;case W:return O=Fh(O,L.mode,j),O.return=L,O;case w:return O=zr(O),$(L,O,j)}if(Zt(O)||P(O))return O=Ur(O,L.mode,j,null),O.return=L,O;if(typeof O.then=="function")return $(L,Pu(O),j);if(O.$$typeof===mt)return $(L,Mu(L,O),j);ku(L,O)}return null}function B(L,O,j,Q){var ct=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ct!==null?null:E(L,O,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return j.key===ct?C(L,O,j,Q):null;case W:return j.key===ct?z(L,O,j,Q):null;case w:return j=zr(j),B(L,O,j,Q)}if(Zt(j)||P(j))return ct!==null?null:G(L,O,j,Q,null);if(typeof j.then=="function")return B(L,O,Pu(j),Q);if(j.$$typeof===mt)return B(L,O,Mu(L,j),Q);ku(L,j)}return null}function H(L,O,j,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(j)||null,E(O,L,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return L=L.get(Q.key===null?j:Q.key)||null,C(O,L,Q,ct);case W:return L=L.get(Q.key===null?j:Q.key)||null,z(O,L,Q,ct);case w:return Q=zr(Q),H(L,O,j,Q,ct)}if(Zt(Q)||P(Q))return L=L.get(j)||null,G(O,L,Q,ct,null);if(typeof Q.then=="function")return H(L,O,j,Pu(Q),ct);if(Q.$$typeof===mt)return H(L,O,j,Mu(O,Q),ct);ku(O,Q)}return null}function ot(L,O,j,Q){for(var ct=null,qt=null,lt=O,Ct=O=0,xt=null;lt!==null&&Ct<j.length;Ct++){lt.index>Ct?(xt=lt,lt=null):xt=lt.sibling;var Ht=B(L,lt,j[Ct],Q);if(Ht===null){lt===null&&(lt=xt);break}e&&lt&&Ht.alternate===null&&n(L,lt),O=f(Ht,O,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht,lt=xt}if(Ct===j.length)return s(L,lt),jt&&Xi(L,Ct),ct;if(lt===null){for(;Ct<j.length;Ct++)lt=$(L,j[Ct],Q),lt!==null&&(O=f(lt,O,Ct),qt===null?ct=lt:qt.sibling=lt,qt=lt);return jt&&Xi(L,Ct),ct}for(lt=o(lt);Ct<j.length;Ct++)xt=H(lt,L,Ct,j[Ct],Q),xt!==null&&(e&&xt.alternate!==null&&lt.delete(xt.key===null?Ct:xt.key),O=f(xt,O,Ct),qt===null?ct=xt:qt.sibling=xt,qt=xt);return e&&lt.forEach(function(Js){return n(L,Js)}),jt&&Xi(L,Ct),ct}function dt(L,O,j,Q){if(j==null)throw Error(a(151));for(var ct=null,qt=null,lt=O,Ct=O=0,xt=null,Ht=j.next();lt!==null&&!Ht.done;Ct++,Ht=j.next()){lt.index>Ct?(xt=lt,lt=null):xt=lt.sibling;var Js=B(L,lt,Ht.value,Q);if(Js===null){lt===null&&(lt=xt);break}e&&lt&&Js.alternate===null&&n(L,lt),O=f(Js,O,Ct),qt===null?ct=Js:qt.sibling=Js,qt=Js,lt=xt}if(Ht.done)return s(L,lt),jt&&Xi(L,Ct),ct;if(lt===null){for(;!Ht.done;Ct++,Ht=j.next())Ht=$(L,Ht.value,Q),Ht!==null&&(O=f(Ht,O,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return jt&&Xi(L,Ct),ct}for(lt=o(lt);!Ht.done;Ct++,Ht=j.next())Ht=H(lt,L,Ct,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&lt.delete(Ht.key===null?Ct:Ht.key),O=f(Ht,O,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return e&&lt.forEach(function(CS){return n(L,CS)}),jt&&Xi(L,Ct),ct}function se(L,O,j,Q){if(typeof j=="object"&&j!==null&&j.type===it&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:t:{for(var ct=j.key;O!==null;){if(O.key===ct){if(ct=j.type,ct===it){if(O.tag===7){s(L,O.sibling),Q=h(O,j.props.children),Q.return=L,L=Q;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&zr(ct)===O.type){s(L,O.sibling),Q=h(O,j.props),Xo(Q,j),Q.return=L,L=Q;break t}s(L,O);break}else n(L,O);O=O.sibling}j.type===it?(Q=Ur(j.props.children,L.mode,Q,j.key),Q.return=L,L=Q):(Q=Du(j.type,j.key,j.props,null,L.mode,Q),Xo(Q,j),Q.return=L,L=Q)}return g(L);case W:t:{for(ct=j.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){s(L,O.sibling),Q=h(O,j.children||[]),Q.return=L,L=Q;break t}else{s(L,O);break}else n(L,O);O=O.sibling}Q=Fh(j,L.mode,Q),Q.return=L,L=Q}return g(L);case w:return j=zr(j),se(L,O,j,Q)}if(Zt(j))return ot(L,O,j,Q);if(P(j)){if(ct=P(j),typeof ct!="function")throw Error(a(150));return j=ct.call(j),dt(L,O,j,Q)}if(typeof j.then=="function")return se(L,O,Pu(j),Q);if(j.$$typeof===mt)return se(L,O,Mu(L,j),Q);ku(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(s(L,O.sibling),Q=h(O,j),Q.return=L,L=Q):(s(L,O),Q=Hh(j,L.mode,Q),Q.return=L,L=Q),g(L)):s(L,O)}return function(L,O,j,Q){try{Ko=0;var ct=se(L,O,j,Q);return Ma=null,ct}catch(lt){if(lt===Va||lt===Uu)throw lt;var qt=wn(29,lt,null,L.mode);return qt.lanes=Q,qt.return=L,qt}}}var qr=sp(!0),rp=sp(!1),Us=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ls(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),qg(e,null,s),n}return Cu(e,o,n,s),Nu(e)}function $o(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,So(e,s)}}function rf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function Zo(){if(af){var e=Oa;if(e!==null)throw e}}function Jo(e,n,s,o){af=!1;var h=e.updateQueue;Us=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;g=0,G=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Mt&B)===B:(o&B)===B){B!==0&&B===Da&&(af=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,dt=E;B=n;var se=s;switch(dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){$=ot.call(se,$,B);break t}$=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,B=typeof ot=="function"?ot.call(se,$,B):ot,B==null)break t;$=b({},$,B);break t;case 2:Us=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,C=$):G=G.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),qs|=g,e.lanes=g,e.memoizedState=$}}function ap(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function op(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ap(s[e],n)}var xa=M(null),ju=M(0);function lp(e,n){e=as,nt(ju,e),nt(xa,n),as=e|n.baseLanes}function of(){nt(ju,as),nt(xa,xa.current)}function lf(){as=ju.current,K(xa),K(ju)}var Rn=M(null),qn=null;function ks(e){var n=e.alternate;nt(be,be.current&1),nt(Rn,e),qn===null&&(n===null||xa.current!==null||n.memoizedState!==null)&&(qn=e)}function uf(e){nt(be,be.current),nt(Rn,e),qn===null&&(qn=e)}function up(e){e.tag===22?(nt(be,be.current),nt(Rn,e),qn===null&&(qn=e)):js()}function js(){nt(be,be.current),nt(Rn,Rn.current)}function In(e){K(Rn),qn===e&&(qn=null),K(be)}var be=M(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=0,Rt=null,ne=null,Le=null,Bu=!1,Ua=!1,Hr=!1,qu=0,Wo=0,La=null,_A=0;function ve(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!bn(e[s],n[s]))return!1;return!0}function hf(e,n,s,o,h,f){return Ji=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Qp:Rf,Hr=!1,f=s(o,h),Hr=!1,Ua&&(f=hp(n,s,o,h)),cp(e),f}function cp(e){F.H=nl;var n=ne!==null&&ne.next!==null;if(Ji=0,Le=ne=Rt=null,Bu=!1,Wo=0,La=null,n)throw Error(a(300));e===null||Pe||(e=e.dependencies,e!==null&&Vu(e)&&(Pe=!0))}function hp(e,n,s,o){Rt=e;var h=0;do{if(Ua&&(La=null),Wo=0,Ua=!1,25<=h)throw Error(a(301));if(h+=1,Le=ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Yp,f=n(s,o)}while(Ua);return f}function vA(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?tl(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(Rt.flags|=1024),n}function ff(){var e=qu!==0;return qu=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}Ji=0,Le=ne=Rt=null,Ua=!1,Wo=qu=0,La=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Rt.memoizedState=Le=e:Le=Le.next=e,Le}function we(){if(ne===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=Le===null?Rt.memoizedState:Le.next;if(n!==null)Le=n,ne=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Le===null?Rt.memoizedState=Le=e:Le=Le.next=e}return Le}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var n=Wo;return Wo+=1,La===null&&(La=[]),e=ep(La,e,n),n=Rt,(Le===null?n.memoizedState:Le.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Qp:Rf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===mt)return $e(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function Wi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=we();return pf(n,ne,e)}function pf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Mt&$)===$:(Ji&$)===$){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Da&&(G=!0);else if((Ji&B)===B){z=z.next,B===Da&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=$,g=f):C=C.next=$,Rt.lanes|=B,qs|=B;$=z.action,Hr&&s(f,$),f=z.hasEagerState?z.eagerState:s(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,Rt.lanes|=$,qs|=$;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!bn(f,e.memoizedState)&&(Pe=!0,G&&(s=Oa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function yf(e){var n=we(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);bn(f,n.memoizedState)||(Pe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function fp(e,n,s){var o=Rt,h=we(),f=jt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!bn((ne||h).memoizedState,s);if(g&&(h.memoizedState=s,Pe=!0),h=h.queue,Ef(gp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Le!==null&&Le.memoizedState.tag&1){if(o.flags|=2048,Pa(9,{destroy:void 0},mp.bind(null,o,h,s,n),null),ae===null)throw Error(a(349));f||(Ji&127)!==0||dp(o,n,s)}return s}function dp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Hu(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function mp(e,n,s,o){n.value=s,n.getSnapshot=o,pp(n)&&yp(e)}function gp(e,n,s){return s(function(){pp(n)&&yp(e)})}function pp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!bn(e,s)}catch{return!0}}function yp(e){var n=xr(e,2);n!==null&&En(n,e,2)}function _f(e){var n=hn();if(typeof e=="function"){var s=e;if(e=s(),Hr){un(!0);try{s()}finally{un(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},n}function _p(e,n,s,o){return e.baseState=s,pf(e,ne,typeof o=="function"?o:Wi)}function EA(e,n,s,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,vp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function vp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,o),C=F.S;C!==null&&C(g,E),Ep(e,n,E)}catch(z){vf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),Ep(e,n,f)}catch(z){vf(e,n,z)}}function Ep(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Tp(e,n,o)},function(o){return vf(e,n,o)}):Tp(e,n,s)}function Tp(e,n,s){n.status="fulfilled",n.value=s,Ap(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,vp(e,s)))}function vf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Ap(n),n=n.next;while(n!==o)}e.action=null}function Ap(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Sp(e,n){return n}function bp(e,n){if(jt){var s=ae.formState;if(s!==null){t:{var o=Rt;if(jt){if(fe){e:{for(var h=fe,f=Bn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Hn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){fe=Hn(h.nextSibling),o=h.data==="F!";break t}}Ms(o)}o=!1}o&&(n=s[0])}}return s=hn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:n},s.queue=o,s=Hp.bind(null,Rt,o),o.dispatch=s,o=_f(!1),f=wf.bind(null,Rt,!1,o.queue),o=hn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=EA.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function wp(e){var n=we();return Rp(n,ne,e)}function Rp(e,n,s){if(n=pf(e,n,Sp)[0],e=Gu(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(g){throw g===Va?Uu:g}else o=n;n=we();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Pa(9,{destroy:void 0},TA.bind(null,h,s),null)),[o,f,e]}function TA(e,n){e.action=n}function Ip(e){var n=we(),s=ne;if(s!==null)return Rp(n,s,e);we(),n=n.memoizedState,s=we();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Pa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Hu(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Cp(){return we().memoizedState}function Qu(e,n,s,o){var h=hn();Rt.flags|=e,h.memoizedState=Pa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Yu(e,n,s,o){var h=we();o=o===void 0?null:o;var f=h.memoizedState.inst;ne!==null&&o!==null&&cf(o,ne.memoizedState.deps)?h.memoizedState=Pa(n,f,s,o):(Rt.flags|=e,h.memoizedState=Pa(1|n,f,s,o))}function Np(e,n){Qu(8390656,8,e,n)}function Ef(e,n){Yu(2048,8,e,n)}function AA(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Hu(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Dp(e){var n=we().memoizedState;return AA({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Op(e,n){return Yu(4,2,e,n)}function Vp(e,n){return Yu(4,4,e,n)}function Mp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function xp(e,n,s){s=s!=null?s.concat([e]):null,Yu(4,4,Mp.bind(null,n,e),s)}function Tf(){}function Up(e,n){var s=we();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&cf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Lp(e,n){var s=we();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&cf(n,o[1]))return o[0];if(o=e(),Hr){un(!0);try{e()}finally{un(!1)}}return s.memoizedState=[o,n],o}function Af(e,n,s){return s===void 0||(Ji&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Py(),Rt.lanes|=e,qs|=e,s)}function Pp(e,n,s,o){return bn(s,n)?s:xa.current!==null?(e=Af(e,s,o),bn(e,n)||(Pe=!0),e):(Ji&42)===0||(Ji&1073741824)!==0&&(Mt&261930)===0?(Pe=!0,e.memoizedState=s):(e=Py(),Rt.lanes|=e,qs|=e,n)}function kp(e,n,s,o,h){var f=J.p;J.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,wf(e,!1,n,s);try{var C=h(),z=F.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=yA(C,o);el(e,n,G,Dn(e))}else el(e,n,o,Dn(e))}catch($){el(e,n,{then:function(){},status:"rejected",reason:$},Dn())}finally{J.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function SA(){}function Sf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=jp(e).queue;kp(e,h,n,ut,s===null?SA:function(){return zp(e),s(o)})}function jp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zp(e){var n=jp(e);n.next===null&&(n=e.alternate.memoizedState),el(e,n.next.queue,{},Dn())}function bf(){return $e(_l)}function Bp(){return we().memoizedState}function qp(){return we().memoizedState}function bA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Dn();e=Ls(s);var o=Ps(n,e,s);o!==null&&(En(o,n,s),$o(o,n,s)),n={cache:Jh()},e.payload=n;return}n=n.return}}function wA(e,n,s){var o=Dn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Fp(n,s):(s=Bh(e,n,s,o),s!==null&&(En(s,e,o),Gp(s,n,o)))}function Hp(e,n,s){var o=Dn();el(e,n,s,o)}function el(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Fp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,bn(E,g))return Cu(e,n,h,0),ae===null&&Iu(),!1}catch{}if(s=Bh(e,n,h,o),s!==null)return En(s,e,o),Gp(s,n,o),!0}return!1}function wf(e,n,s,o){if(o={lane:2,revertLane:id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=Bh(e,s,o,2),n!==null&&En(n,e,2)}function Ku(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Fp(e,n){Ua=Bu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Gp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,So(e,s)}}var nl={readContext:$e,use:Fu,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};nl.useEffectEvent=ve;var Qp={readContext:$e,use:Fu,useCallback:function(e,n){return hn().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:Np,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Qu(4194308,4,Mp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var s=hn();n=n===void 0?null:n;var o=e();if(Hr){un(!0);try{e()}finally{un(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=hn();if(s!==void 0){var h=s(n);if(Hr){un(!0);try{s(n)}finally{un(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=wA.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=hn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=Hp.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=hn();return Af(s,e,n)},useTransition:function(){var e=_f(!1);return e=kp.bind(null,Rt,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=hn();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(Mt&127)!==0||dp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Np(gp.bind(null,o,f,e),[e]),o.flags|=2048,Pa(9,{destroy:void 0},mp.bind(null,o,f,s,n),null),s},useId:function(){var e=hn(),n=ae.identifierPrefix;if(jt){var s=Oi,o=Di;s=(o&~(1<<32-Ae(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=_A++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:bf,useFormState:bp,useActionState:bp,useOptimistic:function(e){var n=hn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return hn().memoizedState=bA.bind(null,Rt)},useEffectEvent:function(e){var n=hn(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:$e,use:Fu,useCallback:Up,useContext:$e,useEffect:Ef,useImperativeHandle:xp,useInsertionEffect:Op,useLayoutEffect:Vp,useMemo:Lp,useReducer:Gu,useRef:Cp,useState:function(){return Gu(Wi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=we();return Pp(s,ne.memoizedState,e,n)},useTransition:function(){var e=Gu(Wi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:bf,useFormState:wp,useActionState:wp,useOptimistic:function(e,n){var s=we();return _p(s,ne,e,n)},useMemoCache:gf,useCacheRefresh:qp};Rf.useEffectEvent=Dp;var Yp={readContext:$e,use:Fu,useCallback:Up,useContext:$e,useEffect:Ef,useImperativeHandle:xp,useInsertionEffect:Op,useLayoutEffect:Vp,useMemo:Lp,useReducer:yf,useRef:Cp,useState:function(){return yf(Wi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=we();return ne===null?Af(s,e,n):Pp(s,ne.memoizedState,e,n)},useTransition:function(){var e=yf(Wi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:bf,useFormState:Ip,useActionState:Ip,useOptimistic:function(e,n){var s=we();return ne!==null?_p(s,ne,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:qp};Yp.useEffectEvent=Dp;function If(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Cf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Dn(),h=Ls(o);h.payload=n,s!=null&&(h.callback=s),n=Ps(e,h,o),n!==null&&(En(n,e,o),$o(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Dn(),h=Ls(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ps(e,h,o),n!==null&&(En(n,e,o),$o(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Dn(),o=Ls(s);o.tag=2,n!=null&&(o.callback=n),n=Ps(e,o,s),n!==null&&(En(n,e,s),$o(n,e,s))}};function Kp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!qo(s,o)||!qo(h,f):!0}function Xp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function Fr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function $p(e){Ru(e)}function Zp(e){console.error(e)}function Jp(e){Ru(e)}function Xu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Ls(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(e,n)},s}function ty(e){return e=Ls(e),e.tag=3,e}function ey(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Wp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Wp(n,s,o),typeof h!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function RA(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Na(n,s,h,!0),s=Rn.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?oc():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Lu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),td(e,o,h)),!1;case 22:return s.flags|=65536,o===Lu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),td(e,o,h)),!1}throw Error(a(435,s.tag))}return td(e,o,h),oc(),!1}if(jt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),Go(kn(e,s)))):(o!==Yh&&(n=Error(a(423),{cause:o}),Go(kn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=kn(o,s),h=Nf(e.stateNode,o,h),rf(e,h),Ee!==4&&(Ee=2)),!1;var f=Error(a(520),{cause:o});if(f=kn(f,s),cl===null?cl=[f]:cl.push(f),Ee!==4&&(Ee=2),n===null)return!0;o=kn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,o,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ty(h),ey(h,e,s,o),rf(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),Pe=!1;function Ze(e,n,s,o){n.child=e===null?rp(n,null,s,o):qr(n,e.child,s,o)}function ny(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return kr(n),o=hf(e,n,s,g,f,h),E=ff(),e!==null&&!Pe?(df(e,n,h),ts(e,n,h)):(jt&&E&&Gh(n),n.flags|=1,Ze(e,n,o,h),n.child)}function iy(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,sy(e,n,f,o,h)):(e=Du(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!kf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:qo,s(g,o)&&e.ref===n.ref)return ts(e,n,h)}return n.flags|=1,e=Ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function sy(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(qo(f,o)&&e.ref===n.ref)if(Pe=!1,n.pendingProps=o=f,kf(e,h))(e.flags&131072)!==0&&(Pe=!0);else return n.lanes=e.lanes,ts(e,n,h)}return Of(e,n,s,o,h)}function ry(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ay(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?lp(n,f):of(),up(n);else return o=n.lanes=536870912,ay(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(xu(n,f.cachePool),lp(n,f),js(),n.memoizedState=null):(e!==null&&xu(n,null),of(),js());return Ze(e,n,h,s),n.child}function il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(e,n,s,o,h){var f=tf();return f=f===null?null:{parent:Ue._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&xu(n,null),of(),up(n),e!==null&&Na(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function oy(e,n,s){return qr(n,e.child,null,s),e=$u(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function IA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,il(null,e);if(uf(n),(e=fe)?(e=v_(e,Bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},s=Fg(e),s.return=n,n.child=s,Xe=n,fe=null)):e=null,e===null)throw Ms(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=oy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Pe||Na(e,n,s,!1),h=(s&e.childLanes)!==0,Pe||h){if(o=ae,o!==null&&(g=bo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,xr(e,g),En(o,e,g),Df;oc(),n=oy(e,n,s)}else e=f.treeContext,fe=Hn(g.nextSibling),Xe=n,jt=!0,Vs=null,Bn=!1,e!==null&&Yg(n,e),n=$u(n,o),n.flags|=4096;return n}return e=Ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Of(e,n,s,o,h){return kr(n),s=hf(e,n,s,o,void 0,h),o=ff(),e!==null&&!Pe?(df(e,n,h),ts(e,n,h)):(jt&&o&&Gh(n),n.flags|=1,Ze(e,n,s,h),n.child)}function ly(e,n,s,o,h,f){return kr(n),n.updateQueue=null,s=hp(n,o,s,h),cp(e),o=ff(),e!==null&&!Pe?(df(e,n,f),ts(e,n,f)):(jt&&o&&Gh(n),n.flags|=1,Ze(e,n,s,f),n.child)}function uy(e,n,s,o,h){if(kr(n),n.stateNode===null){var f=wa,g=s.contextType;typeof g=="object"&&g!==null&&(f=$e(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?$e(g):wa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(If(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Fr(s,E);f.props=C;var z=f.context,G=s.contextType;g=wa,typeof G=="object"&&G!==null&&(g=$e(G));var $=s.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Xp(n,f,o,g),Us=!1;var B=n.memoizedState;f.state=B,Jo(n,o,f,h),Zo(),z=n.memoizedState,E||B!==z||Us?(typeof $=="function"&&(If(n,s,$,o),z=n.memoizedState),(C=Us||Kp(n,s,C,o,B,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(e,n),g=n.memoizedProps,G=Fr(s,g),f.props=G,$=n.pendingProps,B=f.context,z=s.contextType,C=wa,typeof z=="object"&&z!==null&&(C=$e(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==C)&&Xp(n,f,o,C),Us=!1,B=n.memoizedState,f.state=B,Jo(n,o,f,h),Zo();var H=n.memoizedState;g!==$||B!==H||Us||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof E=="function"&&(If(n,s,E,o),H=n.memoizedState),(G=Us||Kp(n,s,G,o,B,H,C)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=qr(n,e.child,null,h),n.child=qr(n,null,s,h)):Ze(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ts(e,n,h),e}function cy(e,n,s,o){return Lr(),n.flags|=256,Ze(e,n,s,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Wg()}}function xf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Nn),e}function hy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?ks(n):js(),(e=fe)?(e=v_(e,Bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},s=Fg(e),s.return=n,n.child=s,Xe=n,fe=null)):e=null,e===null)throw Ms(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(js(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Ur(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Mf(s),o.childLanes=xf(e,g,s),n.memoizedState=Vf,il(null,o)):(ks(n),Uf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(js(),n.child=e.child,n.flags|=128,n=null):(js(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Ur(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,qr(n,e.child,null,s),o=n.child,o.memoizedState=Mf(s),o.childLanes=xf(e,g,s),n.memoizedState=Vf,n=il(null,o));else if(ks(n),pd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Go({value:o,source:null,stack:null}),n=Lf(e,n,s)}else if(Pe||Na(e,n,s,!1),g=(s&e.childLanes)!==0,Pe||g){if(g=ae,g!==null&&(o=bo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,xr(e,o),En(g,e,o),Df;gd(E)||oc(),n=Lf(e,n,s)}else gd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,fe=Hn(E.nextSibling),Xe=n,jt=!0,Vs=null,Bn=!1,e!==null&&Yg(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(js(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=Ki(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Ki(z,E):(E=Ur(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Mf(s):(h=E.cachePool,h!==null?(C=Ue._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Wg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=xf(e,g,s),n.memoizedState=Vf,il(e.child,o)):(ks(n),s=e.child,e=s.sibling,s=Ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return qr(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function fy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),$h(e.return,n,s)}function Pf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function dy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=be.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(be,g),Ze(e,n,o,s),o=jt?Fo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fy(e,s,n);else if(e.tag===19)fy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ts(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),qs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Na(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function CA(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),xs(n,Ue,e.memoizedState.cache),Lr();break;case 27:case 5:Es(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:xs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(s&n.child.childLanes)!==0?hy(e,n,s):(ks(n),e=ts(e,n,s),e!==null?e.sibling:null);ks(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Na(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return dy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(be,be.current),o)break;return null;case 22:return n.lanes=0,ry(e,n,s,n.pendingProps);case 24:xs(n,Ue,e.memoizedState.cache)}return ts(e,n,s)}function my(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Pe=!0;else{if(!kf(e,s)&&(n.flags&128)===0)return Pe=!1,CA(e,n,s);Pe=(e.flags&131072)!==0}else Pe=!1,jt&&(n.flags&1048576)!==0&&Qg(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=zr(n.elementType),n.type=e,typeof e=="function")qh(e)?(o=Fr(e,o),n.tag=1,n=uy(null,n,e,o,s)):(n.tag=0,n=Of(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Kt){n.tag=11,n=ny(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=iy(null,n,e,o,s);break t}}throw n=oe(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Fr(o,n.pendingProps),uy(e,n,o,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Jo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,xs(n,Ue,o),o!==f.cache&&Zh(n,[Ue],s,!0),Zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cy(e,n,o,s);break t}else if(o!==h){h=kn(Error(a(424)),n),Go(h),n=cy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,fe=Hn(e.firstChild),Xe=n,jt=!0,Vs=null,Bn=!0,s=rp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Lr(),o===h){n=ts(e,n,s);break t}Ze(e,n,o,s)}n=n.child}return n;case 26:return Zu(e,n),e===null?(s=w_(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,e=n.pendingProps,o=mc(At.current).createElement(s),o[Ve]=n,o[Fe]=e,Je(o,s,e),Me(o),n.stateNode=o):n.memoizedState=w_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Es(n),e===null&&jt&&(o=n.stateNode=A_(n.type,n.pendingProps,At.current),Xe=n,Bn=!0,h=fe,Ys(n.type)?(yd=h,fe=Hn(o.firstChild)):fe=h),Ze(e,n,n.pendingProps.children,s),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=fe)&&(o=sS(o,n.type,n.pendingProps,Bn),o!==null?(n.stateNode=o,Xe=n,fe=Hn(o.firstChild),Bn=!1,h=!0):h=!1),h||Ms(n)),Es(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,fd(h,f)?o=null:g!==null&&fd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,vA,null,null,s),_l._currentValue=h),Zu(e,n),Ze(e,n,o,s),n.child;case 6:return e===null&&jt&&((e=s=fe)&&(s=rS(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Xe=n,fe=null,e=!0):e=!1),e||Ms(n)),null;case 13:return hy(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=qr(n,null,o,s):Ze(e,n,o,s),n.child;case 11:return ny(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,xs(n,n.type,o.value),Ze(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,kr(n),h=$e(h),o=o(h),n.flags|=1,Ze(e,n,o,s),n.child;case 14:return iy(e,n,n.type,n.pendingProps,s);case 15:return sy(e,n,n.type,n.pendingProps,s);case 19:return dy(e,n,s);case 31:return IA(e,n,s);case 22:return ry(e,n,s,n.pendingProps);case 24:return kr(n),o=$e(Ue),e===null?(h=tf(),h===null&&(h=ae,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},nf(n),xs(n,Ue,h)):((e.lanes&s)!==0&&(sf(e,n),Jo(n,null,null,s),Zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),xs(n,Ue,o)):(o=f.cache,xs(n,Ue,o),o!==h.cache&&Zh(n,[Ue],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function es(e){e.flags|=4}function jf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(By())e.flags|=8192;else throw Br=Lu,ef}else e.flags&=-16777217}function gy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!D_(n))if(By())e.flags|=8192;else throw Br=Lu,ef}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Ba|=n)}function sl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function NA(e,n,s){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Zi(Ue),he(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ca(n)?es(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),de(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(es(n),f!==null?(de(n),gy(n,f)):(de(n),jf(n,h,null,o,s))):f?f!==e.memoizedState?(es(n),de(n),gy(n,f)):(de(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&es(n),de(n),jf(n,h,e,o,s)),null;case 27:if(Ts(n),s=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=rt.current,Ca(n)?Kg(n):(e=A_(h,o,s),n.stateNode=e,es(n))}return de(n),null;case 5:if(Ts(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(f=rt.current,Ca(n))Kg(n);else{var g=mc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ve]=n,f[Fe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&es(n)}}return de(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=At.current,Ca(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||h_(e.nodeValue,s)),e||Ms(n,!0)}else e=mc(e).createTextNode(o),e[Ve]=n,n.stateNode=e}return de(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ca(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ve]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),e=!1}else s=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return de(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ca(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ve]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),de(n),null);case 4:return he(),e===null&&od(n.stateNode.containerInfo),de(n),null;case 10:return Zi(n.type),de(n),null;case 19:if(K(be),o=n.memoizedState,o===null)return de(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,sl(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Hg(s,e),s=s.sibling;return nt(be,be.current&1|2),jt&&Xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&U()>sc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return de(n),null}else 2*U()-o.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=U(),e.sibling=null,s=be.current,nt(be,h?s&1|2:s&1),jt&&Xi(n,o.treeForkCount),e):(de(n),null);case 22:case 23:return In(n),lf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(jr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Zi(Ue),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function DA(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Zi(Ue),he(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ts(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Lr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Lr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(be),null;case 4:return he(),null;case 10:return Zi(n.type),null;case 22:case 23:return In(n),lf(),e!==null&&K(jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Zi(Ue),null;case 25:return null;default:return null}}function py(e,n){switch(Qh(n),n.tag){case 3:Zi(Ue),he();break;case 26:case 27:case 5:Ts(n);break;case 4:he();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:K(be);break;case 10:Zi(n.type);break;case 22:case 23:In(n),lf(),e!==null&&K(jr);break;case 24:Zi(Ue)}}function rl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){te(n,n.return,E)}}function zs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(G){te(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){te(n,n.return,G)}}function yy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{op(n,s)}catch(o){te(e,e.return,o)}}}function _y(e,n,s){s.props=Fr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){te(e,n,o)}}function al(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){te(e,n,h)}}function Vi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){te(e,n,h)}else s.current=null}function vy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){te(e,e.return,h)}}function zf(e,n,s){try{var o=e.stateNode;JA(o,e.type,s,n),o[Fe]=n}catch(h){te(e,e.return,h)}}function Ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ys(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Zn));else if(o!==4&&(o===27&&Ys(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function tc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ys(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(tc(e,n,s),e=e.sibling;e!==null;)tc(e,n,s),e=e.sibling}function Ty(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,s),n[Ve]=e,n[Fe]=s}catch(f){te(e,e.return,f)}}var ns=!1,ke=!1,Hf=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function OA(e,n){if(e=e.containerInfo,cd=Tc,e=xg(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,z=0,G=0,$=e,B=null;e:for(;;){for(var H;$!==s||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(C=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===s&&++z===h&&(E=g),B===f&&++G===o&&(C=g),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},Tc=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Fr(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){te(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function Sy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ss(e,s),o&4&&rl(5,s);break;case 1:if(ss(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){te(s,s.return,g)}else{var h=Fr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){te(s,s.return,g)}}o&64&&yy(s),o&512&&al(s,s.return);break;case 3:if(ss(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{op(e,n)}catch(g){te(s,s.return,g)}}break;case 27:n===null&&o&4&&Ty(s);case 26:case 5:ss(e,s),n===null&&o&4&&vy(s),o&512&&al(s,s.return);break;case 12:ss(e,s);break;case 31:ss(e,s),o&4&&Ry(e,s);break;case 13:ss(e,s),o&4&&Iy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=zA.bind(null,s),aS(e,s))));break;case 22:if(o=s.memoizedState!==null||ns,!o){n=n!==null&&n.memoizedState!==null||ke,h=ns;var f=ke;ns=o,(ke=n)&&!f?rs(e,s,(s.subtreeFlags&8772)!==0):ss(e,s),ns=h,ke=f}break;case 30:break;default:ss(e,s)}}function by(e){var n=e.alternate;n!==null&&(e.alternate=null,by(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ha(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,pn=!1;function is(e,n,s){for(s=s.child;s!==null;)wy(e,n,s),s=s.sibling}function wy(e,n,s){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Bt,s)}catch{}switch(s.tag){case 26:ke||Vi(s,n),is(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ke||Vi(s,n);var o=pe,h=pn;Ys(s.type)&&(pe=s.stateNode,pn=!1),is(e,n,s),gl(s.stateNode),pe=o,pn=h;break;case 5:ke||Vi(s,n);case 6:if(o=pe,h=pn,pe=null,is(e,n,s),pe=o,pn=h,pe!==null)if(pn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(f){te(s,n,f)}else try{pe.removeChild(s.stateNode)}catch(f){te(s,n,f)}break;case 18:pe!==null&&(pn?(e=pe,y_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Xa(e)):y_(pe,s.stateNode));break;case 4:o=pe,h=pn,pe=s.stateNode.containerInfo,pn=!0,is(e,n,s),pe=o,pn=h;break;case 0:case 11:case 14:case 15:zs(2,s,n),ke||zs(4,s,n),is(e,n,s);break;case 1:ke||(Vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&_y(s,n,o)),is(e,n,s);break;case 21:is(e,n,s);break;case 22:ke=(o=ke)||s.memoizedState!==null,is(e,n,s),ke=o;break;default:is(e,n,s)}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(s){te(n,n.return,s)}}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(s){te(n,n.return,s)}}function VA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ay),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var s=VA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=BA.bind(null,e,o);o.then(h,h)}})}function yn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){pe=E.stateNode,pn=!1;break t}break;case 5:pe=E.stateNode,pn=!1;break t;case 3:case 4:pe=E.stateNode.containerInfo,pn=!0;break t}E=E.return}if(pe===null)throw Error(a(160));wy(f,g,h),pe=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,e),n=n.sibling}var ii=null;function Cy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(n,e),_n(e),o&4&&(zs(3,e,e.return),rl(3,e),zs(5,e,e.return));break;case 1:yn(n,e),_n(e),o&512&&(ke||s===null||Vi(s,s.return)),o&64&&ns&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ii;if(yn(n,e),_n(e),o&512&&(ke||s===null||Vi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[Ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,s),f[Ve]=e,Me(f),o=f;break t;case"link":var g=C_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;case"meta":if(g=C_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ve]=e,Me(f),o=f}e.stateNode=o}else N_(h,e.type,e.stateNode);else e.stateNode=I_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?N_(h,e.type,e.stateNode):I_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zf(e,e.memoizedProps,s.memoizedProps)}break;case 27:yn(n,e),_n(e),o&512&&(ke||s===null||Vi(s,s.return)),s!==null&&o&4&&zf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(yn(n,e),_n(e),o&512&&(ke||s===null||Vi(s,s.return)),e.flags&32){h=e.stateNode;try{gn(h,"")}catch(ot){te(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(yn(n,e),_n(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){te(e,e.return,ot)}}break;case 3:if(yc=null,h=ii,ii=gc(n.containerInfo),yn(n,e),ii=h,_n(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(ot){te(e,e.return,ot)}Hf&&(Hf=!1,Ny(e));break;case 4:o=ii,ii=gc(e.stateNode.containerInfo),yn(n,e),_n(e),ii=o;break;case 12:yn(n,e),_n(e);break;case 31:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:yn(n,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=U()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=ns,G=ke;if(ns=z||h,ke=G||C,yn(n,e),ke=G,ns=z,_n(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ns||ke||Gr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ot){te(C,C.return,ot)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ot){te(C,C.return,ot)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?__(H,!0):__(C.stateNode,!1)}catch(ot){te(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ec(e,s))));break;case 19:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:yn(n,e),_n(e)}}function _n(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Ey(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);tc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(gn(g,""),s.flags&=-33);var E=Bf(e);tc(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Bf(e);qf(e,z,C);break;default:throw Error(a(161))}}catch(G){te(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ss(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(e,n.alternate,n),n=n.sibling}function Gr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),Gr(n);break;case 1:Vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&_y(n,n.return,s),Gr(n);break;case 27:gl(n.stateNode);case 26:case 5:Vi(n,n.return),Gr(n);break;case 22:n.memoizedState===null&&Gr(n);break;case 30:Gr(n);break;default:Gr(n)}e=e.sibling}}function rs(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:rs(h,f,s),rl(4,f);break;case 1:if(rs(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ap(C[h],E)}catch(z){te(o,o.return,z)}}s&&g&64&&yy(f),al(f,f.return);break;case 27:Ty(f);case 26:case 5:rs(h,f,s),s&&o===null&&g&4&&vy(f),al(f,f.return);break;case 12:rs(h,f,s);break;case 31:rs(h,f,s),s&&g&4&&Ry(h,f);break;case 13:rs(h,f,s),s&&g&4&&Iy(h,f);break;case 22:f.memoizedState===null&&rs(h,f,s),al(f,f.return);break;case 30:break;default:rs(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Qo(s))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e))}function si(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(e,n,s,o),n=n.sibling}function Dy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:si(e,n,s,o),h&2048&&rl(9,n);break;case 1:si(e,n,s,o);break;case 3:si(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){si(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){te(n,n.return,C)}}else si(e,n,s,o);break;case 31:si(e,n,s,o);break;case 13:si(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?si(e,n,s,o):ol(e,n):f._visibility&2?si(e,n,s,o):(f._visibility|=2,ka(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:si(e,n,s,o),h&2048&&Gf(n.alternate,n);break;default:si(e,n,s,o)}}function ka(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,E,C,h),rl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?ka(f,g,E,C,h):ol(f,g):(G._visibility|=2,ka(f,g,E,C,h)),h&&z&2048&&Ff(g.alternate,g);break;case 24:ka(f,g,E,C,h),h&&z&2048&&Gf(g.alternate,g);break;default:ka(f,g,E,C,h)}n=n.sibling}}function ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:ol(s,o),h&2048&&Ff(o.alternate,o);break;case 24:ol(s,o),h&2048&&Gf(o.alternate,o);break;default:ol(s,o)}n=n.sibling}}var ll=8192;function ja(e,n,s){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)Oy(e,n,s),e=e.sibling}function Oy(e,n,s){switch(e.tag){case 26:ja(e,n,s),e.flags&ll&&e.memoizedState!==null&&_S(s,ii,e.memoizedState,e.memoizedProps);break;case 5:ja(e,n,s);break;case 3:case 4:var o=ii;ii=gc(e.stateNode.containerInfo),ja(e,n,s),ii=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,ja(e,n,s),ll=o):ja(e,n,s));break;default:ja(e,n,s)}}function Vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Qe=o,xy(o,e)}Vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)My(e),e=e.sibling}function My(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&zs(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):ul(e);break;default:ul(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Qe=o,xy(o,e)}Vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zs(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function xy(e,n){for(;Qe!==null;){var s=Qe;switch(s.tag){case 0:case 11:case 15:zs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Qe=o;else t:for(s=e;Qe!==null;){o=Qe;var h=o.sibling,f=o.return;if(by(o),o===s){Qe=null;break t}if(h!==null){h.return=f,Qe=h;break t}Qe=f}}}var MA={getCacheForType:function(e){var n=$e(Ue),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return $e(Ue).controller.signal}},xA=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ae=null,Ot=null,Mt=0,Wt=0,Cn=null,Bs=!1,za=!1,Qf=!1,as=0,Ee=0,qs=0,Qr=0,Yf=0,Nn=0,Ba=0,cl=null,vn=null,Kf=!1,ic=0,Uy=0,sc=1/0,rc=null,Hs=null,qe=0,Fs=null,qa=null,os=0,Xf=0,$f=null,Ly=null,hl=0,Zf=null;function Dn(){return(Yt&2)!==0&&Mt!==0?Mt&-Mt:F.T!==null?id():au()}function Py(){if(Nn===0)if((Mt&536870912)===0||jt){var e=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),Nn=e}else Nn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),Nn}function En(e,n,s){(e===ae&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Gs(e,Mt,Nn,!1)),Er(e,s),((Yt&2)===0||e!==ae)&&(e===ae&&((Yt&2)===0&&(Qr|=s),Ee===4&&Gs(e,Mt,Nn,!1)),Mi(e))}function ky(e,n,s){if((Yt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),h=o?PA(e,n):Wf(e,n,!0),f=o;do{if(h===0){za&&!o&&Gs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!UA(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=cl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ha(E,g).flags|=256),g=Wf(E,g,!1),g!==2){if(Qf&&!C){E.errorRecoveryDisabledLanes|=f,Qr|=f,h=4;break t}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ha(e,0),Gs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,Nn,!Bs);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-U(),10<h)){if(Gs(o,n,Nn,!Bs),gi(o,0,!0)!==0)break t;os=n,o.timeoutHandle=g_(jy.bind(null,o,s,vn,rc,Kf,n,Nn,Qr,Ba,Bs,f,"Throttled",-0,0),h);break t}jy(o,s,vn,rc,Kf,n,Nn,Qr,Ba,Bs,f,null,-0,0)}}break}while(!0);Mi(e)}function jy(e,n,s,o,h,f,g,E,C,z,G,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Oy(n,f,$);var ot=(f&62914560)===f?ic-U():(f&4194048)===f?Uy-U():0;if(ot=vS($,ot),ot!==null){os=f,e.cancelPendingCommit=ot(Yy.bind(null,e,n,f,s,o,h,g,E,C,G,$,null,B,H)),Gs(e,f,g,!z);return}}Yy(e,n,f,s,o,h,g,E,C)}function UA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(e,n,s,o){n&=~Yf,n&=~Qr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ae(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Tr(e,s,n)}function ac(){return(Yt&6)===0?(fl(0),!1):!0}function Jf(){if(Ot!==null){if(Wt===0)var e=Ot.return;else e=Ot,$i=Pr=null,mf(e),Ma=null,Ko=0,e=Ot;for(;e!==null;)py(e.alternate,e),e=e.return;Ot=null}}function Ha(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,eS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),os=0,Jf(),ae=e,Ot=s=Ki(e.current,null),Mt=n,Wt=0,Cn=null,Bs=!1,za=Kn(e,n),Qf=!1,Ba=Nn=Yf=Qr=qs=Ee=0,vn=cl=null,Kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ae(o),f=1<<h;n|=e[h],o&=~f}return as=n,Iu(),s}function zy(e,n){Rt=null,F.H=nl,n===Va||n===Uu?(n=np(),Wt=3):n===ef?(n=np(),Wt=4):Wt=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Ot===null&&(Ee=1,Xu(e,kn(n,e.current)))}function By(){var e=Rn.current;return e===null?!0:(Mt&4194048)===Mt?qn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===qn:!1}function qy(){var e=F.H;return F.H=nl,e===null?nl:e}function Hy(){var e=F.A;return F.A=MA,e}function oc(){Ee=4,Bs||(Mt&4194048)!==Mt&&Rn.current!==null||(za=!0),(qs&134217727)===0&&(Qr&134217727)===0||ae===null||Gs(ae,Mt,Nn,!1)}function Wf(e,n,s){var o=Yt;Yt|=2;var h=qy(),f=Hy();(ae!==e||Mt!==n)&&(rc=null,Ha(e,n)),n=!1;var g=Ee;t:do try{if(Wt!==0&&Ot!==null){var E=Ot,C=Cn;switch(Wt){case 8:Jf(),g=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=Wt;if(Wt=0,Cn=null,Fa(e,E,C,z),s&&za){g=0;break t}break;default:z=Wt,Wt=0,Cn=null,Fa(e,E,C,z)}}LA(),g=Ee;break}catch(G){zy(e,G)}while(!0);return n&&e.shellSuspendCounter++,$i=Pr=null,Yt=o,F.H=h,F.A=f,Ot===null&&(ae=null,Mt=0,Iu()),g}function LA(){for(;Ot!==null;)Fy(Ot)}function PA(e,n){var s=Yt;Yt|=2;var o=qy(),h=Hy();ae!==e||Mt!==n?(rc=null,sc=U()+500,Ha(e,n)):za=Kn(e,n);t:do try{if(Wt!==0&&Ot!==null){n=Ot;var f=Cn;e:switch(Wt){case 1:Wt=0,Cn=null,Fa(e,n,f,1);break;case 2:case 9:if(tp(f)){Wt=0,Cn=null,Gy(n);break}n=function(){Wt!==2&&Wt!==9||ae!==e||(Wt=7),Mi(e)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:tp(f)?(Wt=0,Cn=null,Gy(n)):(Wt=0,Cn=null,Fa(e,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var E=Ot;if(g?D_(g):E.stateNode.complete){Wt=0,Cn=null;var C=E.sibling;if(C!==null)Ot=C;else{var z=E.return;z!==null?(Ot=z,lc(z)):Ot=null}break e}}Wt=0,Cn=null,Fa(e,n,f,5);break;case 6:Wt=0,Cn=null,Fa(e,n,f,6);break;case 8:Jf(),Ee=6;break t;default:throw Error(a(462))}}kA();break}catch(G){zy(e,G)}while(!0);return $i=Pr=null,F.H=o,F.A=h,Yt=s,Ot!==null?0:(ae=null,Mt=0,Iu(),Ee)}function kA(){for(;Ot!==null&&!Ao();)Fy(Ot)}function Fy(e){var n=my(e.alternate,e,as);e.memoizedProps=e.pendingProps,n===null?lc(e):Ot=n}function Gy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ly(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=ly(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:mf(n);default:py(s,n),n=Ot=Hg(n,as),n=my(s,n,as)}e.memoizedProps=e.pendingProps,n===null?lc(e):Ot=n}function Fa(e,n,s,o){$i=Pr=null,mf(n),Ma=null,Ko=0;var h=n.return;try{if(RA(e,h,n,s,Mt)){Ee=1,Xu(e,kn(s,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;Ee=1,Xu(e,kn(s,e.current)),Ot=null;return}n.flags&32768?(jt||o===1?e=!0:za||(Mt&536870912)!==0?e=!1:(Bs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Qy(n,Bs);return}e=n.return;var s=NA(n.alternate,n,as);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);Ee===0&&(Ee=5)}function Qy(e,n){do{var s=DA(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);Ee=6,Ot=null}function Yy(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do uc();while(qe!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,Oh(e,s,f,g,E,C),e===ae&&(Ot=ae=null,Mt=0),qa=n,Fs=e,os=s,Xf=f,$f=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,qA(Gt,function(){return Jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=J.p,J.p=2,g=Yt,Yt|=4;try{OA(e,n,s)}finally{Yt=g,J.p=h,F.T=o}}qe=1,Ky(),Xy(),$y()}}function Ky(){if(qe===1){qe=0;var e=Fs,n=qa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=J.p;J.p=2;var h=Yt;Yt|=4;try{Cy(n,e);var f=hd,g=xg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Mg(E.ownerDocument.documentElement,E)){if(C!==null&&Uh(E)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ot=E.textContent.length,dt=Math.min(C.start,ot),se=C.end===void 0?dt:Math.min(C.end,ot);!H.extend&&dt>se&&(g=se,se=dt,dt=g);var L=Vg(E,dt),O=Vg(E,se);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=$.createRange();j.setStart(L.node,L.offset),H.removeAllRanges(),dt>se?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Q=$[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!cd,hd=cd=null}finally{Yt=h,J.p=o,F.T=s}}e.current=n,qe=2}}function Xy(){if(qe===2){qe=0;var e=Fs,n=qa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=J.p;J.p=2;var h=Yt;Yt|=4;try{Sy(e,n.alternate,n)}finally{Yt=h,J.p=o,F.T=s}}qe=3}}function $y(){if(qe===4||qe===3){qe=0,la();var e=Fs,n=qa,s=os,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,qa=Fs=null,Zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Hs=null),Fi(s),n=n.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Bt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=J.p,J.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,J.p=h}}(os&3)!==0&&uc(),Mi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Zf?hl++:(hl=0,Zf=e):hl=0,fl(0)}}function Zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qo(n)))}function uc(){return Ky(),Xy(),$y(),Jy()}function Jy(){if(qe!==5)return!1;var e=Fs,n=Xf;Xf=0;var s=Fi(os),o=F.T,h=J.p;try{J.p=32>s?32:s,F.T=null,s=$f,$f=null;var f=Fs,g=os;if(qe=0,qa=Fs=null,os=0,(Yt&6)!==0)throw Error(a(331));var E=Yt;if(Yt|=4,My(f.current),Dy(f,f.current,g,s),Yt=E,fl(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Bt,f)}catch{}return!0}finally{J.p=h,F.T=o,Zy(e,n)}}function Wy(e,n,s){n=kn(s,n),n=Nf(e.stateNode,n,2),e=Ps(e,n,2),e!==null&&(Er(e,2),Mi(e))}function te(e,n,s){if(e.tag===3)Wy(e,e,s);else for(;n!==null;){if(n.tag===3){Wy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hs===null||!Hs.has(o))){e=kn(s,e),s=ty(2),o=Ps(n,s,2),o!==null&&(ey(s,o,n,e),Er(o,2),Mi(o));break}}n=n.return}}function td(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new xA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=jA.bind(null,e,n,s),n.then(e,e))}function jA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ae===e&&(Mt&s)===s&&(Ee===4||Ee===3&&(Mt&62914560)===Mt&&300>U()-ic?(Yt&2)===0&&Ha(e,0):Yf|=s,Ba===Mt&&(Ba=0)),Mi(e)}function t_(e,n){n===0&&(n=ru()),e=xr(e,n),e!==null&&(Er(e,n),Mi(e))}function zA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),t_(e,s)}function BA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),t_(e,s)}function qA(e,n){return Te(e,n)}var cc=null,Ga=null,ed=!1,hc=!1,nd=!1,Qs=0;function Mi(e){e!==Ga&&e.next===null&&(Ga===null?cc=Ga=e:Ga=Ga.next=e),hc=!0,ed||(ed=!0,FA())}function fl(e,n){if(!nd&&hc){nd=!0;do for(var s=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ae(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,s_(o,f))}else f=Mt,f=gi(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kn(o,f)||(s=!0,s_(o,f));o=o.next}while(s);nd=!1}}function HA(){e_()}function e_(){hc=ed=!1;var e=0;Qs!==0&&tS()&&(e=Qs);for(var n=U(),s=null,o=cc;o!==null;){var h=o.next,f=n_(o,n);f===0?(o.next=null,s===null?cc=h:s.next=h,h===null&&(Ga=s)):(s=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}qe!==0&&qe!==5||fl(e),Qs!==0&&(Qs=0)}function n_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ae(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Dh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=ae,s=Mt,s=gi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&fi(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Kn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&fi(o),Fi(s)){case 2:case 8:s=le;break;case 32:s=Gt;break;case 268435456:s=dn;break;default:s=Gt}return o=i_.bind(null,e),s=Te(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&fi(o),e.callbackPriority=2,e.callbackNode=null,2}function i_(e,n){if(qe!==0&&qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uc()&&e.callbackNode!==s)return null;var o=Mt;return o=gi(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ky(e,o,n),n_(e,U()),e.callbackNode!=null&&e.callbackNode===s?i_.bind(null,e):null)}function s_(e,n){if(uc())return null;ky(e,n,!0)}function FA(){nS(function(){(Yt&6)!==0?Te(Et,HA):e_()})}function id(){if(Qs===0){var e=Da;e===0&&(e=di,di<<=1,(di&261888)===0&&(di=256)),Qs=e}return Qs}function r_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function a_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function GA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=r_((h[Fe]||null).action),g=o.submitter;g&&(n=(n=g[Fe]||null)?r_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ri("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var C=g?a_(h,g):new FormData(h);Sf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?a_(h,g):new FormData(h),Sf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var sd=0;sd<jh.length;sd++){var rd=jh[sd],QA=rd.toLowerCase(),YA=rd[0].toUpperCase()+rd.slice(1);ni(QA,"on"+YA)}ni(Pg,"onAnimationEnd"),ni(kg,"onAnimationIteration"),ni(jg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(uA,"onTransitionRun"),ni(cA,"onTransitionStart"),ni(hA,"onTransitionCancel"),ni(zg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function o_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=C}}}}function Vt(e,n){var s=n[ca];s===void 0&&(s=n[ca]=new Set);var o=e+"__bubble";s.has(o)||(l_(n,e,2,!1),s.add(o))}function ad(e,n,s){var o=0;n&&(o|=4),l_(s,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[fc]){e[fc]=!0,wo.forEach(function(s){s!=="selectionchange"&&(KA.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,ad("selectionchange",!1,n))}}function l_(e,n,s,o){switch(P_(n)){case 2:var h=AS;break;case 8:h=SS;break;default:h=Ad}s=h.bind(null,n,s,e),h=void 0,!Rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ld(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=vi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Is(function(){var z=f,G=xn(s),$=[];t:{var B=Bg.get(e);if(B!==void 0){var H=Ri,ot=e;switch(e){case"keypress":if(Cr(s)===0)break t;case"keydown":case"keyup":H=Su;break;case"focusin":ot="focus",H=Dr;break;case"focusout":ot="blur",H=Dr;break;case"beforeblur":case"afterblur":H=Dr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Pg:case kg:case jg:H=pu;break;case zg:H=T;break;case"scroll":case"scrollend":H=Po;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Yi;break;case"toggle":case"beforetoggle":H=wt}var dt=(n&4)!==0,se=!dt&&(e==="scroll"||e==="scrollend"),L=dt?B!==null?B+"Capture":null:B;dt=[];for(var O=z,j;O!==null;){var Q=O;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||L===null||(Q=Jn(O,L),Q!=null&&dt.push(ml(O,Q,j))),se)break;O=O.return}0<dt.length&&(B=new H(B,ot,null,s,G),$.push({event:B,listeners:dt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==xo&&(ot=s.relatedTarget||s.fromElement)&&(vi(ot)||ot[yi]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ot=s.relatedTarget||s.toElement,H=z,ot=ot?vi(ot):null,ot!==null&&(se=c(ot),dt=ot.tag,ot!==se||dt!==5&&dt!==27&&dt!==6)&&(ot=null)):(H=null,ot=z),H!==ot)){if(dt=ko,Q="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Yi,Q="onPointerLeave",L="onPointerEnter",O="pointer"),se=H==null?B:An(H),j=ot==null?B:An(ot),B=new dt(Q,O+"leave",H,s,G),B.target=se,B.relatedTarget=j,Q=null,vi(G)===z&&(dt=new dt(L,O+"enter",ot,s,G),dt.target=j,dt.relatedTarget=se,Q=dt),se=Q,H&&ot)e:{for(dt=XA,L=H,O=ot,j=0,Q=L;Q;Q=dt(Q))j++;Q=0;for(var ct=O;ct;ct=dt(ct))Q++;for(;0<j-Q;)L=dt(L),j--;for(;0<Q-j;)O=dt(O),Q--;for(;j--;){if(L===O||O!==null&&L===O.alternate){dt=L;break e}L=dt(L),O=dt(O)}dt=null}else dt=null;H!==null&&u_($,B,H,dt,!1),ot!==null&&se!==null&&u_($,se,ot,dt,!0)}}t:{if(B=z?An(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var qt=Rg;else if(bg(B))if(Ig)qt=aA;else{qt=sA;var lt=iA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ma(z.elementType)&&(qt=Rg):qt=rA;if(qt&&(qt=qt(e,z))){wg($,qt,s,G);break t}lt&&lt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Oo(B,"number",B.value)}switch(lt=z?An(z):window,e){case"focusin":(bg(lt)||lt.contentEditable==="true")&&(Aa=lt,Lh=z,Ho=null);break;case"focusout":Ho=Lh=Aa=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Ug($,s,G);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":Ug($,s,G)}var Ct;if(Qt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else Ta?Or(e,s)&&(xt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(xt="onCompositionStart");xt&&(Ni&&s.locale!=="ko"&&(Ta||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Ta&&(Ct=Lo()):(wi=G,Uo="value"in wi?wi.value:wi.textContent,Ta=!0)),lt=dc(z,xt),0<lt.length&&(xt=new Ci(xt,e,null,s,G),$.push({event:xt,listeners:lt}),Ct?xt.data=Ct:(Ct=Ea(s),Ct!==null&&(xt.data=Ct)))),(Ct=Ln?W0(e,s):tA(e,s))&&(xt=dc(z,"onBeforeInput"),0<xt.length&&(lt=new Ci("onBeforeInput","beforeinput",null,s,G),$.push({event:lt,listeners:xt}),lt.data=Ct)),GA($,e,z,s,G)}o_($,n)})}function ml(e,n,s){return{instance:e,listener:n,currentTarget:s}}function dc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jn(e,s),h!=null&&o.unshift(ml(e,h,f)),h=Jn(e,n),h!=null&&o.push(ml(e,h,f))),e.tag===3)return o;e=e.return}return[]}function XA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Jn(s,f),z!=null&&g.unshift(ml(s,z,C))):h||(z=Jn(s,f),z!=null&&g.push(ml(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var $A=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function c_(e){return(typeof e=="string"?e:""+e).replace($A,`
`).replace(ZA,"")}function h_(e,n){return n=c_(n),c_(e)===n}function ie(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(e,""+o);break;case"className":Sn(e,"class",o);break;case"tabIndex":Sn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(e,s,o);break;case"style":Mo(e,o,f);break;case"data":if(n!=="object"){Sn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ga(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ie(e,n,"name",h.name,h,null),ie(e,n,"formEncType",h.formEncType,h,null),ie(e,n,"formMethod",h.formMethod,h,null),ie(e,n,"formTarget",h.formTarget,h,null)):(ie(e,n,"encType",h.encType,h,null),ie(e,n,"method",h.method,h,null),ie(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ga(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ga(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),fa(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,fa(e,s,o))}}function ud(e,n,s,o,h,f){switch(s){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Fe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):fa(e,s,o)}}}function Je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,f,g,s,null)}}h&&ie(e,n,"srcSet",s.srcSet,s,null),o&&ie(e,n,"src",s.src,s,null);return;case"input":Vt("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ie(e,n,o,G,s,null)}}cu(e,f,E,C,z,g,h,!1);return;case"select":Vt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ie(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Ss(e,!!o,n,!1):s!=null&&Ss(e,!!o,s,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ie(e,n,g,E,s,null)}bs(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ie(e,n,C,o,s,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<dl.length;o++)Vt(dl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,z,o,s,null)}return;default:if(ma(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&ud(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ie(e,n,E,o,s,null))}function JA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,G=null;for(H in s){var $=s[H];if(s.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||ie(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=s[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&ie(e,n,B,H,o,$)}}da(e,g,E,C,z,G,f,h);return;case"select":H=g=E=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ie(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ie(e,n,h,f,o,C)}n=E,s=g,o=H,B!=null?Ss(e,!!s,B,!1):!!o!=!!s&&(n!=null?Ss(e,!!s,n,!0):Ss(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ie(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ie(e,n,g,h,o,f)}hu(e,B,H);return;case"option":for(var ot in s)B=s[ot],s.hasOwnProperty(ot)&&B!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:ie(e,n,ot,null,o,B));for(C in o)B=o[C],H=s[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":ie(e,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)B=s[dt],s.hasOwnProperty(dt)&&B!=null&&!o.hasOwnProperty(dt)&&ie(e,n,dt,null,o,B);for(z in o)if(B=o[z],H=s[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ie(e,n,z,B,o,H)}return;default:if(ma(n)){for(var se in s)B=s[se],s.hasOwnProperty(se)&&B!==void 0&&!o.hasOwnProperty(se)&&ud(e,n,se,void 0,o,B);for(G in o)B=o[G],H=s[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||ud(e,n,G,B,o,H);return}}for(var L in s)B=s[L],s.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&ie(e,n,L,null,o,B);for($ in o)B=o[$],H=s[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||ie(e,n,$,B,o,H)}function f_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&f_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var G=C.transferSize,$=C.initiatorType;G&&f_($)&&(C=C.responseEnd,g+=G*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function d_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function tS(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,eS=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,nS=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(e){return p_.resolve(null).then(e).catch(iS)}:g_;function iS(e){setTimeout(function(){throw e})}function Ys(e){return e==="head"}function y_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")gl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,gl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[_i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&gl(e.ownerDocument.body);s=h}while(s);Xa(n)}function __(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function sS(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[_i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function rS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Hn(e.nextSibling),e===null))return null;return e}function v_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function aS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function E_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Hn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function T_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function A_(e,n,s){switch(n=mc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ha(e)}var Fn=new Map,S_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=J.d;J.d={f:oS,r:lS,D:uS,C:cS,L:hS,m:fS,X:mS,S:dS,M:gS};function oS(){var e=ls.f(),n=ac();return e||n}function lS(e){var n=Mn(e);n!==null&&n.tag===5&&n.type==="form"?zp(n):ls.r(e)}var Qa=typeof document>"u"?null:document;function b_(e,n,s){var o=Qa;if(o&&typeof n=="string"&&n){var h=mn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),S_.has(h)||(S_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Me(n),o.head.appendChild(n)))}}function uS(e){ls.D(e),b_("dns-prefetch",e,null)}function cS(e,n){ls.C(e,n),b_("preconnect",e,n)}function hS(e,n,s){ls.L(e,n,s);var o=Qa;if(o&&e&&n){var h='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+mn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+mn(s.imageSizes)+'"]')):h+='[href="'+mn(e)+'"]';var f=h;switch(n){case"style":f=Ya(e);break;case"script":f=Ka(e)}Fn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Fn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),Je(n,"link",e),Me(n),o.head.appendChild(n)))}}function fS(e,n){ls.m(e,n);var s=Qa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(e)}if(!Fn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Fn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yl(f)))return}o=s.createElement("link"),Je(o,"link",e),Me(o),s.head.appendChild(o)}}}function dS(e,n,s){ls.S(e,n,s);var o=Qa;if(o&&e){var h=Ei(o).hoistableStyles,f=Ya(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(pl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Fn.get(f))&&_d(e,s);var C=g=o.createElement("link");Me(C),Je(C,"link",e),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function mS(e,n){ls.X(e,n);var s=Qa;if(s&&e){var o=Ei(s).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=b({src:e,async:!0},n),(n=Fn.get(h))&&vd(e,n),f=s.createElement("script"),Me(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function gS(e,n){ls.M(e,n);var s=Qa;if(s&&e){var o=Ei(s).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Fn.get(h))&&vd(e,n),f=s.createElement("script"),Me(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w_(e,n,s,o){var h=(h=At.current)?gc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ya(s.href),s=Ei(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ya(s.href);var f=Ei(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(pl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Fn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Fn.set(e,s),f||pS(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ka(s),s=Ei(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ya(e){return'href="'+mn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function R_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function pS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",s),Me(n),e.head.appendChild(n))}function Ka(e){return'[src="'+mn(e)+'"]'}function yl(e){return"script[async]"+e}function I_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+mn(s.href)+'"]');if(o)return n.instance=o,Me(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Me(o),Je(o,"style",h),pc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ya(s.href);var f=e.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,Me(f),f;o=R_(s),(h=Fn.get(h))&&_d(o,h),f=(e.ownerDocument||e).createElement("link"),Me(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Je(f,"link",o),n.state.loading|=4,pc(f,s.precedence,e),n.instance=f;case"script":return f=Ka(s.src),(h=e.querySelector(yl(f)))?(n.instance=h,Me(h),h):(o=s,(h=Fn.get(f))&&(o=b({},s),vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Me(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,s.precedence,e));return n.instance}function pc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function C_(e,n,s){if(yc===null){var o=new Map,h=yc=new Map;h.set(s,o)}else h=yc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[_i]||f[Ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function N_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function yS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function D_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _S(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ya(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Me(f);return}f=n.ownerDocument||n,o=R_(o),(h=Fn.get(h))&&_d(o,h),f=f.createElement("link"),Me(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Je(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=_c.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function vS(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*WA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(ES,e),vc=null,_c.call(e))}function ES(e,n){if(!(n.state.loading&4)){var s=vc.get(e);if(s)var o=s.get(null);else{s=new Map,vc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function TS(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function O_(e,n,s,o,h,f,g,E,C,z,G,$){return e=new TS(e,n,s,g,C,z,G,$,E),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},nf(f),e}function V_(e){return e?(e=wa,e):wa}function M_(e,n,s,o,h,f){h=V_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ps(e,o,n),s!==null&&(En(s,e,n),$o(s,e,n))}function x_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){x_(e,n),(e=e.alternate)&&x_(e,n)}function U_(e){if(e.tag===13||e.tag===31){var n=xr(e,67108864);n!==null&&En(n,e,67108864),Td(e,67108864)}}function L_(e){if(e.tag===13||e.tag===31){var n=Dn();n=Ar(n);var s=xr(e,n);s!==null&&En(s,e,n),Td(e,n)}}var Tc=!0;function AS(e,n,s,o){var h=F.T;F.T=null;var f=J.p;try{J.p=2,Ad(e,n,s,o)}finally{J.p=f,F.T=h}}function SS(e,n,s,o){var h=F.T;F.T=null;var f=J.p;try{J.p=8,Ad(e,n,s,o)}finally{J.p=f,F.T=h}}function Ad(e,n,s,o){if(Tc){var h=Sd(o);if(h===null)ld(e,n,o,Ac,s),k_(e,o);else if(wS(h,e,n,s,o))o.stopPropagation();else if(k_(e,o),n&4&&-1<bS.indexOf(e)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=mi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-Ae(g);E.entanglements[1]|=C,g&=~C}Mi(f),(Yt&6)===0&&(sc=U()+500,fl(0))}}break;case 31:case 13:E=xr(f,2),E!==null&&En(E,f,2),ac(),Td(f,2)}if(f=Sd(o),f===null&&ld(e,n,o,Ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ld(e,n,o,null,s)}}function Sd(e){return e=xn(e),bd(e)}var Ac=null;function bd(e){if(Ac=null,e=vi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function P_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case Et:return 2;case le:return 8;case Gt:case ln:return 32;case dn:return 268435456;default:return 32}default:return 32}}var wd=!1,Ks=null,Xs=null,$s=null,vl=new Map,El=new Map,Zs=[],bS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(e,n){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&U_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function wS(e,n,s,o,h){switch(n){case"focusin":return Ks=Tl(Ks,e,n,s,o,h),!0;case"dragenter":return Xs=Tl(Xs,e,n,s,o,h),!0;case"mouseover":return $s=Tl($s,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,e,n,s,o,h)),!0}return!1}function j_(e){var n=vi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Xn(e.priority,function(){L_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Xn(e.priority,function(){L_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);xo=o,s.target.dispatchEvent(o),xo=null}else return n=Mn(s),n!==null&&U_(n),e.blockedOn=s,!1;n.shift()}return!0}function z_(e,n,s){Sc(e)&&s.delete(n)}function RS(){wd=!1,Ks!==null&&Sc(Ks)&&(Ks=null),Xs!==null&&Sc(Xs)&&(Xs=null),$s!==null&&Sc($s)&&($s=null),vl.forEach(z_),El.forEach(z_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RS)))}var wc=null;function B_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(bd(o||s)===null)continue;break}var f=Mn(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Xa(e){function n(C){return bc(C,e)}Ks!==null&&bc(Ks,e),Xs!==null&&bc(Xs,e),$s!==null&&bc($s,e),vl.forEach(n),El.forEach(n);for(var s=0;s<Zs.length;s++){var o=Zs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Zs.length&&(s=Zs[0],s.blockedOn===null);)j_(s),s.blockedOn===null&&Zs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Fe]||null;if(typeof f=="function")g||B_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Fe]||null)E=g.formAction;else if(bd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),B_(s)}}}function q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}Rc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Dn();M_(s,o,e,n,null,null)},Rc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;M_(e.current,2,null,e,null,null),ac(),n[yi]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Zs.length&&n!==0&&n<Zs[s].priority;s++);Zs.splice(s,0,e),s===0&&j_(e)}};var H_=t.version;if(H_!=="19.2.3")throw Error(a(527,H_,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var IS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Bt=Ic.inject(IS),De=Ic}catch{}}return Sl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=$p,f=Zp,g=Jp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=O_(e,1,!1,null,null,s,o,null,h,f,g,q_),e[yi]=n.current,od(e),new Rd(n)},Sl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=$p,g=Zp,E=Jp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=O_(e,1,!0,n,s??null,o,h,C,f,g,E,q_),n.context=V_(null),s=n.current,o=Dn(),o=Ar(o),h=Ls(o),h.callback=null,Ps(s,h,o),s=o,n.current.lanes=s,Er(n,s),Mi(n),e[yi]=n.current,od(e),new Rc(n)},Sl.version="19.2.3",Sl}var W_;function PS(){if(W_)return Nd.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=LS(),Nd.exports}var kS=PS();const jS=()=>{};var tv={};const OE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},zS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,v=y?r[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let V=(p&15)<<2|v>>6,Y=v&63;y||(Y=64,d||(V=64)),a.push(i[A],i[b],i[V],i[Y])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(OE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):zS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||v==null||b==null)throw new BS;const V=c<<2|p>>4;if(a.push(V),v!==64){const Y=p<<4&240|v>>2;if(a.push(Y),b!==64){const W=v<<6&192|b;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qS=function(r){const t=OE(r);return VE.encodeByteArray(t,!0)},Gc=function(r){return qS(r).replace(/\./g,"")},ME=function(r){try{return VE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function HS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const FS=()=>HS().__FIREBASE_DEFAULTS__,GS=()=>{if(typeof process>"u"||typeof tv>"u")return;const r=tv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},QS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&ME(r[1]);return t&&JSON.parse(t)},ch=()=>{try{return jS()||FS()||GS()||QS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},xE=r=>ch()?.emulatorHosts?.[r],YS=r=>{const t=xE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},UE=()=>ch()?.config,LE=r=>ch()?.[`_${r}`];class KS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PE(r){return(await fetch(r,{credentials:"include"})).ok}function XS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Dl={};function $S(){const r={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?r.emulator.push(t):r.prod.push(t);return r}function ZS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let ev=!1;function kE(r,t){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Dl[r]===t||Dl[r]||ev)return;Dl[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=$S().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,Y){V.setAttribute("width","24"),V.setAttribute("id",Y),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{ev=!0,d()},V}function A(V,Y){V.setAttribute("id",Y),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=ZS(a),Y=i("text"),W=document.getElementById(Y)||document.createElement("span"),it=i("learnmore"),tt=document.getElementById(it)||document.createElement("a"),ft=i("preprendIcon"),vt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const mt=V.element;p(mt),A(tt,it);const Kt=v();y(vt,ft),mt.append(vt,W,tt,Kt),document.body.appendChild(mt)}c?(W.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function WS(){const r=ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function n1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i1(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function s1(){return!WS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r1(){try{return typeof indexedDB=="object"}catch{return!1}}function a1(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const o1="FirebaseError";class _s extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=o1,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?l1(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new _s(l,p,a)}}function l1(r,t){return r.replace(u1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const u1=/\{\$([^}]+)}/g;function c1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Wr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(nv(c)&&nv(d)){if(!Wr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function nv(r){return r!==null&&typeof r=="object"}function Kl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function h1(r,t){const i=new f1(r,t);return i.subscribe.bind(i)}class f1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");d1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d1(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}function fn(r){return r&&r._delegate?r._delegate:r}class ta{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Yr="[DEFAULT]";class m1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new KS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(p1(t))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Yr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yr){return this.instances.has(t)}getOptions(t=Yr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:g1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Yr){return this.component?this.component.multipleInstances?t:Yr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g1(r){return r===Yr?void 0:r}function p1(r){return r.instantiationMode==="EAGER"}class y1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new m1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const _1={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},v1=Ut.INFO,E1={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},T1=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=E1[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=v1,this._logHandler=T1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const A1=(r,t)=>t.some(i=>r instanceof i);let iv,sv;function S1(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b1(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,$d=new WeakMap,zE=new WeakMap,xd=new WeakMap,Am=new WeakMap;function w1(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(sr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&jE.set(i,r)}).catch(()=>{}),Am.set(t,r),t}function R1(r){if($d.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,t)}let Zd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return $d.get(r);if(t==="objectStoreNames")return r.objectStoreNames||zE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function I1(r){Zd=r(Zd)}function C1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return zE.set(a,t.sort?t.sort():[t]),sr(a)}:b1().includes(r)?function(...t){return r.apply(Ud(this),t),sr(jE.get(this))}:function(...t){return sr(r.apply(Ud(this),t))}}function N1(r){return typeof r=="function"?C1(r):(r instanceof IDBTransaction&&R1(r),A1(r,S1())?new Proxy(r,Zd):r)}function sr(r){if(r instanceof IDBRequest)return w1(r);if(xd.has(r))return xd.get(r);const t=N1(r);return t!==r&&(xd.set(r,t),Am.set(t,r)),t}const Ud=r=>Am.get(r);function D1(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=sr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(sr(d.result),y.oldVersion,y.newVersion,sr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const O1=["get","getKey","getAll","getAllKeys","count"],V1=["put","add","delete","clear"],Ld=new Map;function rv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=V1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||O1.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&y.done]))[0]};return Ld.set(t,c),c}I1(r=>({...r,get:(t,i,a)=>rv(t,i)||r.get(t,i,a),has:(t,i)=>!!rv(t,i)||r.has(t,i)}));class M1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(x1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function x1(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",av="0.14.6";const ms=new Tm("@firebase/app"),U1="@firebase/app-compat",L1="@firebase/analytics-compat",P1="@firebase/analytics",k1="@firebase/app-check-compat",j1="@firebase/app-check",z1="@firebase/auth",B1="@firebase/auth-compat",q1="@firebase/database",H1="@firebase/data-connect",F1="@firebase/database-compat",G1="@firebase/functions",Q1="@firebase/functions-compat",Y1="@firebase/installations",K1="@firebase/installations-compat",X1="@firebase/messaging",$1="@firebase/messaging-compat",Z1="@firebase/performance",J1="@firebase/performance-compat",W1="@firebase/remote-config",tb="@firebase/remote-config-compat",eb="@firebase/storage",nb="@firebase/storage-compat",ib="@firebase/firestore",sb="@firebase/ai",rb="@firebase/firestore-compat",ab="firebase",ob="12.6.0";const Wd="[DEFAULT]",lb={[Jd]:"fire-core",[U1]:"fire-core-compat",[P1]:"fire-analytics",[L1]:"fire-analytics-compat",[j1]:"fire-app-check",[k1]:"fire-app-check-compat",[z1]:"fire-auth",[B1]:"fire-auth-compat",[q1]:"fire-rtdb",[H1]:"fire-data-connect",[F1]:"fire-rtdb-compat",[G1]:"fire-fn",[Q1]:"fire-fn-compat",[Y1]:"fire-iid",[K1]:"fire-iid-compat",[X1]:"fire-fcm",[$1]:"fire-fcm-compat",[Z1]:"fire-perf",[J1]:"fire-perf-compat",[W1]:"fire-rc",[tb]:"fire-rc-compat",[eb]:"fire-gcs",[nb]:"fire-gcs-compat",[ib]:"fire-fst",[rb]:"fire-fst-compat",[sb]:"fire-vertex","fire-js":"fire-js",[ab]:"fire-js-all"};const Qc=new Map,ub=new Map,tm=new Map;function ov(r,t){try{r.container.addComponent(t)}catch(i){ms.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ro(r){const t=r.name;if(tm.has(t))return ms.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const i of Qc.values())ov(i,r);for(const i of ub.values())ov(i,r);return!0}function Sm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ri(r){return r==null?!1:r.settings!==void 0}const cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new Yl("app","Firebase",cb);class hb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const go=ob;function BE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Wd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw rr.create("bad-app-name",{appName:String(l)});if(i||(i=UE()),!i)throw rr.create("no-options");const c=Qc.get(l);if(c){if(Wr(i,c.options)&&Wr(a,c.config))return c;throw rr.create("duplicate-app",{appName:l})}const d=new y1(l);for(const y of tm.values())d.addComponent(y);const p=new hb(i,a,d);return Qc.set(l,p),p}function qE(r=Wd){const t=Qc.get(r);if(!t&&r===Wd&&UE())return BE();if(!t)throw rr.create("no-app",{appName:r});return t}function ar(r,t,i){let a=lb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}ro(new ta(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const fb="firebase-heartbeat-database",db=1,Ll="firebase-heartbeat-store";let Pd=null;function HE(){return Pd||(Pd=D1(fb,db,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(r=>{throw rr.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function mb(r){try{const i=(await HE()).transaction(Ll),a=await i.objectStore(Ll).get(FE(r));return await i.done,a}catch(t){if(t instanceof _s)ms.warn(t.message);else{const i=rr.create("idb-get",{originalErrorMessage:t?.message});ms.warn(i.message)}}}async function lv(r,t){try{const a=(await HE()).transaction(Ll,"readwrite");await a.objectStore(Ll).put(t,FE(r)),await a.done}catch(i){if(i instanceof _s)ms.warn(i.message);else{const a=rr.create("idb-set",{originalErrorMessage:i?.message});ms.warn(a.message)}}}function FE(r){return`${r.name}!${r.options.appId}`}const gb=1024,pb=30;class yb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>pb){const l=Eb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ms.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uv(),{heartbeatsToSend:i,unsentEntries:a}=_b(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ms.warn(t),""}}}function uv(){return new Date().toISOString().substring(0,10)}function _b(r,t=gb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),cv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),cv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class vb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r1()?a1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function cv(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function Eb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function Tb(r){ro(new ta("platform-logger",t=>new M1(t),"PRIVATE")),ro(new ta("heartbeat",t=>new yb(t),"PRIVATE")),ar(Jd,av,r),ar(Jd,av,"esm2020"),ar("fire-js","")}Tb("");var Ab="firebase",Sb="12.7.0";ar(Ab,Sb,"app");function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bb=GE,QE=new Yl("auth","Firebase",GE());const Yc=new Tm("@firebase/auth");function wb(r,...t){Yc.logLevel<=Ut.WARN&&Yc.warn(`Auth (${go}): ${r}`,...t)}function Uc(r,...t){Yc.logLevel<=Ut.ERROR&&Yc.error(`Auth (${go}): ${r}`,...t)}function zi(r,...t){throw wm(r,...t)}function li(r,...t){return wm(r,...t)}function bm(r,t,i){const a={...bb(),[t]:i};return new Yl("auth","Firebase",a).create(t,{appName:r.name})}function $r(r){return bm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rb(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&zi(r,"argument-error"),bm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return QE.create(r,...t)}function _t(r,t,...i){if(!r)throw wm(t,...i)}function hs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Uc(t),new Error(t)}function gs(r,t){r||hs(t)}function em(){return typeof self<"u"&&self.location?.href||""}function Ib(){return hv()==="http:"||hv()==="https:"}function hv(){return typeof self<"u"&&self.location?.protocol||null}function Cb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ib()||e1()||"connection"in navigator)?navigator.onLine:!0}function Nb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,gs(i>t,"Short delay should be less than long delay!"),this.isMobile=JS()||n1()}get(){return Cb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(r,t){gs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class YE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Db={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ob=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vb=new Xl(3e4,6e4);function Im(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function po(r,t,i,a,l={}){return KE(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Kl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const v={method:t,headers:y,...c};return t1()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&mo(r.emulatorConfig.host)&&(v.credentials="include"),YE.fetch()(await XE(r,r.config.apiHost,i,p),v)})}async function KE(r,t,i){r._canInitEmulator=!1;const a={...Db,...t};try{const l=new xb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Cc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw bm(r,A,v);zi(r,A)}}catch(l){if(l instanceof _s)throw l;zi(r,"network-request-failed",{message:String(l)})}}async function Mb(r,t,i,a,l={}){const c=await po(r,t,i,a,l);return"mfaPendingCredential"in c&&zi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function XE(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Rm(r.config,l):`${r.config.apiScheme}://${l}`;return Ob.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(li(this.auth,"network-request-failed")),Vb.get())})}}function Cc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=li(r,t,a);return l.customData._tokenResponse=i,l}async function Ub(r,t){return po(r,"POST","/v1/accounts:delete",t)}async function Kc(r,t){return po(r,"POST","/v1/accounts:lookup",t)}function Ol(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Lb(r,t=!1){const i=fn(r),a=await i.getIdToken(t),l=Cm(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ol(kd(l.auth_time)),issuedAtTime:Ol(kd(l.iat)),expirationTime:Ol(kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function kd(r){return Number(r)*1e3}function Cm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=ME(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function fv(r){const t=Cm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Pl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof _s&&Pb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Pb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class kb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(r){const t=r.auth,i=await r.getIdToken(),a=await Pl(r,Kc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?$E(l.providerUserInfo):[],d=zb(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,v=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(r,A)}async function jb(r){const t=fn(r);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function $E(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Bb(r,t){const i=await KE(r,{},async()=>{const a=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await XE(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&mo(r.emulatorConfig.host)&&(y.credentials="include"),YE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function qb(r,t){return po(r,"POST","/v2/accounts:revokeToken",Im(r,t))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=fv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Bb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new eo;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return hs("not implemented")}}function Ws(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new kb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Lb(this,t)}reload(){return jb(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject($r(this.auth));const t=await this.getIdToken();return await Pl(this,Ub(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:Y,providerData:W,stsTokenManager:it}=i;_t(b&&it,t,"internal-error");const tt=eo.fromJSON(this.name,it);_t(typeof b=="string",t,"internal-error"),Ws(a,t.name),Ws(l,t.name),_t(typeof V=="boolean",t,"internal-error"),_t(typeof Y=="boolean",t,"internal-error"),Ws(c,t.name),Ws(d,t.name),Ws(p,t.name),Ws(y,t.name),Ws(v,t.name),Ws(A,t.name);const ft=new ai({uid:b,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:v,lastLoginAt:A});return W&&Array.isArray(W)&&(ft.providerData=W.map(vt=>({...vt}))),y&&(ft._redirectEventId=y),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new eo;l.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?$E(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new eo;p.updateFromIdToken(a);const y=new ai({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const dv=new Map;function fs(r){gs(r instanceof Function,"Expected a class definition");let t=dv.get(r);return t?(gs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,dv.set(r,t),t)}class ZE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}ZE.type="NONE";const mv=ZE;function Lc(r,t,i){return`firebase:${r}:${t}:${i}`}class no{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new no(fs(mv),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||fs(mv);const d=Lc(a,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let b;if(typeof A=="string"){const V=await Kc(t,{idToken:A}).catch(()=>{});if(!V)break;b=await ai._fromGetAccountInfoResponse(t,V,A)}else b=ai._fromJSON(t,A);v!==c&&(p=b),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new no(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new no(c,t,a))}}function gv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(JE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iT(t))return"Blackberry";if(sT(t))return"Webos";if(WE(t))return"Safari";if((t.includes("chrome/")||tT(t))&&!t.includes("edge/"))return"Chrome";if(nT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function JE(r=on()){return/firefox\//i.test(r)}function WE(r=on()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tT(r=on()){return/crios\//i.test(r)}function eT(r=on()){return/iemobile/i.test(r)}function nT(r=on()){return/android/i.test(r)}function iT(r=on()){return/blackberry/i.test(r)}function sT(r=on()){return/webos/i.test(r)}function Nm(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Hb(r=on()){return Nm(r)&&!!window.navigator?.standalone}function Fb(){return i1()&&document.documentMode===10}function rT(r=on()){return Nm(r)||nT(r)||sT(r)||iT(r)||/windows phone/i.test(r)||eT(r)}function aT(r,t=[]){let i;switch(r){case"Browser":i=gv(on());break;case"Worker":i=`${gv(on())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${go}/${a}`}class Gb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Qb(r,t={}){return po(r,"GET","/v2/passwordPolicy",Im(r,t))}const Yb=6;class Kb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Yb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Xb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pv(this),this.idTokenSubscription=new pv(this),this.beforeStateQueue=new Gb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=fs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),a=await ai._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Nb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ri(this.app))return Promise.reject($r(this));const i=t?fn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ri(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Qb(this),i=new Kb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await qb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&fs(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[fs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&wb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function hh(r){return fn(r)}class pv{constructor(t){this.auth=t,this.observer=null,this.addObserver=h1(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $b(r){Dm=r}function Zb(r){return Dm.loadJS(r)}function Jb(){return Dm.gapiScript}function Wb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function tw(r,t){const i=Sm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Wr(c,t??{}))return l;zi(l,"already-initialized")}return i.initialize({options:t})}function ew(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(fs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function nw(r,t,i){const a=hh(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=oT(t),{host:d,port:p}=iw(t),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Wr(v,a.config.emulator)&&Wr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,mo(d)?(PE(`${c}//${d}${y}`),kE("Auth",!0)):sw()}function oT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function iw(r){const t=oT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:yv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:yv(d)}}}function yv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function sw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class lT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return hs("not implemented")}_getIdTokenResponse(t){return hs("not implemented")}_linkToIdToken(t,i){return hs("not implemented")}_getReauthenticationResolver(t){return hs("not implemented")}}async function io(r,t){return Mb(r,"POST","/v1/accounts:signInWithIdp",Im(r,t))}const rw="http://localhost";class ea extends lT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ea(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return io(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,io(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,io(t,i)}buildRequest(){const t={requestUri:rw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Kl(i)}return t}}class Om{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class tr extends $l{constructor(){super("facebook.com")}static credential(t){return ea._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class cs extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ea._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return cs.credential(i,a)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";class er extends $l{constructor(){super("github.com")}static credential(t){return ea._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class nr extends $l{constructor(){super("twitter.com")}static credential(t,i){return ea._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return nr.credential(i,a)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";class ao{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ai._fromIdTokenResponse(t,a,l),d=_v(a);return new ao({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=_v(a);return new ao({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function _v(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class $c extends _s{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new $c(t,i,a,l)}}function uT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,c,t,a):c})}async function aw(r,t,i=!1){const a=await Pl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ao._forOperation(r,"link",a)}async function ow(r,t,i=!1){const{auth:a}=r;if(ri(a.app))return Promise.reject($r(a));const l="reauthenticate";try{const c=await Pl(r,uT(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=Cm(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(r.uid===p,a,"user-mismatch"),ao._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&zi(a,"user-mismatch"),c}}async function lw(r,t,i=!1){if(ri(r.app))return Promise.reject($r(r));const a="signIn",l=await uT(r,a,t),c=await ao._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function uw(r,t,i,a){return fn(r).onIdTokenChanged(t,i,a)}function cw(r,t,i){return fn(r).beforeAuthStateChanged(t,i)}function hw(r,t,i,a){return fn(r).onAuthStateChanged(t,i,a)}function fw(r){return fn(r).signOut()}const Zc="__sak";class cT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const dw=1e3,mw=10;class hT extends cT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Fb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,mw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}hT.type="LOCAL";const gw=hT;class fT extends cT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}fT.type="SESSION";const dT=fT;function pw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new fh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),y=await pw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class yw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=Vm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const V=b;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function _w(r){Ui().location.href=r}function mT(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function vw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ew(){return navigator?.serviceWorker?.controller||null}function Tw(){return mT()?self:null}const gT="firebaseLocalStorageDb",Aw=1,Jc="firebaseLocalStorage",pT="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,t){return r.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function Sw(){const r=indexedDB.deleteDatabase(gT);return new Zl(r).toPromise()}function im(){const r=indexedDB.open(gT,Aw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Jc,{keyPath:pT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await Sw(),t(await im()))})})}async function vv(r,t,i){const a=dh(r,!0).put({[pT]:t,value:i});return new Zl(a).toPromise()}async function bw(r,t){const i=dh(r,!1).get(t),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function Ev(r,t){const i=dh(r,!0).delete(t);return new Zl(i).toPromise()}const ww=800,Rw=3;class yT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Rw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(Tw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vw(),!this.activeServiceWorker)return;this.sender=new yw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ew()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await vv(t,Zc,"1"),await Ev(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>vv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>bw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ev(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yT.type="LOCAL";const Iw=yT;new Xl(3e4,6e4);function _T(r,t){return t?fs(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Mm extends lT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,i){return io(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Cw(r){return lw(r.auth,new Mm(r),r.bypassAuthState)}function Nw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),ow(i,new Mm(r),r.bypassAuthState)}async function Dw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),aw(i,new Mm(r),r.bypassAuthState)}class vT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Cw;case"linkViaPopup":case"linkViaRedirect":return Dw;case"reauthViaPopup":case"reauthViaRedirect":return Nw;default:zi(this.auth,"internal-error")}}resolve(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ow=new Xl(2e3,1e4);async function Vw(r,t,i){if(ri(r.app))return Promise.reject(li(r,"operation-not-supported-in-this-environment"));const a=hh(r);Rb(r,t,Om);const l=_T(a,i);return new Kr(a,"signInViaPopup",t,l).executeNotNull()}class Kr extends vT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Kr.currentPopupAction&&Kr.currentPopupAction.cancel(),Kr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const t=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ow.get())};t()}}Kr.currentPopupAction=null;const Mw="pendingRedirect",Pc=new Map;class xw extends vT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const a=await Uw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uw(r,t){const i=kw(t),a=Pw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Lw(r,t){Pc.set(r._key(),t)}function Pw(r){return fs(r._redirectPersistence)}function kw(r){return Lc(Mw,r.config.apiKey,r.name)}async function jw(r,t,i=!1){if(ri(r.app))return Promise.reject($r(r));const a=hh(r),l=_T(a,t),d=await new xw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const zw=600*1e3;class Bw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!ET(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(li(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tv(t))}saveEventToCache(t){this.cachedEventUids.add(Tv(t)),this.lastProcessedEventTime=Date.now()}}function Tv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function ET({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function qw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(r);default:return!1}}async function Hw(r,t={}){return po(r,"GET","/v1/projects",t)}const Fw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gw=/^https?/;async function Qw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Hw(r);for(const i of t)try{if(Yw(i))return}catch{}zi(r,"unauthorized-domain")}function Yw(r){const t=em(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Gw.test(i))return!1;if(Fw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Kw=new Xl(3e4,6e4);function Av(){const r=Ui().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Xw(r){return new Promise((t,i)=>{function a(){Av(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Av(),i(li(r,"network-request-failed"))},timeout:Kw.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const l=Wb("iframefcb");return Ui()[l]=()=>{gapi.load?a():i(li(r,"network-request-failed"))},Zb(`${Jb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function $w(r){return kc=kc||Xw(r),kc}const Zw=new Xl(5e3,15e3),Jw="__/auth/iframe",Ww="emulator/auth/iframe",tR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nR(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Rm(t,Ww):`https://${r.config.authDomain}/${Jw}`,a={apiKey:t.apiKey,appName:r.name,v:go},l=eR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Kl(a).slice(1)}`}async function iR(r){const t=await $w(r),i=Ui().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:nR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=li(r,"network-request-failed"),p=Ui().setTimeout(()=>{c(d)},Zw.get());function y(){Ui().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const sR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rR=500,aR=600,oR="_blank",lR="http://localhost";class Sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uR(r,t,i,a=rR,l=aR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...sR,width:a.toString(),height:l.toString(),top:c,left:d},v=on().toLowerCase();i&&(p=tT(v)?oR:i),JE(v)&&(t=t||lR,y.scrollbars="yes");const A=Object.entries(y).reduce((V,[Y,W])=>`${V}${Y}=${W},`,"");if(Hb(v)&&p!=="_self")return cR(t||"",p),new Sv(null);const b=window.open(t||"",p,A);_t(b,r,"popup-blocked");try{b.focus()}catch{}return new Sv(b)}function cR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const hR="__/auth/handler",fR="emulator/auth/handler",dR=encodeURIComponent("fac");async function bv(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:go,eventId:l};if(t instanceof Om){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",c1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof $l){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),v=y?`#${dR}=${encodeURIComponent(y)}`:"";return`${mR(r)}?${Kl(p).slice(1)}${v}`}function mR({config:r}){return r.emulator?Rm(r,fR):`https://${r.authDomain}/${hR}`}const jd="webStorageSupport";class gR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dT,this._completeRedirectFn=jw,this._overrideRedirectResult=Lw}async _openPopup(t,i,a,l){gs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await bv(t,i,a,em(),l);return uR(t,c,Vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await bv(t,i,a,em(),l);return _w(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(gs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await iR(t),a=new Bw(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Qw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return rT()||WE()||Nm()}}const pR=gR;var wv="@firebase/auth",Rv="1.12.0";class yR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _R(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vR(r){ro(new ta("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(r)},v=new Xb(a,l,c,y);return ew(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ro(new ta("auth-internal",t=>{const i=hh(t.getProvider("auth").getImmediate());return(a=>new yR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(wv,Rv,_R(r)),ar(wv,Rv,"esm2020")}const ER=300,TR=LE("authIdTokenMaxAge")||ER;let Iv=null;const AR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>TR)return;const l=i?.token;Iv!==l&&(Iv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function SR(r=qE()){const t=Sm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=tw(r,{popupRedirectResolver:pR,persistence:[Iw,gw,dT]}),a=LE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=AR(c.toString());cw(i,d,()=>d(i.currentUser)),uw(i,p=>d(p))}}const l=xE("auth");return l&&nw(i,`http://${l}`),i}function bR(){return document.getElementsByTagName("head")?.[0]??document}$b({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=li("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",bR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vR("Browser");var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,TT;(function(){var r;function t(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(x,D,P){for(var R=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)R[oe-2]=arguments[oe];return w.prototype[D].apply(x,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,I){I||(I=0);const x=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)x[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)x[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],D=N.g[2];let P=N.g[3],R;R=w+(P^I&(D^P))+x[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=P+(D^w&(I^D))+x[1]+3905402710&4294967295,P=w+(R<<12&4294967295|R>>>20),R=D+(I^P&(w^I))+x[2]+606105819&4294967295,D=P+(R<<17&4294967295|R>>>15),R=I+(w^D&(P^w))+x[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(P^I&(D^P))+x[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=P+(D^w&(I^D))+x[5]+1200080426&4294967295,P=w+(R<<12&4294967295|R>>>20),R=D+(I^P&(w^I))+x[6]+2821735955&4294967295,D=P+(R<<17&4294967295|R>>>15),R=I+(w^D&(P^w))+x[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(P^I&(D^P))+x[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=P+(D^w&(I^D))+x[9]+2336552879&4294967295,P=w+(R<<12&4294967295|R>>>20),R=D+(I^P&(w^I))+x[10]+4294925233&4294967295,D=P+(R<<17&4294967295|R>>>15),R=I+(w^D&(P^w))+x[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(P^I&(D^P))+x[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=P+(D^w&(I^D))+x[13]+4254626195&4294967295,P=w+(R<<12&4294967295|R>>>20),R=D+(I^P&(w^I))+x[14]+2792965006&4294967295,D=P+(R<<17&4294967295|R>>>15),R=I+(w^D&(P^w))+x[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(D^P&(I^D))+x[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=P+(I^D&(w^I))+x[6]+3225465664&4294967295,P=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(P^w))+x[11]+643717713&4294967295,D=P+(R<<14&4294967295|R>>>18),R=I+(P^w&(D^P))+x[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^P&(I^D))+x[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=P+(I^D&(w^I))+x[10]+38016083&4294967295,P=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(P^w))+x[15]+3634488961&4294967295,D=P+(R<<14&4294967295|R>>>18),R=I+(P^w&(D^P))+x[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^P&(I^D))+x[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=P+(I^D&(w^I))+x[14]+3275163606&4294967295,P=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(P^w))+x[3]+4107603335&4294967295,D=P+(R<<14&4294967295|R>>>18),R=I+(P^w&(D^P))+x[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^P&(I^D))+x[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=P+(I^D&(w^I))+x[2]+4243563512&4294967295,P=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(P^w))+x[7]+1735328473&4294967295,D=P+(R<<14&4294967295|R>>>18),R=I+(P^w&(D^P))+x[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(I^D^P)+x[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=P+(w^I^D)+x[8]+2272392833&4294967295,P=w+(R<<11&4294967295|R>>>21),R=D+(P^w^I)+x[11]+1839030562&4294967295,D=P+(R<<16&4294967295|R>>>16),R=I+(D^P^w)+x[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^P)+x[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=P+(w^I^D)+x[4]+1272893353&4294967295,P=w+(R<<11&4294967295|R>>>21),R=D+(P^w^I)+x[7]+4139469664&4294967295,D=P+(R<<16&4294967295|R>>>16),R=I+(D^P^w)+x[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^P)+x[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=P+(w^I^D)+x[0]+3936430074&4294967295,P=w+(R<<11&4294967295|R>>>21),R=D+(P^w^I)+x[3]+3572445317&4294967295,D=P+(R<<16&4294967295|R>>>16),R=I+(D^P^w)+x[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^P)+x[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=P+(w^I^D)+x[12]+3873151461&4294967295,P=w+(R<<11&4294967295|R>>>21),R=D+(P^w^I)+x[15]+530742520&4294967295,D=P+(R<<16&4294967295|R>>>16),R=I+(D^P^w)+x[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(D^(I|~P))+x[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=P+(I^(w|~D))+x[7]+1126891415&4294967295,P=w+(R<<10&4294967295|R>>>22),R=D+(w^(P|~I))+x[14]+2878612391&4294967295,D=P+(R<<15&4294967295|R>>>17),R=I+(P^(D|~w))+x[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~P))+x[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=P+(I^(w|~D))+x[3]+2399980690&4294967295,P=w+(R<<10&4294967295|R>>>22),R=D+(w^(P|~I))+x[10]+4293915773&4294967295,D=P+(R<<15&4294967295|R>>>17),R=I+(P^(D|~w))+x[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~P))+x[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=P+(I^(w|~D))+x[15]+4264355552&4294967295,P=w+(R<<10&4294967295|R>>>22),R=D+(w^(P|~I))+x[6]+2734768916&4294967295,D=P+(R<<15&4294967295|R>>>17),R=I+(P^(D|~w))+x[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~P))+x[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=P+(I^(w|~D))+x[11]+3174756917&4294967295,P=w+(R<<10&4294967295|R>>>22),R=D+(w^(P|~I))+x[2]+718787259&4294967295,D=P+(R<<15&4294967295|R>>>17),R=I+(P^(D|~w))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+P&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,x=this.C;let D=this.h,P=0;for(;P<w;){if(D==0)for(;P<=I;)l(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<w;)if(x[D++]=N.charCodeAt(P++),D==this.blockSize){l(this,x),D=0;break}}else for(;P<w;)if(x[D++]=N[P++],D==this.blockSize){l(this,x),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)N[w++]=this.g[I]>>>x&255;return N};function c(N,w){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function d(N,w){this.h=w;const I=[];let x=!0;for(let D=N.length-1;D>=0;D--){const P=N[D]|0;x&&P==w||(I[D]=P,x=!1)}this.g=I}var p={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return tt(v(-N));const w=[];let I=1;for(let x=0;N>=I;x++)w[x]=N/I|0,I*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return tt(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(w,8));let x=b;for(let P=0;P<N.length;P+=8){var D=Math.min(8,N.length-P);const R=parseInt(N.substring(P,P+D),w);D<8?(D=v(Math.pow(w,D)),x=x.j(D).add(v(R))):(x=x.j(I),x=x.add(v(R)))}return x}var b=y(0),V=y(1),Y=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-tt(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);N+=(x>=0?x:4294967296+x)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(it(this))return"-"+tt(this).toString(N);const w=v(Math.pow(N,6));var I=this;let x="";for(;;){const D=Kt(I,w).g;I=ft(I,D.j(w));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,W(I))return P+x;for(;P.length<6;)P="0"+P;x=P+x}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function it(N){return N.h==-1}r.l=function(N){return N=ft(this,N),it(N)?-1:W(N)?0:1};function tt(N){const w=N.g.length,I=[];for(let x=0;x<w;x++)I[x]=~N.g[x];return new d(I,~N.h).add(V)}r.abs=function(){return it(this)?tt(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let x=0;for(let D=0;D<=w;D++){let P=x+(this.i(D)&65535)+(N.i(D)&65535),R=(P>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);x=R>>>16,P&=65535,R&=65535,I[D]=R<<16|P}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(N,w){return N.add(tt(w))}r.j=function(N){if(W(this)||W(N))return b;if(it(this))return it(N)?tt(this).j(tt(N)):tt(tt(this).j(N));if(it(N))return tt(this.j(tt(N)));if(this.l(Y)<0&&N.l(Y)<0)return v(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<N.g.length;D++){const P=this.i(x)>>>16,R=this.i(x)&65535,oe=N.i(D)>>>16,Zt=N.i(D)&65535;I[2*x+2*D]+=R*Zt,vt(I,2*x+2*D),I[2*x+2*D+1]+=P*Zt,vt(I,2*x+2*D+1),I[2*x+2*D+1]+=R*oe,vt(I,2*x+2*D+1),I[2*x+2*D+2]+=P*oe,vt(I,2*x+2*D+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new d(I,0)};function vt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function mt(N,w){this.g=N,this.h=w}function Kt(N,w){if(W(w))throw Error("division by zero");if(W(N))return new mt(b,b);if(it(N))return w=Kt(tt(N),w),new mt(tt(w.g),tt(w.h));if(it(w))return w=Kt(N,tt(w)),new mt(tt(w.g),w.h);if(N.g.length>30){if(it(N)||it(w))throw Error("slowDivide_ only works with positive integers.");for(var I=V,x=w;x.l(N)<=0;)I=re(I),x=re(x);var D=kt(I,1),P=kt(x,1);for(x=kt(x,2),I=kt(I,2);!W(x);){var R=P.add(x);R.l(N)<=0&&(D=D.add(I),P=R),x=kt(x,1),I=kt(I,1)}return w=ft(N,D.j(w)),new mt(D,w)}for(D=b;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),P=v(I),R=P.j(w);it(R)||R.l(N)>0;)I-=x,P=v(I),R=P.j(w);W(P)&&(P=V),D=D.add(P),N=ft(N,R)}return new mt(D,N)}r.B=function(N){return Kt(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)&N.i(x);return new d(I,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)|N.i(x);return new d(I,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)^N.i(x);return new d(I,this.h^N.h)};function re(N){const w=N.g.length+1,I=[];for(let x=0;x<w;x++)I[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(I,N.h)}function kt(N,w){const I=w>>5;w%=32;const x=N.g.length-I,D=[];for(let P=0;P<x;P++)D[P]=w>0?N.i(P+I)>>>w|N.i(P+I+1)<<32-w:N.i(P+I);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,TT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,or=d}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AT,Rl,ST,jc,sm,bT,wT,RT;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,k,q){for(var et=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)et[wt-2]=arguments[wt];return m.prototype[k].apply(T,et)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const k=arguments[T];var _=typeof k;if(_=_!="object"?_:k?Array.isArray(k)?"array":_:"null",_=="array"||_=="object"&&typeof k.length=="number"){_=u.length||0;const q=k.length||0;u.length=_+q;for(let et=0;et<q;et++)u[_+et]=k[et]}else u.push(k)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,_){const T=mt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new it(()=>new Kt,u=>u.reset());class Kt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,kt=!1,N=new vt,w=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(_){tt(_)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function oe(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(oe,D),oe.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Zt="closure_listenable_"+(Math.random()*1e6|0),F=0;function J(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++F,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ft(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let q=0;q<K.length;q++)_=K[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,T,k){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=At(u,m,T,k);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new J(m,this.src,q,!!T,k),m.fa=_,u.push(m)),m};function pt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),q;(q=k>=0)&&Array.prototype.splice.call(T,k,1),q&&(ut(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function At(u,m,_,T){for(let k=0;k<u.length;++k){const q=u[k];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return k}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),Ne={};function he(u,m,_,T,k){if(Array.isArray(m)){for(let q=0;q<m.length;q++)he(u,m[q],_,T,k);return null}return _=_r(_),u&&u[Zt]?u.J(m,_,p(T)?!!T.capture:!1,k):Es(u,m,_,!1,T,k)}function Es(u,m,_,T,k,q){if(!m)throw Error("Invalid event type");const et=p(k)?!!k.capture:!!k;let wt=Hi(u);if(wt||(u[Dt]=wt=new rt(u)),_=wt.add(m,_,T,et,q),_.proxy)return _;if(T=Ts(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)P||(k=et),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Vn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ts(){function u(_){return m.call(u.src,u.listener,_)}const m=pr;return u}function hi(u,m,_,T,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)hi(u,m[q],_,T,k);else T=p(T)?!!T.capture:!!T,_=_r(_),u&&u[Zt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],_=At(m,_,T,k),_>-1&&(ut(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Hi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,_,T,k)),(_=u>-1?m[u]:null)&&qi(_))}function qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Zt])pt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Vn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Hi(m))?(pt(_,u),_.h==0&&(_.src=null,m[Dt]=null)):ut(u)}}}function Vn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function pr(u,m){if(u.da)u=!0;else{m=new oe(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&qi(u),u=_.call(T,m)}return u}function Hi(u){return u=u[Dt],u instanceof rt?u:null}var yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function _r(u){return typeof u=="function"?u:(u[yr]||(u[yr]=function(m){return u.handleEvent(m)}),u[yr])}function _e(){x.call(this),this.i=new rt(this),this.M=this,this.G=null}b(_e,x),_e.prototype[Zt]=!0,_e.prototype.removeEventListener=function(u,m,_,T){hi(this,u,m,_,T)};function Te(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var k=m;m=new D(T,u),nt(m,k)}k=!0;let q,et;if(_)for(et=_.length-1;et>=0;et--)q=m.g=_[et],k=fi(q,T,!0,m)&&k;if(q=m.g=u,k=fi(q,T,!0,m)&&k,k=fi(q,T,!1,m)&&k,_)for(et=0;et<_.length;et++)q=m.g=_[et],k=fi(q,T,!1,m)&&k}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ut(_[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function fi(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==_){const wt=et.listener,Se=et.ha||et.src;et.fa&&pt(u.i,et),k=wt.call(Se,T)!==!1&&k}}return k&&!T.defaultPrevented}function Ao(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function la(u){u.g=Ao(()=>{u.g=null,u.i&&(u.i=!1,la(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class U extends x{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:la(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gt(u){x.call(this),this.h=u,this.g={}}b(gt,x);var Et=[];function le(u){Nt(u.g,function(m,_){this.g.hasOwnProperty(_)&&qi(m)},u),u.g={}}gt.prototype.N=function(){gt.Z.N.call(this),le(this)},gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=d.JSON.stringify,ln=d.JSON.parse,dn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ue(){}function It(){}var Bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function De(){D.call(this,"d")}b(De,D);function un(){D.call(this,"c")}b(un,D);var Ae={},iu=null;function ua(){return iu=iu||new _e}Ae.Ia="serverreachability";function su(u){D.call(this,Ae.Ia,u)}b(su,D);function di(u){const m=ua();Te(m,new su(m))}Ae.STAT_EVENT="statevent";function vr(u,m){D.call(this,Ae.STAT_EVENT,u),this.stat=m}b(vr,D);function Oe(u){const m=ua();Te(m,new vr(m,u))}Ae.Ja="timingevent";function mi(u,m){D.call(this,Ae.Ja,u),this.size=m}b(mi,D);function gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Dh(u,m,_,T,k,q){u.info(function(){if(u.g)if(q){var et="",wt=q.split("&");for(let Qt=0;Qt<wt.length;Qt++){var Se=wt[Qt].split("=");if(Se.length>1){const ge=Se[0];Se=Se[1];const Ln=ge.split("_");et=Ln.length>=2&&Ln[1]=="type"?et+(ge+"="+Se+"&"):et+(ge+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+et})}function ru(u,m,_,T,k,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+q+" "+et})}function pi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,_)+(T?" "+T:"")})}function Er(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return Gt(q)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function Ar(){}b(Ar,ue),Ar.prototype.g=function(){return new XMLHttpRequest},bo=new Ar;function Fi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Xn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new gt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Ve={},Fe={};function yi(u,m,_){u.M=1,u.A=Sr(xe(m)),u.u=_,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),_i(u),u.B=xe(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ma(_.i,"t",T),u.C=0,_=u.j.L,u.h=new $n,u.g=Tu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new U(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(Et[0]=k.toString()),k=Et);for(let q=0;q<k.length;q++){const et=he(_,k[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),di(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Wn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Wn(this.g),Se=this.g.ya(),Qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||wt!=4||Se==7||(Se==8||Qt<=0?di(3):di(2)),vi(this);var m=this.g.ca();this.X=m;var _=Vh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)pi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,u);else{this.o=!1,this.m=3,Oe(12),An(this),Mn(this);break t}}if(this.R){u=!0;let ge;for(;!this.K&&this.C<_.length;)if(ge=lu(this,_),ge==Fe){wt==4&&(this.m=4,Oe(14),u=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==Ve){this.m=4,Oe(15),pi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else pi(this.i,this.l,ge,null),Ei(this,ge);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||_.length!=0||this.h.h||(this.m=1,Oe(16),u=!1),this.o=this.o&&u,!u)pi(this.i,this.l,_,"[Invalid Chunked Response]"),An(this),Mn(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),jo(et),et.P=!0,Oe(11))}}else pi(this.i,this.l,_,null),Ei(this,_);wt==4&&An(this),this.o&&!this.K&&(wt==4?yu(this.j,this):(this.o=!1,_i(this)))}else Qi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),An(this),Mn(this)}}}catch{}};function Vh(u){if(!ou(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let _="";const T=m.length,k=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,_+=u.h.i.decode(m[q],{stream:!(k&&q==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Fe:(_=Number(m.substring(_,T)),isNaN(_)?Ve:(T+=1,T+_>m.length?Fe:(m=m.slice(T,T+_),u.C=T+_,m)))}Xn.prototype.cancel=function(){this.K=!0,An(this)};function _i(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(v(u.aa,u),m)}function vi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Er(this.i,this.B),this.M!=2&&(di(),Oe(17)),An(this),this.m=2,Mn(this)):ha(this,this.T-u)};function Mn(u){u.j.I==0||u.K||yu(u.j,u)}function An(u){vi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,le(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ei(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||Ai(_.h,u))){if(!u.L&&Ai(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)va(_),Ns(_);else break t;Dr(_),Oe(18)}}else _.xa=k[1],0<_.xa-_.K&&k[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=gi(v(_.Va,_),6e3));Ti(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ci(_,11)}else if((u.L||_.g==u)&&va(_),!R(m))for(k=_.Ba.g.parse(m),m=0;m<k.length;m++){let Qt=k[m];const ge=Qt[0];if(!(ge<=_.K))if(_.K=ge,Qt=Qt[1],_.I==2)if(Qt[0]=="c"){_.M=Qt[1],_.ba=Qt[2];const Ln=Qt[3];Ln!=null&&(_.ka=Ln,_.j.info("VER="+_.ka));const Ni=Qt[4];Ni!=null&&(_.za=Ni,_.j.info("SVER="+_.za));const ti=Qt[5];ti!=null&&typeof ti=="number"&&ti>0&&(T=1.5*ti,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const ei=u.g;if(ei){const Or=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var q=T.h;q.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Io(q,q.h),q.h=null))}if(T.G){const Ea=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(T.wa=Ea,Jt(T.J,T.G,Ea))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var et=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),et.L){Co(T.h,et);var wt=et,Se=T.O;Se&&(wt.H=Se),wt.D&&(vi(wt),_i(wt)),T.g=et}else gu(T);_.i.length>0&&Ii(_)}else Qt[0]!="stop"&&Qt[0]!="close"||Ci(_,7);else _.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ci(_,7):Po(_):Qt[0]!="noop"&&_.l&&_.l.qa(Qt),_.A=0)}}di(4)}catch{}}var Me=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function No(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Y(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let k,q=null;T>=0?(k=u[_].substring(0,T),q=u[_].substring(T+1)):k=u[_],m(k,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,Ge(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Do(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Ge(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),As(this,m[4]),this.h=Si(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(br(m,da,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(br(m,da,!0),"@"),u.push(Fi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(br(_,_.charAt(0)=="/"?Oo:cu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",br(_,hu)),u.join("")},Sn.prototype.resolve=function(u){const m=xe(this);let _=!!u.j;_?Ge(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)As(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var k=m.h.lastIndexOf("/");k!=-1&&(T=m.h.slice(0,k+1)+T)}if(k=T,k==".."||k==".")T="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){T=k.lastIndexOf("/",0)==0,k=k.split("/");const q=[];for(let et=0;et<k.length;){const wt=k[et++];wt=="."?T&&et==k.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&et==k.length&&q.push("")):(q.push(wt),T=!0)}T=q.join("/")}else T=k}return _?m.h=T:_=u.i.toString()!=="",_?Do(m,du(u.i)):_=!!u.m,_&&(m.m=u.m),m};function xe(u){return new Sn(u)}function Ge(u,m,_){u.j=_?Si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Do(u,m,_){m instanceof bs?(u.i=m,ga(u.i,u.l)):(_||(m=br(m,Ss)),u.i=new bs(m,u.l))}function Jt(u,m,_){u.i.set(m,_)}function Sr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function br(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,mn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,cu=/[#\?:]/g,Oo=/[#\?]/g,Ss=/[#\?@]/g,hu=/#/g;function bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=bs.prototype,r.add=function(u,m){gn(this),this.i=null,u=ws(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function fu(u,m){gn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vo(u,m){return gn(u),m=ws(u,m),u.g.has(m)}r.forEach=function(u,m){gn(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)};function Mo(u,m){gn(u);let _=[];if(typeof m=="string")Vo(u,m)&&(_=_.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return gn(this),this.i=null,u=ws(this,u),Vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,_){fu(u,m),_.length>0&&(u.i=null,u.g.set(ws(u,m),Y(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const k=Fi(_);_=Mo(this,_);for(let q=0;q<_.length;q++){let et=k;_[q]!==""&&(et+="="+Fi(_[q])),u.push(et)}}return this.i=u.join("&")};function du(u){const m=new bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ga(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(_,T){const k=T.toLowerCase();T!=k&&(fu(this,T),ma(this,k,_))},u)),u.j=m}function Zn(u,m){const _=new Kn;if(d.Image){const T=new Image;T.onload=A(xn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(xn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(xn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(xn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xo(u,m){const _=new Kn,T=new AbortController,k=setTimeout(()=>{T.abort(),xn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(k),q.ok?xn(_,"TestPingServer: ok",!0,m):xn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),xn(_,"TestPingServer: error",!1,m)})}function xn(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function Rs(){this.g=new dn}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(bi,ue),bi.prototype.g=function(){return new wr(this.i,this.h)};function wr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(wr,_e),r=wr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Is(this):Jn(this),this.readyState==3&&pa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Is(this))},r.Na=function(u){this.g&&(this.response=u,Is(this))},r.ga=function(){this.g&&Is(this)};function Is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return Nt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Rr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Un(_),typeof u=="string"?_!=null&&Fi(_):Jt(u,m,_))}function ee(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ee,_e);var wi=/^https?$/i,Uo=["POST","PUT"];r=ee.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ir(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of _)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ir(this,q)}};function Ir(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Lo(u),Gi(u)}function Lo(u){u.A||(u.A=!0,Te(u,"complete"),Te(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Te(this,"complete"),Te(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},r.Xa=function(){Cr(this)};function Cr(u){if(u.h&&typeof c<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Te(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=q===0){let et=String(u.D).match(uu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!wi.test(et?et.toLowerCase():"")}_=T}if(_)Te(u,"complete"),Te(u,"success");else{u.o=6;try{var k=Wn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",Lo(u)}}finally{Gi(u)}}}}function Gi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Te(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ln(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(u){const m={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=au(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[k]||[];m[k]=q,q.push(_)}Ft(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Cs(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Cs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){Oe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Ii(this)};function Po(u){if(ya(u),u.I==3){var m=u.V++,_=xe(u.J);if(Jt(_,"SID",u.M),Jt(_,"RID",m),Jt(_,"TYPE","terminate"),Nr(u,_),m=new Xn(u,u.j,m),m.M=2,m.A=Sr(xe(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}vu(u)}function Ns(u){u.g&&(jo(u),u.g.cancel(),u.g=null)}function ya(u){Ns(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ii(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||w(),kt||(re(),kt=!0),N.add(m,u),u.D=0}}function _a(u,m){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(v(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new Xn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(k.J=q,q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=mu(this,k,m),_=xe(this.J),Jt(_,"RID",u),Jt(_,"CVER",22),this.G&&Jt(_,"X-HTTP-Session-Id",this.G),Nr(this,_),q&&(this.R?m="headers="+Fi(Un(q))+"&"+m:this.u&&Rr(_,this.u,q)),Io(this.h,k),this.Ra&&Jt(_,"TYPE","init"),this.S?(Jt(_,"$req",m),Jt(_,"SID","null"),k.U=!0,yi(k,_,null)):yi(k,_,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||Ro(this.h)||ko(this))};function ko(u,m){var _;m?_=m.l:_=u.V++;const T=xe(u.J);Jt(T,"SID",u.M),Jt(T,"RID",_),Jt(T,"AID",u.K),Nr(u,T),u.u&&u.o&&Rr(T,u.u,u.o),_=new Xn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,_),yi(_,T,m)}function Nr(u,m){u.H&&Nt(u.H,function(_,T){Jt(m,T,_)}),u.l&&Nt({},function(_,T){Jt(m,T,_)})}function mu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var k=u.i;let wt=-1;for(;;){const Se=["count="+_];wt==-1?_>0?(wt=k[0].g,Se.push("ofs="+wt)):wt=0:Se.push("ofs="+wt);let Qt=!0;for(let ge=0;ge<_;ge++){var q=k[ge].g;const Ln=k[ge].map;if(q-=wt,q<0)wt=Math.max(0,k[ge].g-100),Qt=!1;else try{q="req"+q+"_"||"";try{var et=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ni,ti]of et){let ei=ti;p(ti)&&(ei=Gt(ti)),Se.push(q+Ni+"="+encodeURIComponent(ei))}}catch(Ni){throw Se.push(q+"type="+encodeURIComponent("_badmap")),Ni}}catch{T&&T(Ln)}}if(Qt){et=Se.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||w(),kt||(re(),kt=!0),N.add(m,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(v(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),Ns(this),pu(this))};function jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xe(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),Nr(u,m),u.u&&u.o&&Rr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Sr(xe(m)),_.u=null,_.R=!0,ca(_,u)}r.Va=function(){this.C!=null&&(this.C=null,Ns(this),Dr(this),Oe(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var _=null;if(u.g==m){va(u),jo(u),u.g=null;var T=2}else if(Ai(u.h,m))_=m.G,Co(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;T=ua(),Te(T,new mi(T,_)),Ii(u)}else gu(u);else if(k=m.m,k==3||k==0&&m.X>0||!(T==1&&_a(u,m)||T==2&&Dr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),k){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function _u(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),T=u.Ua;const k=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ge(T,"https"),Sr(T),k?Zn(T.toString(),_):xo(T.toString(),_)}else Oe(2);u.I=0,u.l&&u.l.pa(m),vu(u),ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=No(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,_){var T=_ instanceof Sn?xe(_):new Sn(_);if(T.g!="")m&&(T.g=m+"."+T.g),As(T,T.u);else{var k=d.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const q=new Sn(null);T&&Ge(q,T),m&&(q.g=m),k&&As(q,k),_&&(q.h=_),T=q}return _=u.G,m=u.wa,_&&m&&Jt(T,_,m),Jt(T,"VER",u.ka),Nr(u,T),T}function Tu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ee(new bi({ab:_})):new ee(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){_e.call(this),this.g=new Cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yi(this)}b(cn,_e),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Po(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Gt(u),u=_);m.i.push(new Me(m.Ya++,u)),m.I==3&&Ii(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,cn.Z.N.call(this)};function Su(u){De.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Su,De);function bu(){un.call(this),this.status=1}b(bu,un);function Yi(u){this.g=u}b(Yi,Au),Yi.prototype.ra=function(){Te(this.g,"a")},Yi.prototype.qa=function(u){Te(this.g,new Su(u))},Yi.prototype.pa=function(u){Te(this.g,new bu)},Yi.prototype.oa=function(){Te(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,RT=function(){return new Ds},wT=function(){return ua()},bT=Ae,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,jc=Tr,So.COMPLETE="complete",ST=So,It.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Rl=It,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,AT=ee}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore",Dv="4.9.3";class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let yo="12.7.0";const na=new Tm("@firebase/firestore");function Za(){return na.logLevel}function at(r,...t){if(na.logLevel<=Ut.DEBUG){const i=t.map(xm);na.debug(`Firestore (${yo}): ${r}`,...i)}}function ps(r,...t){if(na.logLevel<=Ut.ERROR){const i=t.map(xm);na.error(`Firestore (${yo}): ${r}`,...i)}}function oo(r,...t){if(na.logLevel<=Ut.WARN){const i=t.map(xm);na.warn(`Firestore (${yo}): ${r}`,...i)}}function xm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,IT(r,a,i)}function IT(r,t,i){let a=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ps(a),new Error(a)}function $t(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||IT(t,l,a)}function bt(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends _s{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class CT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class RR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class IR{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ds,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ds)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t(typeof a.accessToken=="string",31837,{l:a}),new CT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class CR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new CR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ov(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=OR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Lt(r,t){return r<t?-1:r>t?1:0}function rm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return zd(l)===zd(c)?Lt(l,c):zd(l)?1:-1}return Lt(r.length,t.length)}const VR=55296,MR=57343;function zd(r){const t=r.charCodeAt(0);return t>=VR&&t<=MR}function lo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const Vv="__name__";class xi{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=xi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Lt(t.length,i.length)}static compareSegments(t,i){const a=xi.isNumericId(t),l=xi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?xi.extractNumericId(t).compare(xi.extractNumericId(i)):rm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return or.fromString(t.substring(4,t.length-2))}}class ce extends xi{construct(t,i,a){return new ce(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const xR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends xi{construct(t,i,a){return new tn(t,i,a)}static isValidIdentifier(t){return xR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new tn([Vv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ce.fromString(t))}static fromName(t){return new ht(ce.fromString(t).popFirst(5))}static empty(){return new ht(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ce(t.slice()))}}function NT(r,t,i){if(!i)throw new st(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function UR(r,t,i,a){if(t===!0&&a===!0)throw new st(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Mv(r){if(!ht.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xv(r){if(ht.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function DT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function mh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Yn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mh(r);throw new st(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function LR(r,t){if(t<=0)throw new st(X.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}function Be(r,t){const i={typeString:r};return t&&(i.value=t),i}function Jl(r,t){if(!DT(r))throw new st(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new st(X.INVALID_ARGUMENT,i);return!0}const Uv=-62135596800,Lv=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Lv);return new me(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Uv)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lv}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Jl(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Uv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Be("string",me._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new me(0,0))}static max(){return new Tt(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function PR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new me(i+1,0):new me(i,a));return new ur(l,ht.empty(),t)}function kR(r){return new ur(r.readTime,r.key,kl)}class ur{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ur(Tt.min(),ht.empty(),kl)}static max(){return new ur(Tt.max(),ht.empty(),kl)}}function jR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Lt(r.largestBatchId,t.largestBatchId))}const zR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function _o(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==zR)throw r;at("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((A=>{d[v]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function qR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vo(r){return r.name==="IndexedDbTransactionError"}class gh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gh.ce=-1;const Lm=-1;function ph(r){return r==null}function Wc(r){return r===0&&1/r==-1/0}function HR(r){return typeof r=="number"&&Number.isInteger(r)&&!Wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const OT="";function FR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Pv(t)),t=GR(r.get(i),t);return Pv(t)}function GR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case OT:i+="";break;default:i+=c}}return i}function Pv(r){return r+OT+""}function kv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function sa(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function VT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ye{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??We.RED,this.left=l??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new We(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(t){return new jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new He(this.comparator);return i.data=t,i}}class jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oi{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new oi([])}unionWith(t){let i=new He(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new oi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return lo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class MT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new MT("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const QR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(r){if($t(!!r,39018),typeof r=="string"){let t=0;const i=QR.exec(r);if($t(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ie(r.seconds),nanos:Ie(r.nanos)}}function Ie(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hr(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const xT="server_timestamp",UT="__type__",LT="__previous_value__",PT="__local_write_time__";function Pm(r){return(r?.mapValue?.fields||{})[UT]?.stringValue===xT}function yh(r){const t=r.mapValue.fields[LT];return Pm(t)?yh(t):t}function jl(r){const t=cr(r.mapValue.fields[PT].timestampValue);return new me(t.seconds,t.nanos)}class YR{constructor(t,i,a,l,c,d,p,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const th="(default)";class zl{constructor(t,i){this.projectId=t,this.database=i||th}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}const kT="__type__",KR="__max__",Oc={mapValue:{}},jT="__vector__",eh="value";function fr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pm(r)?4:$R(r)?9007199254740991:XR(r)?10:11:yt(28295,{value:r})}function Bi(r,t){if(r===t)return!0;const i=fr(r);if(i!==fr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return jl(r).isEqual(jl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=cr(l.timestampValue),p=cr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return hr(l.bytesValue).isEqual(hr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ie(l.geoPointValue.latitude)===Ie(c.geoPointValue.latitude)&&Ie(l.geoPointValue.longitude)===Ie(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ie(l.integerValue)===Ie(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ie(l.doubleValue),p=Ie(c.doubleValue);return d===p?Wc(d)===Wc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return lo(r.arrayValue.values||[],t.arrayValue.values||[],Bi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(kv(d)!==kv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Bi(d[y],p[y])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Bl(r,t){return(r.values||[]).find((i=>Bi(i,t)))!==void 0}function uo(r,t){if(r===t)return 0;const i=fr(r),a=fr(t);if(i!==a)return Lt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ie(c.integerValue||c.doubleValue),y=Ie(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return zv(r.timestampValue,t.timestampValue);case 4:return zv(jl(r),jl(t));case 5:return rm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=hr(c),y=hr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const A=Lt(p[v],y[v]);if(A!==0)return A}return Lt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Lt(Ie(c.latitude),Ie(d.latitude));return p!==0?p:Lt(Ie(c.longitude),Ie(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Bv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},v=p[eh]?.arrayValue,A=y[eh]?.arrayValue,b=Lt(v?.values?.length||0,A?.values?.length||0);return b!==0?b:Bv(v,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const V=rm(y[b],A[b]);if(V!==0)return V;const Y=uo(p[y[b]],v[A[b]]);if(Y!==0)return Y}return Lt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function zv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Lt(r,t);const i=cr(r),a=cr(t),l=Lt(i.seconds,a.seconds);return l!==0?l:Lt(i.nanos,a.nanos)}function Bv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=uo(i[l],a[l]);if(c)return c}return Lt(i.length,a.length)}function co(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=cr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return hr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=am(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function zc(r){switch(fr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(r);return t?16+zc(t):16;case 5:return 2*r.stringValue.length;case 6:return hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return sa(a.fields,((c,d)=>{l+=c.length+zc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function qv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function om(r){return!!r&&"integerValue"in r}function km(r){return!!r&&"arrayValue"in r}function Hv(r){return!!r&&"nullValue"in r}function Fv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function XR(r){return(r?.mapValue?.fields||{})[kT]?.stringValue===jT}function Vl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return sa(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Vl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Vl(r.arrayValue.values[i]);return t}return{...r}}function $R(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KR}class Gn{constructor(t){this.value=t}static empty(){return new Gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(i)}setAll(t){let i=tn.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Vl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Bi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){sa(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Gn(Vl(this.value))}}function zT(r){const t=[];return sa(r.fields,((i,a)=>{const l=new tn([i]);if(Bc(a)){const c=zT(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new oi(t)}class an{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,Tt.min(),Tt.min(),Tt.min(),Gn.empty(),0)}static newFoundDocument(t,i,a,l){return new an(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new an(t,2,i,Tt.min(),Tt.min(),Gn.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,Tt.min(),Tt.min(),Gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,i){this.position=t,this.inclusive=i}}function Gv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=uo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Qv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Bi(r.position[i],t.position[i]))return!1;return!0}class ql{constructor(t,i="asc"){this.field=t,this.dir=i}}function ZR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class BT{}class ze extends BT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new WR(t,i,a):i==="array-contains"?new nI(t,a):i==="in"?new iI(t,a):i==="not-in"?new sI(t,a):i==="array-contains-any"?new rI(t,a):new ze(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new tI(t,a):new eI(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends BT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ci(t,i)}matches(t){return qT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qT(r){return r.op==="and"}function HT(r){return JR(r)&&qT(r)}function JR(r){for(const t of r.filters)if(t instanceof ci)return!1;return!0}function lm(r){if(r instanceof ze)return r.field.canonicalString()+r.op.toString()+co(r.value);if(HT(r))return r.filters.map((t=>lm(t))).join(",");{const t=r.filters.map((i=>lm(i))).join(",");return`${r.op}(${t})`}}function FT(r,t){return r instanceof ze?(function(a,l){return l instanceof ze&&a.op===l.op&&a.field.isEqual(l.field)&&Bi(a.value,l.value)})(r,t):r instanceof ci?(function(a,l){return l instanceof ci&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&FT(d,l.filters[p])),!0):!1})(r,t):void yt(19439)}function GT(r){return r instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(r):r instanceof ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(GT).join(" ,")+"}"})(r):"Filter"}class WR extends ze{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class tI extends ze{constructor(t,i){super(t,"in",i),this.keys=QT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class eI extends ze{constructor(t,i){super(t,"not-in",i),this.keys=QT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function QT(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class nI extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return km(i)&&Bl(i.arrayValue,this.value)}}class iI extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class sI extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bl(this.value.arrayValue,i)}}class rI extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bl(this.value.arrayValue,a)))}}class aI{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Yv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new aI(r,t,i,a,l,c,d)}function jm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>co(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>co(a))).join(",")),t.Te=i}return t.Te}function zm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!ZR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!FT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Qv(r.startAt,t.startAt)&&Qv(r.endAt,t.endAt)}function um(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eo{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oI(r,t,i,a,l,c,d,p){return new Eo(r,t,i,a,l,c,d,p)}function _h(r){return new Eo(r)}function Kv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function YT(r){return r.collectionGroup!==null}function Ml(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new He(tn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ql(c,a))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new ql(tn.keyField(),a))}return t.Ie}function Li(r){const t=bt(r);return t.Ee||(t.Ee=lI(t,Ml(r))),t.Ee}function lI(r,t){if(r.limitType==="F")return Yv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ql(l.field,c)}));const i=r.endAt?new nh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new nh(r.startAt.position,r.startAt.inclusive):null;return Yv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function cm(r,t){const i=r.filters.concat([t]);return new Eo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function ih(r,t,i){return new Eo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function vh(r,t){return zm(Li(r),Li(t))&&r.limitType===t.limitType}function KT(r){return`${jm(Li(r))}|lt:${r.limitType}`}function Ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>GT(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>co(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>co(l))).join(",")),`Target(${a})`})(Li(r))}; limitType=${r.limitType})`}function Eh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Ml(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const v=Gv(d,p,y);return d.inclusive?v<=0:v<0})(a.startAt,Ml(a),l)||a.endAt&&!(function(d,p,y){const v=Gv(d,p,y);return d.inclusive?v>=0:v>0})(a.endAt,Ml(a),l))})(r,t)}function uI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function XT(r){return(t,i)=>{let a=!1;for(const l of Ml(r)){const c=cI(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function cI(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?uo(y,v):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class ra{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){sa(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return VT(this.inner)}size(){return this.innerSize}}const hI=new ye(ht.comparator);function ys(){return hI}const $T=new ye(ht.comparator);function Il(...r){let t=$T;for(const i of r)t=t.insert(i.key,i);return t}function ZT(r){let t=$T;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Xr(){return xl()}function JT(){return xl()}function xl(){return new ra((r=>r.toString()),((r,t)=>r.isEqual(t)))}const fI=new ye(ht.comparator),dI=new He(ht.comparator);function Pt(...r){let t=dI;for(const i of r)t=t.add(i);return t}const mI=new He(Lt);function gI(){return mI}function Bm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function WT(r){return{integerValue:""+r}}function t0(r,t){return HR(t)?WT(t):Bm(r,t)}class Th{constructor(){this._=void 0}}function pI(r,t,i){return r instanceof Hl?(function(l,c){const d={fields:{[UT]:{stringValue:xT},[PT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pm(c)&&(c=yh(c)),c&&(d.fields[LT]=c),{mapValue:d}})(i,t):r instanceof Fl?n0(r,t):r instanceof Gl?i0(r,t):(function(l,c){const d=e0(l,c),p=Xv(d)+Xv(l.Ae);return om(d)&&om(l.Ae)?WT(p):Bm(l.serializer,p)})(r,t)}function yI(r,t,i){return r instanceof Fl?n0(r,t):r instanceof Gl?i0(r,t):i}function e0(r,t){return r instanceof Ql?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Hl extends Th{}class Fl extends Th{constructor(t){super(),this.elements=t}}function n0(r,t){const i=s0(t);for(const a of r.elements)i.some((l=>Bi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Gl extends Th{constructor(t){super(),this.elements=t}}function i0(r,t){let i=s0(t);for(const a of r.elements)i=i.filter((l=>!Bi(l,a)));return{arrayValue:{values:i}}}class Ql extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Xv(r){return Ie(r.integerValue||r.doubleValue)}function s0(r){return km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class r0{constructor(t,i){this.field=t,this.transform=i}}function _I(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Fl&&l instanceof Fl||a instanceof Gl&&l instanceof Gl?lo(a.elements,l.elements,Bi):a instanceof Ql&&l instanceof Ql?Bi(a.Ae,l.Ae):a instanceof Hl&&l instanceof Hl})(r.transform,t.transform)}class vI{constructor(t,i){this.version=t,this.transformResults=i}}class ui{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ah{}function a0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new qm(r.key,ui.none()):new Wl(r.key,r.data,ui.none());{const i=r.data,a=Gn.empty();let l=new He(tn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new aa(r.key,a,new oi(l.toArray()),ui.none())}}function EI(r,t,i){r instanceof Wl?(function(l,c,d){const p=l.value.clone(),y=Zv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof aa?(function(l,c,d){if(!qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Zv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(o0(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ul(r,t,i,a){return r instanceof Wl?(function(c,d,p,y){if(!qc(c.precondition,d))return p;const v=c.value.clone(),A=Jv(c.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof aa?(function(c,d,p,y){if(!qc(c.precondition,d))return p;const v=Jv(c.fieldTransforms,y,d),A=d.data;return A.setAll(o0(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function TI(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=e0(a.transform,l||null);c!=null&&(i===null&&(i=Gn.empty()),i.set(a.field,c))}return i||null}function $v(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&lo(a,l,((c,d)=>_I(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Wl extends Ah{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class aa extends Ah{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function o0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Zv(r,t,i){const a=new Map;$t(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,yI(d,p,i[l]))}return a}function Jv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,pI(c,d,t))}return a}class qm extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AI extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SI{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&EI(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ul(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ul(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=JT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=a0(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&lo(this.mutations,t.mutations,((i,a)=>$v(i,a)))&&lo(this.baseMutations,t.baseMutations,((i,a)=>$v(i,a)))}}class Hm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){$t(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return fI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Hm(t,i,a,l)}}class bI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wI{constructor(t,i){this.count=t,this.unchangedNames=i}}var je,zt;function RI(r){switch(r){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function l0(r){if(r===void 0)return ps("GRPC error has no .code"),X.UNKNOWN;switch(r){case je.OK:return X.OK;case je.CANCELLED:return X.CANCELLED;case je.UNKNOWN:return X.UNKNOWN;case je.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case je.INTERNAL:return X.INTERNAL;case je.UNAVAILABLE:return X.UNAVAILABLE;case je.UNAUTHENTICATED:return X.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case je.NOT_FOUND:return X.NOT_FOUND;case je.ALREADY_EXISTS:return X.ALREADY_EXISTS;case je.PERMISSION_DENIED:return X.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case je.ABORTED:return X.ABORTED;case je.OUT_OF_RANGE:return X.OUT_OF_RANGE;case je.UNIMPLEMENTED:return X.UNIMPLEMENTED;case je.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:r})}}(zt=je||(je={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function II(){return new TextEncoder}const CI=new or([4294967295,4294967295],0);function Wv(r){const t=II().encode(r),i=new TT;return i.update(t),new Uint8Array(i.digest())}function tE(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new or([i,a],0),new or([l,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Cl(`Invalid padding: ${i}`);if(a<0)throw new Cl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=or.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(or.fromNumber(a)));return l.compare(CI)===1&&(l=new or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Wv(t),[a,l]=tE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Wv(t),[a,l]=tE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(Tt.min(),l,new ye(Lt),ys(),Pt())}}class tu{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new tu(a,i,Pt(),Pt(),Pt())}}class Hc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class u0{constructor(t,i){this.targetId=t,this.Ce=i}}class c0{constructor(t,i,a=en.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class eE{constructor(){this.ve=0,this.Fe=nE(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new tu(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=nE()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ys(),this.Je=Vc(),this.He=Vc(),this.Ye=new ye(Lt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(um(c))if(a===0){const d=new ht(c.path);this.et(i,d,an.newNoDocument(d,Tt.min()))}else $t(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=hr(a).toUint8Array()}catch(y){if(y instanceof MT)return oo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Fm(d,l,c)}catch(y){return oo(y instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&um(p.target)){const y=new ht(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,an.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Pt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Sh(t,i,this.Ye,this.je,a);return this.je=ys(),this.Je=Vc(),this.He=Vc(),this.Ye=new ye(Lt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new eE,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new He(Lt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new He(Lt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new eE),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Vc(){return new ye(ht.comparator)}function nE(){return new ye(ht.comparator)}const DI={asc:"ASCENDING",desc:"DESCENDING"},OI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VI={and:"AND",or:"OR"};class MI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hm(r,t){return r.useProto3Json||ph(t)?t:{value:t}}function sh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function h0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function xI(r,t){return sh(r,t.toTimestamp())}function Pi(r){return $t(!!r,49232),Tt.fromTimestamp((function(i){const a=cr(i);return new me(a.seconds,a.nanos)})(r))}function Gm(r,t){return fm(r,t).canonicalString()}function fm(r,t){const i=(function(l){return new ce(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function f0(r){const t=ce.fromString(r);return $t(y0(t),10190,{key:t.toString()}),t}function dm(r,t){return Gm(r.databaseId,t.path)}function Bd(r,t){const i=f0(t);if(i.get(1)!==r.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(m0(i))}function d0(r,t){return Gm(r.databaseId,t)}function UI(r){const t=f0(r);return t.length===4?ce.emptyPath():m0(t)}function mm(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function m0(r){return $t(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function iE(r,t,i){return{name:dm(r,t),fields:i.value.mapValue.fields}}function LI(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?($t(A===void 0||typeof A=="string",58123),en.fromBase64String(A||"")):($t(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),en.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?X.UNKNOWN:l0(v.code);return new st(A,v.message||"")})(d);i=new c0(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(r,a.document.name),c=Pi(a.document.updateTime),d=a.document.createTime?Pi(a.document.createTime):Tt.min(),p=new Gn({mapValue:{fields:a.document.fields}}),y=an.newFoundDocument(l,c,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Hc(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Bd(r,a.document),c=a.readTime?Pi(a.readTime):Tt.min(),d=an.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Hc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Bd(r,a.document),c=a.removedTargetIds||[];i=new Hc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new wI(l,c),p=a.targetId;i=new u0(p,d)}}return i}function PI(r,t){let i;if(t instanceof Wl)i={update:iE(r,t.key,t.value)};else if(t instanceof qm)i={delete:dm(r,t.key)};else if(t instanceof aa)i={update:iE(r,t.key,t.data),updateMask:QI(t.fieldMask)};else{if(!(t instanceof AI))return yt(16599,{Vt:t.type});i={verify:dm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Hl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ql)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:xI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function kI(r,t){return r&&r.length>0?($t(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Pi(l.updateTime):Pi(c);return d.isEqual(Tt.min())&&(d=Pi(c)),new vI(d,l.transformResults||[])})(i,t)))):[]}function jI(r,t){return{documents:[d0(r,t.path)]}}function zI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=d0(r,l);const c=(function(v){if(v.length!==0)return p0(ci.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(V){return{field:Wa(V.field),direction:HI(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=hm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function BI(r){let t=UI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){$t(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const V=g0(b);return V instanceof ci&&HT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function(W){return new ql(to(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let V;return V=typeof b=="object"?b.value:b,ph(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(b){const V=!!b.before,Y=b.values||[];return new nh(Y,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const V=!b.before,Y=b.values||[];return new nh(Y,V)})(i.endAt)),oI(t,l,d,c,p,"F",y,v)}function qI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function g0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=to(i.unaryFilter.field);return ze.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=to(i.unaryFilter.field);return ze.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=to(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=to(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ze.create(to(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ci.create(i.compositeFilter.filters.map((a=>g0(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function HI(r){return DI[r]}function FI(r){return OI[r]}function GI(r){return VI[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function to(r){return tn.fromServerFormat(r.fieldPath)}function p0(r){return r instanceof ze?(function(i){if(i.op==="=="){if(Fv(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NAN"}};if(Hv(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Fv(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NAN"}};if(Hv(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(i.field),op:FI(i.op),value:i.value}}})(r):r instanceof ci?(function(i){const a=i.getFilters().map((l=>p0(l)));return a.length===1?a[0]:{compositeFilter:{op:GI(i.op),filters:a}}})(r):yt(54877,{filter:r})}function QI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function y0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ir{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),p=en.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class YI{constructor(t){this.yt=t}}function KI(r){const t=BI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ih(t,t.limit,"L"):t}class XI{constructor(){this.Cn=new $I}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(ur.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class $I{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new He(ce.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new He(ce.comparator)).toArray()}}const sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_0=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(_0,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class ho{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}const rE="LruGarbageCollector",ZI=1048576;function aE([r,t],[i,a]){const l=Lt(r,i);return l===0?Lt(t,a):l}class JI{constructor(t){this.Ir=t,this.buffer=new He(aE),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();aE(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class WI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(rE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vo(i)?at(rE,"Ignoring IndexedDB error during garbage collection: ",i):await _o(i)}await this.Vr(3e5)}))}}class tC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(gh.ce);const a=new JI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(sE)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sE):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(v=Date.now(),Za()<=Ut.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function eC(r,t){return new tC(r,t)}class nC{constructor(){this.changes=new ra((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class iC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class sC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ul(a.mutation,l,oi.empty(),me.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const l=Xr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Il();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Xr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ys();const d=xl(),p=(function(){return xl()})();return i.forEach(((y,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof aa)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Ul(A.mutation,v,A.mutation.getFieldMask(),me.now())):d.set(v.key,oi.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new iC(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=xl();let l=new ye(((d,p)=>d-p)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let A=a.get(y)||oi.empty();A=p.applyToLocalView(v,A),a.set(y,A);const b=(l.get(p.batchId)||Pt()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,A=y.value,b=JT();A.forEach((V=>{if(!c.has(V)){const Y=a0(i.get(V),a.get(V));Y!==null&&b.set(V,Y),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):YT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(Xr());let p=kl,y=c;return d.next((v=>Z.forEach(v,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{y=y.insert(A,V)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,Pt()))).next((A=>({batchId:p,changes:ZT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=Il();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const v=(function(b,V){return new Eo(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((A=>{A.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,an.newInvalidDocument(A)))}));let p=Il();return d.forEach(((y,v)=>{const A=c.get(y);A!==void 0&&Ul(A.mutation,v,oi.empty(),me.now()),Eh(i,v)&&(p=p.insert(y,v))})),p}))}}class rC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:KI(l.bundledQuery),readTime:Pi(l.readTime)}})(i)),Z.resolve()}}class aC{constructor(){this.overlays=new ye(ht.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Xr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Xr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ye(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=Xr(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Xr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new bI(i,a));let c=this.qr.get(i);c===void 0&&(c=Pt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class oC{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Qm{constructor(){this.Qr=new He(Ye.$r),this.Ur=new He(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ye(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ye(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ht(new ce([])),a=new Ye(i,t),l=new Ye(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new ce([])),a=new Ye(i,t),l=new Ye(i,t+1);let c=Pt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ye(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ye{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Lt(t.Yr,i.Yr)}static Kr(t,i){return Lt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class lC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ye.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new SI(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ye(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ye(i,0),l=new Ye(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new He(Lt);return i.forEach((l=>{const c=new Ye(l,0),d=new Ye(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Ye(new ht(c),0);let p=new He(Lt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Ye(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ye(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class uC{constructor(t){this.ri=t,this.docs=(function(){return new ye(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=ys();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ys();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||jR(kR(A),a)<=0||(l.has(A.key)||Eh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new cC(this)}getSize(t){return Z.resolve(this.size)}}class cC extends nC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class hC{constructor(t){this.persistence=t,this.si=new ra((i=>jm(i)),zm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=ho.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ho(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class v0{constructor(t,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new oC,this.referenceDelegate=t(this),this.Pi=new hC(this),this.indexManager=new XI,this.remoteDocumentCache=(function(l){return new uC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new YI(i),this.Ii=new rC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new aC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new lC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new fC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class fC extends BR{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Qm,this.Vi=null}static mi(t){return new Ym(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=ht.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.pi=new ra((a=>FR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=eC(this,i)}static mi(t,i){return new rh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Km{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Km(t,i.fromCache,a,l)}}class dC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class mC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s1()?8:qR(on())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new dC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Za()<=Ut.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Za()<=Ut.DEBUG&&at("QueryEngine","Query:",Ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Za()<=Ut.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Li(i))):Z.resolve())}ys(t,i){if(Kv(i))return Z.resolve(null);let a=Li(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ih(i,null,"F"),a=Li(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Pt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const v=this.Ds(i,p);return this.Cs(i,v,d,y.readTime)?this.ys(t,ih(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ws(t,i,a,l){return Kv(i)||l.isEqual(Tt.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(Za()<=Ut.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ja(i)),this.vs(t,d,i,PR(l,kl)).next((p=>p)))}))}Ds(t,i){let a=new He(XT(t));return i.forEach(((l,c)=>{Eh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Za()<=Ut.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.ps.getDocumentsMatchingQuery(t,i,ur.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",gC=3e8;class pC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ye(Lt),this.xs=new ra((c=>jm(c)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function yC(r,t,i,a){return new pC(r,t,i,a)}async function E0(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Pt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function _C(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,A){const b=v.batch,V=b.keys();let Y=Z.resolve();return V.forEach((W=>{Y=Y.next((()=>A.getEntry(y,W))).next((it=>{const tt=v.docVersions.get(W);$t(tt!==null,48541),it.version.compareTo(tt)<0&&(b.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Pt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function T0(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function vC(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const V=l.get(b);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let Y=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?Y=Y.withResumeToken(en.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,a)),l=l.insert(b,Y),(function(it,tt,ft){return it.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=gC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(V,Y,A)&&p.push(i.Pi.updateTargetData(c,Y))}));let y=ys(),v=Pt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(EC(c,d,t.documentUpdates).next((A=>{y=A.ks,v=A.qs}))),!a.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function EC(r,t,i){let a=Pt(),l=Pt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ys();return i.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(Xm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function TC(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function AC(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ir(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function gm(r,t,i){const a=bt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!vo(d))throw d;at(Xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function oE(r,t,i){const a=bt(r);let l=Tt.min(),c=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,A){const b=bt(y),V=b.xs.get(A);return V!==void 0?Z.resolve(b.Ms.get(V)):b.Pi.getTargetData(v,A)})(a,d,Li(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Pt()))).next((p=>(SC(a,uI(t),p),{documents:p,Qs:c})))))}function SC(r,t,i){let a=r.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class lE{constructor(){this.activeTargetIds=gI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bC{constructor(){this.Mo=new lE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lE,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wC{Oo(t){}shutdown(){}}const uE="ConnectivityMonitor";class cE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(uE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(uE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function pm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const qd="RestConnection",RC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=pm(),p=this.zo(t,i.toUriEncodedString());at(qd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:v}=new URL(p),A=mo(v);return this.Jo(t,p,y,a,A).then((b=>(at(qd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw oo(qd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=RC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class CC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class NC extends IC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=pm();return new Promise(((p,y)=>{const v=new AT;v.setWithCredentials(!0),v.listenOnce(ST.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case jc.NO_ERROR:const b=v.getResponseJson();at(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case jc.TIMEOUT:at(sn,`RPC '${t}' ${d} timed out`),y(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const V=v.getStatus();if(at(sn,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let Y=v.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const W=Y?.error;if(W&&W.status&&W.message){const it=(function(ft){const vt=ft.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(vt)>=0?vt:X.UNKNOWN})(W.status);y(new st(it,W.message))}else y(new st(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new st(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{at(sn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);at(sn,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=RT(),p=wT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");at(sn,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let V=!1,Y=!1;const W=new CC({Yo:tt=>{Y?at(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(V||(at(sn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),V=!0),at(sn,`RPC '${t}' stream ${l} sending:`,tt),b.send(tt))},Zo:()=>b.close()}),it=(tt,ft,vt)=>{tt.listen(ft,(mt=>{try{vt(mt)}catch(Kt){setTimeout((()=>{throw Kt}),0)}}))};return it(b,Rl.EventType.OPEN,(()=>{Y||(at(sn,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),it(b,Rl.EventType.CLOSE,(()=>{Y||(Y=!0,at(sn,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(b))})),it(b,Rl.EventType.ERROR,(tt=>{Y||(Y=!0,oo(sn,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),W.a_(new st(X.UNAVAILABLE,"The operation could not be completed")))})),it(b,Rl.EventType.MESSAGE,(tt=>{if(!Y){const ft=tt.data[0];$t(!!ft,16349);const vt=ft,mt=vt?.error||vt[0]?.error;if(mt){at(sn,`RPC '${t}' stream ${l} received error:`,mt);const Kt=mt.status;let re=(function(w){const I=je[w];if(I!==void 0)return l0(I)})(Kt),kt=mt.message;re===void 0&&(re=X.INTERNAL,kt="Unknown error status: "+Kt+" with message "+mt.message),Y=!0,W.a_(new st(re,kt)),b.close()}else at(sn,`RPC '${t}' stream ${l} received:`,ft),W.u_(ft)}})),it(p,bT.STAT_EVENT,(tt=>{tt.stat===sm.PROXY?at(sn,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===sm.NOPROXY&&at(sn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Hd(){return typeof document<"u"?document:null}function bh(r){return new MI(r,!0)}class A0{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hE="PersistentStream";class S0{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new st(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(hE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DC extends S0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=LI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Pi(d.readTime):Tt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=um(y)?{documents:jI(c,y)}:{query:zI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=h0(c,d.resumeToken);const v=hm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=sh(c,d.snapshotVersion.toTimestamp());const v=hm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const a=qI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=mm(this.serializer),i.removeTarget=t,this.q_(i)}}class OC extends S0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=kI(t.writeResults,t.commitTime),a=Pi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=mm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>PI(this.serializer,a)))};this.q_(i)}}class VC{}class MC extends VC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,fm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class UC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{oa(this)&&(at(ia,"Restarting streams for network reachability change."),await(async function(y){const v=bt(y);v.Ea.add(4),await eu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await wh(v)})(this))}))})),this.Ra=new xC(a,l)}}async function wh(r){if(oa(r))for(const t of r.da)await t(!0)}async function eu(r){for(const t of r.da)await t(!1)}function b0(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Wm(i)?Jm(i):To(i).O_()&&Zm(i,t))}function $m(r,t){const i=bt(r),a=To(i);i.Ia.delete(t),a.O_()&&w0(i,t),i.Ia.size===0&&(a.O_()?a.L_():oa(i)&&i.Ra.set("Unknown"))}function Zm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}To(r).Y_(t)}function w0(r,t){r.Va.Ue(t),To(r).Z_(t)}function Jm(r){r.Va=new NI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),To(r).start(),r.Ra.ua()}function Wm(r){return oa(r)&&!To(r).x_()&&r.Ia.size>0}function oa(r){return bt(r).Ea.size===0}function R0(r){r.Va=void 0}async function LC(r){r.Ra.set("Online")}async function PC(r){r.Ia.forEach(((t,i)=>{Zm(r,t)}))}async function kC(r,t){R0(r),Wm(r)?(r.Ra.ha(t),Jm(r)):r.Ra.set("Unknown")}async function jC(r,t,i){if(r.Ra.set("Online"),t instanceof c0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){at(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(r,a)}else if(t instanceof Hc?r.Va.Ze(t):t instanceof u0?r.Va.st(t):r.Va.tt(t),!i.isEqual(Tt.min()))try{const a=await T0(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(en.EMPTY_BYTE_STRING,A.snapshotVersion)),w0(c,y);const b=new ir(A.target,y,v,A.sequenceNumber);Zm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(ia,"Failed to raise snapshot:",a),await ah(r,a)}}async function ah(r,t,i){if(!vo(t))throw t;r.Ea.add(1),await eu(r),r.Ra.set("Offline"),i||(i=()=>T0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(ia,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function I0(r,t){return t().catch((i=>ah(r,i,t)))}async function Rh(r){const t=bt(r),i=dr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;zC(t);)try{const l=await TC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,BC(t,l)}catch(l){await ah(t,l)}C0(t)&&N0(t)}function zC(r){return oa(r)&&r.Ta.length<10}function BC(r,t){r.Ta.push(t);const i=dr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function C0(r){return oa(r)&&!dr(r).x_()&&r.Ta.length>0}function N0(r){dr(r).start()}async function qC(r){dr(r).ra()}async function HC(r){const t=dr(r);for(const i of r.Ta)t.ea(i.mutations)}async function FC(r,t,i){const a=r.Ta.shift(),l=Hm.from(a,t,i);await I0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Rh(r)}async function GC(r,t){t&&dr(r).X_&&await(async function(a,l){if((function(d){return RI(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();dr(a).B_(),await I0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(a)}})(r,t),C0(r)&&N0(r)}async function fE(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),at(ia,"RemoteStore received new credentials");const a=oa(i);i.Ea.add(3),await eu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function QC(r,t){const i=bt(r);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await eu(i),i.Ra.set("Unknown"))}function To(r){return r.ma||(r.ma=(function(i,a,l){const c=bt(i);return c.sa(),new DC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:LC.bind(null,r),t_:PC.bind(null,r),r_:kC.bind(null,r),H_:jC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Wm(r)?Jm(r):r.Ra.set("Unknown")):(await r.ma.stop(),R0(r))}))),r.ma}function dr(r){return r.fa||(r.fa=(function(i,a,l){const c=bt(i);return c.sa(),new OC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:qC.bind(null,r),r_:GC.bind(null,r),ta:HC.bind(null,r),na:FC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new tg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(r,t){if(ps("AsyncQueue",`${t}: ${r}`),vo(r))return new st(X.UNAVAILABLE,`${t}: ${r}`);throw r}class so{static emptySet(t){return new so(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=Il(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof so)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new so;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class dE{constructor(){this.ga=new ye(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class fo{constructor(t,i,a,l,c,d,p,y,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new fo(t,i,so.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class YC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class KC{constructor(){this.queries=mE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=mE(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new st(X.ABORTED,"Firestore shutting down"))}}function mE(){return new ra((r=>KT(r)),vh)}async function ng(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new YC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=eg(d,`Initialization of query '${Ja(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sg(i)}async function ig(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function XC(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&sg(i)}function $C(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function sg(r){r.Ca.forEach((t=>{t.next()}))}var ym,gE;(gE=ym||(ym={})).Ma="default",gE.Cache="cache";class rg{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new fo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ym.Cache}}class D0{constructor(t){this.key=t}}class O0{constructor(t){this.key=t}}class ZC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=XT(t),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new dE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const V=l.get(A),Y=Eh(this.query,b)?b:null,W=!!V&&this.mutatedKeys.has(V.key),it=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let tt=!1;V&&Y?V.data.isEqual(Y.data)?W!==it&&(a.track({type:3,doc:Y}),tt=!0):this.su(V,Y)||(a.track({type:2,doc:Y}),tt=!0,(y&&this.eu(Y,y)>0||v&&this.eu(Y,v)<0)&&(p=!0)):!V&&Y?(a.track({type:0,doc:Y}),tt=!0):V&&!Y&&(a.track({type:1,doc:V}),tt=!0,(y||v)&&(p=!0)),tt&&(Y?(d=d.add(Y),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(Y,W){const it=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:tt})}};return it(Y)-it(W)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new fo(this.query,t.tu,c,d,t.mutatedKeys,y===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new O0(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new D0(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class JC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class WC{constructor(t){this.key=t,this.hu=!1}}class t2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((p=>KT(p)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new ye(ht.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e2(r,t,i=!0){const a=P0(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await V0(a,t,i,!0),l}async function n2(r,t){const i=P0(r);await V0(i,t,!0,!1)}async function V0(r,t,i,a){const l=await AC(r.localStore,Li(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await i2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&b0(r.remoteStore,l),p}async function i2(r,t,i,a,l){r.pu=(b,V,Y)=>(async function(it,tt,ft,vt){let mt=tt.view.ru(ft);mt.Cs&&(mt=await oE(it.localStore,tt.query,!1).then((({documents:N})=>tt.view.ru(N,mt))));const Kt=vt&&vt.targetChanges.get(tt.targetId),re=vt&&vt.targetMismatches.get(tt.targetId)!=null,kt=tt.view.applyChanges(mt,it.isPrimaryClient,Kt,re);return yE(it,tt.targetId,kt.au),kt.snapshot})(r,b,V,Y);const c=await oE(r.localStore,t,!0),d=new ZC(t,c.Qs),p=d.ru(c.documents),y=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(p,r.isPrimaryClient,y);yE(r,i,v.au);const A=new JC(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),v.snapshot}async function s2(r,t,i){const a=bt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&$m(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(_o)):(_m(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function r2(r,t){const i=bt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),$m(i.remoteStore,a.targetId))}async function a2(r,t,i){const a=d2(r);try{const l=await(function(d,p){const y=bt(d),v=me.now(),A=p.reduce(((Y,W)=>Y.add(W.key)),Pt());let b,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let W=ys(),it=Pt();return y.Ns.getEntries(Y,A).next((tt=>{W=tt,W.forEach(((ft,vt)=>{vt.isValidDocument()||(it=it.add(ft))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Y,W))).next((tt=>{b=tt;const ft=[];for(const vt of p){const mt=TI(vt,b.get(vt.key).overlayedDocument);mt!=null&&ft.push(new aa(vt.key,mt,zT(mt.value.mapValue),ui.exists(!0)))}return y.mutationQueue.addMutationBatch(Y,v,ft,p)})).next((tt=>{V=tt;const ft=tt.applyToLocalDocumentSet(b,it);return y.documentOverlayCache.saveOverlays(Y,tt.batchId,ft)}))})).then((()=>({batchId:V.batchId,changes:ZT(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new ye(Lt)),v=v.insert(p,y),d.Vu[d.currentUser.toKey()]=v})(a,l.batchId,i),await nu(a,l.changes),await Rh(a.remoteStore)}catch(l){const c=eg(l,"Failed to persist write");i.reject(c)}}async function M0(r,t){const i=bt(r);try{const a=await vC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$t(d.hu,14607):l.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await nu(i,a,t)}catch(a){await _o(a)}}function pE(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=bt(d);y.onlineState=p;let v=!1;y.queries.forEach(((A,b)=>{for(const V of b.Sa)V.va(p)&&(v=!0)})),v&&sg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function o2(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ye(ht.comparator);d=d.insert(c,an.newNoDocument(c,Tt.min()));const p=Pt().add(c),y=new Sh(Tt.min(),new Map,new ye(Lt),d,p);await M0(a,y),a.du=a.du.remove(c),a.Au.delete(t),og(a)}else await gm(a.localStore,t,!1).then((()=>_m(a,t,i))).catch(_o)}async function l2(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await _C(i.localStore,t);U0(i,a,null),x0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,l)}catch(l){await _o(l)}}async function u2(r,t,i){const a=bt(r);try{const l=await(function(d,p){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return y.mutationQueue.lookupMutationBatch(v,p).next((b=>($t(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(v,b)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>y.localDocuments.getDocuments(v,A)))}))})(a.localStore,t);U0(a,t,i),x0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await nu(a,l)}catch(l){await _o(l)}}function x0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function U0(r,t,i){const a=bt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function _m(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||L0(r,a)}))}function L0(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&($m(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),og(r))}function yE(r,t,i){for(const a of i)a instanceof D0?(r.Ru.addReference(a.key,t),c2(r,a)):a instanceof O0?(at(ag,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||L0(r,a.key)):yt(19791,{wu:a})}function c2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(ag,"New document in limbo: "+i),r.Eu.add(a),og(r))}function og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(ce.fromString(t)),a=r.fu.next();r.Au.set(a,new WC(i)),r.du=r.du.insert(i,a),b0(r.remoteStore,new ir(Li(_h(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function nu(r,t,i){const a=bt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){l.push(v);const A=Km.As(y.targetId,v);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,v){const A=bt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(v,(V=>Z.forEach(V.Es,(Y=>A.persistence.referenceDelegate.addReference(b,V.targetId,Y))).next((()=>Z.forEach(V.ds,(Y=>A.persistence.referenceDelegate.removeReference(b,V.targetId,Y)))))))))}catch(b){if(!vo(b))throw b;at(Xm,"Failed to update sequence numbers: "+b)}for(const b of v){const V=b.targetId;if(!b.fromCache){const Y=A.Ms.get(V),W=Y.snapshotVersion,it=Y.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(V,it)}}})(a.localStore,c))}async function h2(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){at(ag,"User change. New user:",t.toKey());const a=await E0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new st(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await nu(i,a.Ls)}}function f2(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function P0(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=M0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=f2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=o2.bind(null,t),t.Pu.H_=XC.bind(null,t.eventManager),t.Pu.yu=$C.bind(null,t.eventManager),t}function d2(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=u2.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return yC(this.persistence,new mC,t.initialUser,this.serializer)}Cu(t){return new v0(Ym.mi,this.serializer)}Du(t){return new bC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class m2 extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new WI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new v0((a=>rh.mi(a,i)),this.serializer)}}class vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>pE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=h2.bind(null,this.syncEngine),await QC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KC})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),a=(function(c){return new NC(c)})(t.databaseInfo);return(function(c,d,p,y){return new MC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new UC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>pE(this.syncEngine,i,0)),(function(){return cE.v()?new cE:new wC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,v,A){const b=new t2(l,c,d,p,y,v);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);at(ia,"RemoteStore shutting down."),a.Ea.add(5),await eu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class lg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const mr="FirestoreClient";class g2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=eg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),at(mr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await E0(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function _E(r,t){r.asyncQueue.verifyOperationInProgress();const i=await p2(r);at(mr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>fE(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>fE(t.remoteStore,l))),r._onlineComponents=t}async function p2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(mr,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new oh)}}else at(mr,"Using default OfflineComponentProvider"),await Fd(r,new m2(void 0));return r._offlineComponents}async function k0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(mr,"Using user provided OnlineComponentProvider"),await _E(r,r._uninitializedComponentsProvider._online)):(at(mr,"Using default OnlineComponentProvider"),await _E(r,new vm))),r._onlineComponents}function y2(r){return k0(r).then((t=>t.syncEngine))}async function lh(r){const t=await k0(r),i=t.eventManager;return i.onListen=e2.bind(null,t.syncEngine),i.onUnlisten=s2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=n2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=r2.bind(null,t.syncEngine),i}function _2(r,t,i={}){const a=new ds;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,v){const A=new lg({next:V=>{A.Nu(),d.enqueueAndForget((()=>ig(c,b)));const Y=V.docs.has(p);!Y&&V.fromCache?v.reject(new st(X.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&V.fromCache&&y&&y.source==="server"?v.reject(new st(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(V)},error:V=>v.reject(V)}),b=new rg(_h(p.path),A,{includeMetadataChanges:!0,qa:!0});return ng(c,b)})(await lh(r),r.asyncQueue,t,i,a))),a.promise}function v2(r,t,i={}){const a=new ds;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,v){const A=new lg({next:V=>{A.Nu(),d.enqueueAndForget((()=>ig(c,b))),V.fromCache&&y.source==="server"?v.reject(new st(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(V)},error:V=>v.reject(V)}),b=new rg(p,A,{includeMetadataChanges:!0,qa:!0});return ng(c,b)})(await lh(r),r.asyncQueue,t,i,a))),a.promise}function j0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const vE=new Map;const z0="firestore.googleapis.com",EE=!0;class TE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z0,this.ssl=EE}else this.host=t.host,this.ssl=t.ssl??EE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZI)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}UR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new wR;switch(a.type){case"firstParty":return new NR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=vE.get(i);a&&(at("ComponentProvider","Removing Datastore"),vE.delete(i),a.terminate())})(this),Promise.resolve()}}function E2(r,t,i,a={}){r=Yn(r,Ih);const l=mo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(PE(`https://${p}`),kE("Firestore",!0)),c.host!==z0&&c.host!==p&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Wr(y,d)&&(r._setSettings(y),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=rn.MOCK_USER;else{v=XS(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rn(b)}r._authCredentials=new RR(new CT(v,A))}}class vs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new vs(this.firestore,t,this._query)}}class Ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Jl(i,Ce._jsonSchema))return new Ce(t,a||null,new ht(ce.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Be("string",Ce._jsonSchemaVersion),referencePath:Be("string")};class lr extends vs{constructor(t,i,a){super(t,i,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ht(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function us(r,t,...i){if(r=fn(r),NT("collection","path",t),r instanceof Ih){const a=ce.fromString(t,...i);return xv(a),new lr(r,null,a)}{if(!(r instanceof Ce||r instanceof lr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ce.fromString(t,...i));return xv(a),new lr(r.firestore,null,a)}}function On(r,t,...i){if(r=fn(r),arguments.length===1&&(t=Um.newId()),NT("doc","path",t),r instanceof Ih){const a=ce.fromString(t,...i);return Mv(a),new Ce(r,null,new ht(a))}{if(!(r instanceof Ce||r instanceof lr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ce.fromString(t,...i));return Mv(a),new Ce(r.firestore,r instanceof lr?r.converter:null,new ht(a))}}const AE="AsyncQueue";class SE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A0(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&at(AE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!vo(t))throw t;at(AE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",bE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=tg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:bE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function bE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function wE(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class gr extends Ih{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new SE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SE(t),this._firestoreClient=void 0,await t}}}function T2(r,t){const i=typeof r=="object"?r:qE(),a=typeof r=="string"?r:th,l=Sm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=YS("firestore");c&&E2(l,...c)}return l}function Ch(r){if(r._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||A2(r),r._firestoreClient}function A2(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new YR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,j0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new g2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(en.fromBase64String(t))}catch(i){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Qn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Jl(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Be("string",Qn._jsonSchemaVersion),bytes:Be("string")};class ug{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Nh{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Jl(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Be("string",ki._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};class ji{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Jl(t,ji._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ji(t.vectorValues);throw new st(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Be("string",ji._jsonSchemaVersion),vectorValues:Be("object")};const S2=/^__.*__$/;class b2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new aa(t,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(t,this.data,i,this.fieldTransforms)}}function B0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class cg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new cg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(B0(this.Ac)&&S2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class w2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||bh(t)}Cc(t,i,a,l=!1){return new cg({Ac:t,methodName:i,Dc:a,path:tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(r){const t=r._freezeSettings(),i=bh(r._databaseId);return new w2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function q0(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);G0("Data must be an object, but it was:",d,a);const p=H0(a,d);let y,v;if(c.merge)y=new oi(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const V=I2(t,b,i);if(!d.contains(V))throw new st(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);N2(A,V)||A.push(V)}y=new oi(A),v=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,v=d.fieldTransforms;return new b2(new Gn(p),y,v)}class fg extends Nh{_toFieldTransform(t){return new r0(t.path,new Hl)}isEqual(t){return t instanceof fg}}class dg extends Nh{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Ql(t.serializer,t0(t.serializer,this.Fc));return new r0(t.path,i)}isEqual(t){return t instanceof dg&&this.Fc===t.Fc}}function R2(r,t,i,a=!1){return mg(i,r.Cc(a?4:3,t))}function mg(r,t){if(F0(r=fn(r)))return G0("Unsupported field value:",t,r),H0(r,t);if(r instanceof Nh)return(function(a,l){if(!B0(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=mg(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return t0(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=me.fromDate(a);return{timestampValue:sh(l.serializer,c)}}if(a instanceof me){const c=new me(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(l.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Qn)return{bytesValue:h0(l.serializer,a._byteString)};if(a instanceof Ce){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ji)return(function(d,p){return{mapValue:{fields:{[kT]:{stringValue:jT},[eh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Bm(p.serializer,v)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${mh(a)}`)})(r,t)}function H0(r,t){const i={};return VT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sa(r,((a,l)=>{const c=mg(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function F0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof me||r instanceof ki||r instanceof Qn||r instanceof Ce||r instanceof Nh||r instanceof ji)}function G0(r,t,i){if(!F0(i)||!DT(i)){const a=mh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function I2(r,t,i){if((t=fn(t))instanceof ug)return t._internalPath;if(typeof t=="string")return Q0(r,t);throw uh("Field path arguments must be of type string or ",r,!1,void 0,i)}const C2=new RegExp("[~\\*/\\[\\]]");function Q0(r,t,i){if(t.search(C2)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ug(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function uh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new st(X.INVALID_ARGUMENT,p+r+y)}function N2(r,t){return r.some((i=>i.isEqual(t)))}class Y0{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new D2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(gg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class D2 extends Y0{data(){return super.data()}}function gg(r,t){return typeof t=="string"?Q0(r,t):t instanceof ug?t._internalPath:t._delegate._internalPath}function K0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class yg extends pg{}function bl(r,t,...i){let a=[];t instanceof pg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof vg)).length,p=c.filter((y=>y instanceof _g)).length;if(d>1||d>0&&p>0)throw new st(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class _g extends yg{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new _g(t,i,a)}_apply(t){const i=this._parse(t);return X0(t._query,i),new vs(t.firestore,t.converter,cm(t._query,i))}_parse(t){const i=hg(t.firestore);return(function(c,d,p,y,v,A,b){let V;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){IE(b,A);const W=[];for(const it of b)W.push(RE(y,c,it));V={arrayValue:{values:W}}}else V=RE(y,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||IE(b,A),V=R2(p,d,b,A==="in"||A==="not-in");return ze.create(v,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class vg extends pg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new vg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ci.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)X0(d,y),d=cm(d,y)})(t._query,i),new vs(t.firestore,t.converter,cm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eg extends yg{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Eg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new st(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ql(c,d)})(t._query,this._field,this._direction);return new vs(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Eo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function Gd(r,t="asc"){const i=t,a=gg("orderBy",r);return Eg._create(a,i)}class Tg extends yg{constructor(t,i,a){super(),this.type=t,this._limit=i,this._limitType=a}static _create(t,i,a){return new Tg(t,i,a)}_apply(t){return new vs(t.firestore,t.converter,ih(t._query,this._limit,this._limitType))}}function Qd(r){return LR("limit",r),Tg._create("limit",r,"F")}function RE(r,t,i){if(typeof(i=fn(i))=="string"){if(i==="")throw new st(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YT(t)&&i.indexOf("/")!==-1)throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ce.fromString(i));if(!ht.isDocumentKey(a))throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return qv(r,new ht(a))}if(i instanceof Ce)return qv(r,i._key);throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(i)}.`)}function IE(r,t){if(!Array.isArray(r)||r.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function X0(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class O2{convertValue(t,i="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return sa(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[eh].arrayValue?.values?.map((a=>Ie(a.doubleValue)));return new ji(i)}convertGeoPoint(t){return new ki(Ie(t.latitude),Ie(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=yh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jl(t));default:return null}}convertTimestamp(t){const i=cr(t);return new me(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ce.fromString(t);$t(y0(a),9688,{name:t});const l=new zl(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||ps(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function $0(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Nl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zr extends Y0{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(gg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Be("string",Zr._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class Fc extends Zr{data(t={}){return super.data(t)}}class Jr{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Nl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Fc(this._firestore,this._userDataWriter,a.key,a,new Nl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Fc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Nl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Fc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Nl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:V2(p.type),doc:y,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Jr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function V2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}function CE(r){r=Yn(r,Ce);const t=Yn(r.firestore,gr);return _2(Ch(t),r._key).then((i=>Z0(t,r,i)))}Jr._jsonSchemaVersion="firestore/querySnapshot/1.0",Jr._jsonSchema={type:Be("string",Jr._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class Ag extends O2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function NE(r){r=Yn(r,vs);const t=Yn(r.firestore,gr),i=Ch(t),a=new Ag(t);return K0(r._query),v2(i,r._query).then((l=>new Jr(t,a,r,l)))}function $a(r,t,i){r=Yn(r,Ce);const a=Yn(r.firestore,gr),l=$0(r.converter,t,i);return Sg(a,[q0(hg(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ui.none())])}function Yd(r){return Sg(Yn(r.firestore,gr),[new qm(r._key,ui.none())])}function Kd(r,t){const i=Yn(r.firestore,gr),a=On(r),l=$0(r.converter,t);return Sg(i,[q0(hg(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,ui.exists(!1))]).then((()=>a))}function wl(r,...t){r=fn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||wE(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(wE(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ce)d=Yn(r.firestore,gr),p=_h(r._key.path),c={next:y=>{t[a]&&t[a](Z0(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Yn(r,vs);d=Yn(y.firestore,gr),p=y._query;const v=new Ag(d);c={next:A=>{t[a]&&t[a](new Jr(d,v,y,A))},error:t[a+1],complete:t[a+2]},K0(r._query)}return(function(v,A,b,V){const Y=new lg(V),W=new rg(A,Y,b);return v.asyncQueue.enqueueAndForget((async()=>ng(await lh(v),W))),()=>{Y.Nu(),v.asyncQueue.enqueueAndForget((async()=>ig(await lh(v),W)))}})(Ch(d),p,l,c)}function Sg(r,t){return(function(a,l){const c=new ds;return a.asyncQueue.enqueueAndForget((async()=>a2(await y2(a),l,c))),c.promise})(Ch(r),t)}function Z0(r,t,i){const a=i.docs.get(t._key),l=new Ag(r);return new Zr(r,l,t._key,a,new Nl(i.hasPendingWrites,i.fromCache),t.converter)}function xc(){return new fg("serverTimestamp")}function DE(r){return new dg("increment",r)}(function(t,i=!0){(function(l){yo=l})(go),ro(new ta("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new gr(new IR(a.getProvider("auth-internal")),new DR(d,a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(v.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ar(Nv,Dv,t),ar(Nv,Dv,"esm2020")})();const M2={apiKey:"AIzaSyDCgBUGV4WWYMPVCelPFvfo3UyH5KrgWE4",authDomain:"itgonein.firebaseapp.com",projectId:"itgonein",storageBucket:"itgonein.firebasestorage.app",messagingSenderId:"869060537900",appId:"1:869060537900:web:ed227fcbe2d64a6286ab89",measurementId:"G-NTB13JDT18"},J0=BE(M2),Xd=SR(J0),x2=new cs,Re=T2(J0),U2=new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"),L2=()=>{const r="https://itsgonein-app.onrender.com/football-proxy",t="tm@solumre.com",[i,a]=Xt.useState(localStorage.getItem("app-theme")||"dark"),[l,c]=Xt.useState("DASHBOARD"),[d,p]=Xt.useState("TABLE"),[y,v]=Xt.useState(39),[A,b]=Xt.useState(!1),[V,Y]=Xt.useState(null),[W,it]=Xt.useState(!1),[tt,ft]=Xt.useState(!1),[vt,mt]=Xt.useState(""),[Kt,re]=Xt.useState([]),kt=()=>{const U=i==="dark"?"light":"dark";a(U),localStorage.setItem("app-theme",U)},[N,w]=Xt.useState([]),[I,x]=Xt.useState([]),[D,P]=Xt.useState([]),[R,oe]=Xt.useState([]),[Zt,F]=Xt.useState(null),[J,ut]=Xt.useState(null),[Nt,Ft]=Xt.useState([]),[M,K]=Xt.useState(""),nt=Xt.useRef(null),[rt,pt]=Xt.useState(!1),[At,Dt]=Xt.useState([{id:"bellingham",name:"Bellingham",team:"Real Madrid",votes:45},{id:"saka",name:"Saka",team:"Arsenal",votes:32},{id:"kane",name:"Kane",team:"Bayern",votes:28}]),[Ne,he]=Xt.useState(()=>{const U=localStorage.getItem("userPredictions");return U?JSON.parse(U):{}}),[Es,Ts]=Xt.useState({}),hi=[{id:39,name:"Premier League",icon:"",color:"#3d195b",accent:"#00ff85"},{id:140,name:"La Liga",icon:"",color:"#ee8707",accent:"#ffffff"},{id:78,name:"Bundesliga",icon:"",color:"#d20515",accent:"#ffffff"},{id:135,name:"Serie A",icon:"",color:"#008fd7",accent:"#00ff85"},{id:61,name:"Ligue 1",icon:"",color:"#dae025",accent:"#12233f"},{id:88,name:"Eredivisie",icon:"",color:"#00366d",accent:"#ffffff"},{id:71,name:"Brasileiro",icon:"",color:"#fcbf00",accent:"#009c3b"},{id:94,name:"Primeira Liga",icon:"",color:"#e83838",accent:"#f5ce42"}],[qi,Vn]=Xt.useState([]);Xt.useEffect(()=>{document.documentElement.setAttribute("data-theme",i)},[i]),Xt.useEffect(()=>{const U=hw(Xd,async ue=>{if(Y(ue),ue)try{const It=On(Re,"banned_users",ue.uid),Bt=await CE(It);it(Bt.exists())}catch(It){console.error(It)}try{const It=On(Re,"polls","current_poll"),Bt=await CE(It);if(Bt.exists()){const De=Bt.data();Dt(De.players.map(un=>({...un,votes:De[un.id]||0})))}}catch(It){console.error(It)}}),gt=wl(bl(us(Re,"leaderboard"),Gd("points","desc"),Qd(10)),ue=>{re(ue.docs.map(It=>({id:It.id,...It.data()})))}),Et=wl(bl(us(Re,"news"),Gd("createdAt","desc"),Qd(5)),ue=>{Vn(ue.docs.map(It=>({...It.data(),id:It.id})))}),le=bl(us(Re,"messages"),Gd("createdAt"),Qd(50)),Gt=wl(le,ue=>{Ft(ue.docs.map(It=>({...It.data(),id:It.id}))),setTimeout(()=>{nt.current?.scrollIntoView({behavior:"smooth"})},100),nt.current?.scrollIntoView({behavior:"smooth"})}),ln=wl(us(Re,"match_votes"),ue=>{const It={};ue.docs.forEach(Bt=>{It[Bt.id]=Bt.data()}),Ts(It)}),dn=wl(On(Re,"settings","ticker"),ue=>{ue.exists()&&ue.data().active?mt(ue.data().message):mt("")});return()=>{U(),Gt(),ln(),dn(),Et(),gt()}},[]),Xt.useEffect(()=>{const U=async()=>{try{const le=await(await fetch(`${r}?type=live`)).json();le.response&&oe(le.response.map(Gt=>({id:Gt.fixture.id,home:Gt.teams.home.name,away:Gt.teams.away.name,homeScore:Gt.goals.home,awayScore:Gt.goals.away,status:Gt.fixture.status.elapsed})))}catch(Et){console.error("Ticker Error:",Et)}};U();const gt=setInterval(U,6e4);return()=>clearInterval(gt)},[]),Xt.useEffect(()=>{const U=hi.find(Et=>Et.id===y);U&&(document.documentElement.style.setProperty("--primary",U.color),document.documentElement.style.setProperty("--accent",U.accent)),(async()=>{b(!0);try{const[Et,le,Gt]=await Promise.all([fetch(`${r}?league=${y}&type=standings`),fetch(`${r}?league=${y}&type=scorers`),fetch(`${r}?league=${y}&type=fixtures`)]),ln=await Et.json(),dn=await le.json(),ue=await Gt.json();if(ln.response?.[0]){const It=ln.response[0].league.standings[0];w(It.map(Bt=>({rank:Bt.rank,id:Bt.team.id,name:Bt.team.name,crest:Bt.team.logo,played:Bt.all.played,won:Bt.all.win,draw:Bt.all.draw,lost:Bt.all.lose,points:Bt.points,form:Bt.form})))}dn.response&&x(dn.response.map((It,Bt)=>({rank:Bt+1,name:It.player.name,team:It.statistics[0].team.name,goals:It.statistics[0].goals.total}))),ue.response&&P(ue.response.map(It=>({id:It.fixture.id,homeId:It.teams.home.id,awayId:It.teams.away.id,status:It.fixture.status.short,date:new Date(It.fixture.date).toLocaleDateString("en-GB",{day:"numeric",month:"short"}),time:new Date(It.fixture.date).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),home:It.teams.home.name,homeCrest:It.teams.home.logo,away:It.teams.away.name,awayCrest:It.teams.away.logo})))}catch(Et){console.error("Error loading league data:",Et)}finally{b(!1)}})()},[y]),Xt.useEffect(()=>{let U;return Zt&&J?.viewType==="match_details"&&(U=setInterval(async()=>{try{const le=await(await fetch(`${r}?type=match_details&match_id=${Zt}`)).json();le.response&&le.response.match&&(le.response.match.score!==J.match.score&&(U2.play().catch(()=>{}),ft(!0),setTimeout(()=>ft(!1),5e3)),ut({...le.response,viewType:"match_details"}))}catch(Et){console.error(Et)}},3e4)),()=>{U&&clearInterval(U)}},[Zt,J?.match?.score,J?.viewType]);const pr=async U=>{F(U.id),ut({match:{home:U.home,homeLogo:U.homeCrest,away:U.away,awayLogo:U.awayCrest,score:"LOADING..."},viewType:"loading",history:[],stats:{homeWinPerc:0,drawPerc:0,awayWinPerc:0}});try{const Et=["SCHEDULED","TIMED","NS","TBD"].includes(U.status)?"h2h":"match_details",Gt=await(await fetch(`${r}?type=${Et}&match_id=${U.id}&t=${Date.now()}`)).json();if(console.log("API Response:",Gt),Gt.response){const ln=Gt.response.stats||{homeWinPerc:33,drawPerc:34,awayWinPerc:33};ut(dn=>({...dn,...Gt.response,stats:ln,viewType:Et,match:{...dn.match,score:Gt.response.match?.score||"VS",...Gt.response.match||{}}}))}else ut(ln=>({...ln,viewType:Et,match:{...ln.match,score:"VS"}}))}catch(gt){console.error("Match Center Error:",gt),ut(Et=>({...Et,viewType:"error",match:{...Et.match,score:"ERROR"}}))}},Hi=async()=>{if(Zt){b(!0);try{const gt=await(await fetch(`${r}?type=match_details&match_id=${Zt}`)).json();ut({...gt.response,viewType:"match_details"})}catch(U){console.error(U)}finally{b(!1)}}},yr=async()=>{if(window.confirm("ARE YOU SURE? This will permanently delete ALL messages!"))try{const U=bl(us(Re,"messages")),Et=(await NE(U)).docs.map(le=>Yd(On(Re,"messages",le.id)));await Promise.all(Et),alert("Chat Cleared!")}catch(U){console.error("Error clearing chat:",U)}},_r=async U=>{rt||W||(Dt(gt=>gt.map(Et=>Et.id===U?{...Et,votes:Et.votes+1}:Et)),pt(!0),await $a(On(Re,"polls","current_poll"),{[U]:DE(1)},{merge:!0}))},_e=async U=>{U.preventDefault();const gt=new FormData(U.target),Et=[{id:"p1",name:gt.get("n1"),team:gt.get("t1"),votes:0},{id:"p2",name:gt.get("n2"),team:gt.get("t2"),votes:0},{id:"p3",name:gt.get("n3"),team:gt.get("t3"),votes:0}];Dt(Et),pt(!1);const le=`week_${Date.now()}`;await $a(On(Re,"polls","current_poll"),{players:Et,activeWeek:le,p1:0,p2:0,p3:0}),alert("Poll Updated!")},Te=async U=>{U&&(await $a(On(Re,"banned_users",U),{bannedAt:xc(),reason:"Admin Action"}),alert("User Banned"))},fi=async U=>{if(window.confirm("Delete this message?"))try{await Yd(On(Re,"messages",U)),alert("Message deleted")}catch(gt){console.error("Error deleting message:",gt)}},Ao=async U=>{U.preventDefault(),!(!M.trim()||!V||W)&&(await Kd(us(Re,"messages"),{text:M,createdAt:xc(),uid:V.uid,photoURL:V.photoURL,displayName:V.displayName}),K(""))},la=async()=>{try{await Vw(Xd,x2)}catch(U){console.error(U)}};return S.jsxs("div",{className:"app-container",children:[S.jsxs("div",{className:"top-ticker",children:[S.jsx("div",{className:"live-badge",children:"LIVE"}),S.jsx("div",{className:"ticker-wrapper",children:S.jsxs("div",{className:"ticker-content",children:[vt&&S.jsxs("span",{className:"broadcast-text",children:[" ",vt," "]}),R.length>0?S.jsx(S.Fragment,{children:R.map(U=>S.jsxs("span",{children:[U.home," ",S.jsxs("b",{className:"score",children:[U.homeScore,"-",U.awayScore]})," ",U.away," ",S.jsxs("small",{children:[U.status,"'"]})]},U.id))}):!vt&&S.jsx("span",{children:"No live matches currently in progress"})]})})]}),S.jsxs("div",{className:"dashboard-grid",children:[S.jsxs("nav",{className:"side-nav",children:[S.jsxs("div",{className:"brand",onClick:()=>c("DASHBOARD"),children:["ITS",S.jsx("span",{className:"accent",children:"GONE"}),"IN."]}),S.jsxs("div",{className:"nav-group",children:[S.jsx("label",{children:"LEAGUES"}),hi.map(U=>S.jsxs("div",{className:`nav-item ${y===U.id&&l==="DASHBOARD"?"active":""}`,onClick:()=>{v(U.id),c("DASHBOARD"),F(null)},children:[S.jsx("span",{className:"nav-icon",children:U.icon}),S.jsx("span",{className:"nav-text",children:U.name})]},U.id))]}),S.jsxs("div",{className:"nav-group",children:[S.jsx("label",{children:"COMMUNITY"}),S.jsx("div",{className:"nav-item",children:" Trending"}),S.jsxs("div",{className:"nav-item",onClick:kt,children:[S.jsx("span",{className:"nav-icon",children:i==="dark"?"":""}),S.jsx("span",{className:"nav-text",children:i==="dark"?"Light Mode":"Dark Mode"})]}),V?.email===t&&S.jsxs("div",{className:`nav-item admin-link ${l==="ADMIN"?"active":""}`,onClick:()=>c("ADMIN"),children:[S.jsx("span",{className:"nav-icon",children:""}),S.jsx("span",{className:"nav-text",children:"Admin Panel"})]})]})]}),S.jsxs("main",{className:"main-feed",children:[l==="ADMIN"&&S.jsxs("div",{className:"admin-panel fade-in",children:[S.jsx("header",{className:"feed-header",children:S.jsx("div",{className:"header-title",children:S.jsx("h1",{children:"Admin Control Center"})})}),S.jsxs("div",{className:"admin-grid",children:[S.jsxs("div",{className:"admin-card",children:[S.jsx("h3",{children:"Global Broadcast"}),S.jsxs("form",{onSubmit:async U=>{U.preventDefault();const gt=new FormData(U.target).get("broadcast");await $a(On(Re,"settings","ticker"),{message:gt,active:!0}),alert("Broadcast Live!")},className:"admin-form",children:[S.jsx("input",{name:"broadcast",placeholder:"Enter alert...",required:!0}),S.jsx("button",{type:"submit",className:"admin-btn",style:{marginTop:"10px"},children:"Update Ticker"})]}),S.jsx("button",{className:"ban-btn",style:{width:"100%",marginTop:"10px"},onClick:async()=>await $a(On(Re,"settings","ticker"),{message:"",active:!1}),children:"Clear Broadcast"})]}),S.jsxs("div",{className:"admin-card",children:[S.jsx("h3",{children:"Settle Predictions"}),S.jsx("p",{style:{fontSize:"0.7rem",opacity:.6,marginBottom:"10px"},children:"Enter Match ID and Result to award points (3pts per correct guess)."}),S.jsxs("form",{onSubmit:async U=>{U.preventDefault();const gt=U.target.matchId.value,Et=U.target.result.value,le=bl(us(Re,"user_predictions"),where("matchId","==",gt),where("selection","==",Et)),Gt=await NE(le),ln=Gt.docs.map(dn=>{const ue=dn.data();return $a(On(Re,"leaderboard",ue.uid),{displayName:ue.displayName,points:DE(3)},{merge:!0})});await Promise.all(ln),alert(`Settled! Points awarded to ${Gt.size} users.`),U.target.reset()},className:"admin-form",children:[S.jsx("input",{name:"matchId",placeholder:"Match ID (e.g. 1038291)",required:!0}),S.jsxs("select",{name:"result",style:{width:"100%",padding:"10px",background:"#222",color:"white",marginTop:"10px",borderRadius:"6px"},children:[S.jsx("option",{value:"1",children:"Home Win (1)"}),S.jsx("option",{value:"X",children:"Draw (X)"}),S.jsx("option",{value:"2",children:"Away Win (2)"})]}),S.jsx("button",{type:"submit",className:"admin-btn",style:{marginTop:"10px"},children:"Settle & Award Points"})]})]}),S.jsxs("div",{className:"admin-card",children:[S.jsx("h3",{children:"Update POTW Poll"}),S.jsxs("form",{onSubmit:_e,className:"admin-form",children:[S.jsxs("div",{className:"form-row",children:[S.jsx("input",{name:"n1",placeholder:"P1 Name",required:!0}),S.jsx("input",{name:"t1",placeholder:"Team",required:!0})]}),S.jsxs("div",{className:"form-row",children:[S.jsx("input",{name:"n2",placeholder:"P2 Name",required:!0}),S.jsx("input",{name:"t2",placeholder:"Team",required:!0})]}),S.jsxs("div",{className:"form-row",children:[S.jsx("input",{name:"n3",placeholder:"P3 Name",required:!0}),S.jsx("input",{name:"t3",placeholder:"Team",required:!0})]}),S.jsx("button",{type:"submit",className:"admin-btn",children:"Reset & Start New Poll"})]})]}),S.jsxs("div",{className:"admin-card",children:[S.jsx("h3",{children:"Forum Moderation"}),S.jsx("div",{className:"admin-list",children:Nt.slice(-5).reverse().map(U=>S.jsx("div",{className:"admin-list-item",children:S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[S.jsxs("span",{children:[S.jsx("strong",{children:U.displayName}),": ",U.text]}),S.jsxs("div",{style:{display:"flex",gap:"5px"},children:[S.jsx("button",{onClick:()=>fi(U.id),className:"ban-btn",style:{background:"#555"},children:"Del"}),S.jsx("button",{onClick:()=>Te(U.uid),className:"ban-btn",children:"Ban"})]})]})},U.id))}),S.jsx("button",{onClick:yr,className:"admin-btn",style:{background:"#ff4d4d",color:"white",marginTop:"15px"},children:" WIPE ALL CHAT HISTORY"})]}),S.jsxs("div",{className:"admin-card",children:[S.jsx("h3",{children:"Latest Drops Manager"}),S.jsxs("form",{onSubmit:async U=>{U.preventDefault();const gt=new FormData(U.target);await Kd(us(Re,"news"),{tag:gt.get("tag"),title:gt.get("title"),img:gt.get("img"),createdAt:xc()}),U.target.reset(),alert("News Posted!")},className:"admin-form",children:[S.jsxs("div",{className:"form-row",children:[S.jsxs("select",{name:"tag",style:{flex:.4,background:"#222",color:"white",borderRadius:"6px",border:"1px solid #444"},children:[S.jsx("option",{value:"RUMOR",children:"RUMOR"}),S.jsx("option",{value:"VIRAL",children:"VIRAL"}),S.jsx("option",{value:"OFFICIAL",children:"OFFICIAL"})]}),S.jsx("input",{name:"img",placeholder:"Emoji (, , )",style:{flex:.6},required:!0})]}),S.jsx("input",{name:"title",placeholder:"News Title / Headline",required:!0}),S.jsx("button",{type:"submit",className:"admin-btn",style:{marginTop:"10px"},children:"Post News"})]}),S.jsxs("div",{className:"admin-list",style:{marginTop:"20px"},children:[S.jsx("label",{style:{fontSize:"0.7rem",opacity:.5},children:"ACTIVE NEWS"}),qi.map(U=>S.jsxs("div",{className:"admin-list-item",children:[S.jsxs("span",{style:{fontSize:"0.8rem"},children:[U.img," ",U.title]}),S.jsx("button",{onClick:async()=>await Yd(On(Re,"news",U.id)),className:"ban-btn",style:{padding:"2px 8px"},children:""})]},U.id))]})]}),S.jsxs("div",{className:"admin-card",children:[S.jsx("h3",{children:"Match ID Finder"}),S.jsx("p",{style:{fontSize:"0.7rem",opacity:.6,marginBottom:"10px"},children:"Use these IDs to settle predictions below."}),S.jsx("div",{className:"admin-list match-id-list",style:{maxHeight:"200px",overflowY:"auto"},children:D.map(U=>S.jsxs("div",{className:"admin-list-item",style:{fontSize:"0.8rem",padding:"8px"},children:[S.jsxs("div",{style:{flex:1},children:[S.jsxs("strong",{children:[U.home," vs ",U.away]}),S.jsxs("div",{style:{opacity:.7},children:[U.date," @ ",U.time]})]}),S.jsx("code",{style:{background:"rgba(255,255,255,0.1)",padding:"2px 6px",borderRadius:"4px",cursor:"pointer"},onClick:()=>{navigator.clipboard.writeText(U.id),alert("ID Copied!")},children:U.id})]},U.id))})]})]})," "]}),l==="DASHBOARD"&&S.jsxs(S.Fragment,{children:[S.jsxs("header",{className:"feed-header",children:[S.jsxs("div",{className:"header-title",children:[S.jsx("h1",{children:hi.find(U=>U.id===y)?.name}),S.jsx("span",{children:"Season 2025/26"})]}),S.jsxs("div",{className:"tabs",children:[S.jsx("button",{className:`tab-btn ${d==="TABLE"?"active":""}`,onClick:()=>p("TABLE"),children:"STANDINGS"}),S.jsx("button",{className:`tab-btn ${d==="SCORERS"?"active":""}`,onClick:()=>p("SCORERS"),children:"SCORERS"}),S.jsx("button",{className:`tab-btn ${d==="FIXTURES"?"active":""}`,onClick:()=>p("FIXTURES"),children:"FIXTURES"})]})]}),S.jsxs("div",{className:"feed-content",children:[I.length>0&&d!=="FIXTURES"&&S.jsxs("div",{className:"spotlight-card",children:[S.jsxs("div",{className:"spotlight-info",children:[S.jsx("span",{className:"badge",children:"GOLDEN BOOT RACE"}),S.jsx("h3",{children:I[0].name}),S.jsx("p",{children:I[0].team})]}),S.jsxs("div",{className:"spotlight-stat",children:[S.jsx("span",{className:"big-num",children:I[0].goals}),S.jsx("span",{className:"label",children:"GOALS"})]})]}),S.jsxs("div",{className:"data-container",children:[A&&S.jsx("div",{style:{padding:40,textAlign:"center"},children:"Loading..."}),!A&&d==="TABLE"&&S.jsxs("table",{className:"modern-table",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"#"}),S.jsx("th",{children:"CLUB"}),S.jsx("th",{children:"MP"}),S.jsx("th",{children:"W/D/L"}),S.jsx("th",{children:"PTS"})]})}),S.jsx("tbody",{children:N.map(U=>S.jsxs("tr",{children:[S.jsx("td",{children:U.rank}),S.jsx("td",{children:S.jsxs("div",{className:"team-flex",children:[S.jsx("img",{src:U.crest,alt:""}),S.jsx("span",{children:U.name})]})}),S.jsx("td",{children:U.played}),S.jsxs("td",{children:[S.jsx("span",{className:"w",children:U.won}),"/",S.jsx("span",{children:U.draw}),"/",S.jsx("span",{className:"l",children:U.lost})]}),S.jsx("td",{className:"pts",children:U.points})]},U.id))})]}),!A&&d==="SCORERS"&&S.jsx("div",{className:"scorers-list",children:I.map(U=>S.jsxs("div",{className:"list-row",children:[S.jsx("div",{className:"rank-badge",children:U.rank}),S.jsxs("div",{className:"list-info",children:[S.jsx("span",{className:"list-name",children:U.name}),S.jsx("span",{className:"list-sub",children:U.team})]}),S.jsx("div",{className:"list-stat",children:S.jsx("span",{className:"stat-val",children:U.goals})})]},U.name))}),!A&&d==="FIXTURES"&&S.jsx("div",{className:"fixtures-list",children:Zt?S.jsxs("div",{className:`match-center fade-in ${tt?"goal-flash":""}`,children:[S.jsxs("div",{className:"center-actions",children:[S.jsx("button",{className:"close-center",onClick:()=>F(null),children:" BACK TO FIXTURES"}),S.jsxs("button",{className:"refresh-center",onClick:Hi,disabled:A,children:[S.jsx("span",{className:"pulse-dot"}),A?"REFRESHING...":"LIVE UPDATES"]})]}),J?S.jsxs("div",{className:"center-content",children:[S.jsxs("div",{className:"center-score",children:[S.jsxs("div",{className:"c-team",children:[S.jsx("img",{src:J.match?.homeLogo,alt:""}),S.jsx("h3",{children:J.match?.home})]}),S.jsx("div",{className:"c-result",children:J.match?.score}),S.jsxs("div",{className:"c-team",children:[S.jsx("img",{src:J.match?.awayLogo,alt:""}),S.jsx("h3",{children:J.match?.away})]})]}),J.viewType==="h2h"?S.jsxs("div",{className:"h2h-container",children:[J.stats&&S.jsxs("div",{className:"dominance-meter",children:[S.jsxs("div",{className:"meter-bar",children:[S.jsx("div",{className:"segment home",style:{width:`${J.stats.homeWinPerc}%`}}),S.jsx("div",{className:"segment draw",style:{width:`${J.stats.drawPerc}%`}}),S.jsx("div",{className:"segment away",style:{width:`${J.stats.awayWinPerc}%`}})]}),S.jsxs("div",{className:"meter-labels",children:[S.jsxs("span",{children:["Win ",J.stats.homeWinPerc,"%"]}),S.jsxs("span",{children:["Draw ",J.stats.drawPerc,"%"]}),S.jsxs("span",{children:["Win ",J.stats.awayWinPerc,"%"]})]})]}),S.jsxs("div",{className:"h2h-history",children:[S.jsx("h4",{className:"section-title",children:"PREVIOUS ENCOUNTERS"}),J.history&&J.history.length>0?J.history.map((U,gt)=>{const Et=U.score.split(/(\d+\s*-\s*\d+)/);return S.jsxs("div",{className:"h2h-row",children:[S.jsx("div",{className:"h-team",children:Et[0]}),S.jsxs("div",{className:"h-center",children:[S.jsx("span",{className:"h-date",children:U.date}),S.jsx("span",{className:"h-stadium",children:U.stadium}),S.jsx("div",{className:"h-score",children:Et[1]})]}),S.jsx("div",{className:"h-team away",children:Et[2]})]},gt)}):S.jsx("div",{className:"empty-state",children:S.jsx("p",{children:"Head-to-Head data unavailable."})})]})]}):S.jsx("div",{className:"timeline",children:J.timeline?.map((U,gt)=>S.jsxs("div",{className:"timeline-item",children:[S.jsx("span",{className:"t-time",children:U.time}),S.jsx("span",{className:"t-icon",children:U.icon}),S.jsx("span",{className:"t-detail",children:U.detail})]},gt))}),S.jsxs("div",{className:"match-comments-section",children:[S.jsx("h4",{className:"section-title",children:"LIVE DISCUSSION"}),S.jsxs("div",{className:"match-comments-list",children:[Nt.filter(U=>U.matchId===String(Zt)).map(U=>S.jsxs("div",{className:"m-comment",children:[S.jsx("img",{src:U.photoURL,alt:""}),S.jsxs("div",{className:"m-comment-body",children:[S.jsx("span",{className:"m-comment-user",children:U.displayName}),S.jsx("p",{children:U.text})]})]},U.id)),Nt.filter(U=>U.matchId===String(Zt)).length===0&&S.jsx("p",{className:"empty-state",children:"No comments yet. Start the conversation!"})]}),S.jsxs("form",{onSubmit:async U=>{U.preventDefault();const gt=U.target.comment.value;!gt.trim()||!V||W||(await Kd(us(Re,"messages"),{text:gt,matchId:String(Zt),createdAt:xc(),uid:V.uid,photoURL:V.photoURL,displayName:V.displayName}),U.target.reset())},className:"match-comment-form",children:[S.jsx("input",{name:"comment",placeholder:V?"Talk about this match...":"Login to join the chat",disabled:!V||W}),S.jsx("button",{type:"submit",children:"SEND"})]})]})]}):S.jsx("p",{children:"Loading data..."})]}):D.map(U=>S.jsxs("div",{className:"fixture-row",onClick:()=>pr(U),children:[S.jsxs("div",{className:"fixture-date",children:[S.jsx("span",{children:U.date}),S.jsx("span",{children:U.time})]}),S.jsxs("div",{className:"fixture-matchup",children:[S.jsxs("div",{className:"team home",children:[S.jsx("span",{children:U.home}),S.jsx("img",{src:U.homeCrest,alt:""})]}),S.jsx("div",{className:"vs-badge",children:"VS"}),S.jsxs("div",{className:"team away",children:[S.jsx("img",{src:U.awayCrest,alt:""}),S.jsx("span",{children:U.away})]})]})]},U.id))})]})]})]}),l==="FORUM"&&S.jsxs("div",{className:"chat-interface",children:[S.jsx("header",{className:"feed-header",children:S.jsxs("div",{className:"header-title",children:[S.jsx("h1",{children:"Ultras Forum"}),S.jsx("span",{children:"Live Community Chat"})]})}),S.jsxs("div",{className:"chat-messages",children:[Nt.filter(U=>!U.matchId).map(U=>S.jsxs("div",{className:`message ${U.uid===V?.uid?"sent":"received"}`,children:[S.jsx("img",{src:U.photoURL,alt:"",className:"chat-avatar"}),S.jsxs("div",{className:"message-content",children:[S.jsx("span",{className:"msg-author",children:U.displayName}),S.jsx("p",{children:U.text})]})]},U.id)),S.jsx("div",{ref:nt})]}),S.jsxs("form",{onSubmit:Ao,className:"chat-input-area",children:[S.jsx("input",{value:M,onChange:U=>K(U.target.value),placeholder:V?"Type a message...":"Login to chat",disabled:!V||W}),S.jsx("button",{type:"submit",children:"SEND"})]})]})]}),S.jsxs("aside",{className:"hype-zone",children:[S.jsx("div",{className:"user-card",children:V?S.jsxs("div",{className:"logged-in",children:[S.jsx("img",{src:V.photoURL,className:"avatar-img",alt:""}),S.jsxs("div",{children:[S.jsx("h4",{children:V.displayName}),S.jsx("button",{onClick:()=>fw(Xd),children:"Log Out"})]})]}):S.jsx("button",{onClick:la,className:"google-btn",children:"Login with Google"})}),S.jsxs("div",{className:"widget-box vote-box",children:[S.jsxs("div",{className:"widget-header",children:[S.jsx("h3",{children:"POTW"}),S.jsx("span",{className:"live-dot",children:"LIVE"})]}),S.jsx("div",{className:"vote-list",children:At.map(U=>{const gt=At.reduce((le,Gt)=>le+Gt.votes,0),Et=gt>0?Math.round(U.votes/gt*100):0;return S.jsxs("div",{className:`vote-item ${rt?"voted":""}`,onClick:()=>_r(U.id),children:[rt&&S.jsx("div",{className:"vote-bar",style:{width:`${Et}%`}}),S.jsxs("div",{className:"vote-content-row",children:[S.jsx("span",{children:U.name}),rt&&S.jsxs("span",{children:[Et,"%"]})]})]},U.id)})})]}),S.jsxs("div",{className:"widget-box news-box",children:[S.jsx("h3",{children:"LATEST DROPS"}),qi.map(U=>S.jsxs("div",{className:"news-item",children:[S.jsx("div",{className:"news-icon",children:U.img}),S.jsxs("div",{className:"news-content",children:[S.jsx("span",{className:`tag ${U.tag}`,children:U.tag}),S.jsx("p",{children:U.title})]})]},U.id))]}),S.jsxs("div",{className:"widget-box leaderboard-box",children:[S.jsx("h3",{children:" PREDICTOR RANKING"}),S.jsx("div",{className:"leaderboard-list",children:Kt.map((U,gt)=>S.jsxs("div",{className:"leaderboard-item",children:[S.jsxs("span",{className:"rank",children:["#",gt+1]}),S.jsx("span",{className:"player-name",children:U.displayName}),S.jsxs("span",{className:"points",children:[U.points," PTS"]})]},U.id))})]})]})]}),S.jsx("button",{className:`forum-fab ${tt?"goal-pulse":""}`,onClick:()=>c("FORUM"),children:""})]})};kS.createRoot(document.getElementById("root")).render(S.jsx(Xt.StrictMode,{children:S.jsx(L2,{})}));
