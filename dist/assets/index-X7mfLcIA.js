(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ed={exports:{}},gl={};var N_;function TS(){if(N_)return gl;N_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var D_;function AS(){return D_||(D_=1,Ed.exports=TS()),Ed.exports}var M=AS(),Td={exports:{}},Tt={};var O_;function SS(){if(O_)return Tt;O_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,W={};function ct(O,Y,nt){this.props=O,this.context=Y,this.refs=W,this.updater=nt||J}ct.prototype.isReactComponent={},ct.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ct.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=ct.prototype;function gt(O,Y,nt){this.props=O,this.context=Y,this.refs=W,this.updater=nt||J}var Xt=gt.prototype=new Et;Xt.constructor=gt,it(Xt,ct.prototype),Xt.isPureReactComponent=!0;var Jt=Array.isArray;function zt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function b(O,Y,nt){var st=nt.ref;return{$$typeof:a,type:O,key:Y,ref:st!==void 0?st:null,props:nt}}function V(O,Y){return b(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function ae(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function _e(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(zt,zt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,nt,st,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case a:case t:Mt=!0;break;case A:return Mt=O._init,H(Mt(O._payload),Y,nt,st,yt)}}if(Mt)return yt=yt(O),Mt=st===""?"."+ae(O,0):st,Jt(yt)?(nt="",Mt!=null&&(nt=Mt.replace(R,"$&/")+"/"),H(yt,Y,nt,"",function(Pi){return Pi})):yt!=null&&(D(yt)&&(yt=V(yt,nt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(R,"$&/")+"/")+Mt)),Y.push(yt)),1;Mt=0;var ve=st===""?".":st+":";if(Jt(O))for(var ue=0;ue<O.length;ue++)st=O[ue],St=ve+ae(st,ue),Mt+=H(st,Y,nt,St,yt);else if(ue=Q(O),typeof ue=="function")for(O=ue.call(O),ue=0;!(st=O.next()).done;)st=st.value,St=ve+ae(st,ue++),Mt+=H(st,Y,nt,St,yt);else if(St==="object"){if(typeof O.then=="function")return H(_e(O),Y,nt,st,yt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(O,Y,nt){if(O==null)return O;var st=[],yt=0;return H(O,st,"","",function(St){return Y.call(nt,St,yt++)}),st}function ut(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Vt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:et,forEach:function(O,Y,nt){et(O,function(){Y.apply(this,arguments)},nt)},count:function(O){var Y=0;return et(O,function(){Y++}),Y},toArray:function(O){return et(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=S,Tt.Children=Ht,Tt.Component=ct,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=gt,Tt.StrictMode=r,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,Y,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=it({},O.props),yt=O.key;if(Y!=null)for(St in Y.key!==void 0&&(yt=""+Y.key),Y)!w.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(st[St]=Y[St]);var St=arguments.length-2;if(St===1)st.children=nt;else if(1<St){for(var Mt=Array(St),ve=0;ve<St;ve++)Mt[ve]=arguments[ve+2];st.children=Mt}return b(O.type,yt,st)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Tt.createElement=function(O,Y,nt){var st,yt={},St=null;if(Y!=null)for(st in Y.key!==void 0&&(St=""+Y.key),Y)w.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Y[st]);var Mt=arguments.length-2;if(Mt===1)yt.children=nt;else if(1<Mt){for(var ve=Array(Mt),ue=0;ue<Mt;ue++)ve[ue]=arguments[ue+2];yt.children=ve}if(O&&O.defaultProps)for(st in Mt=O.defaultProps,Mt)yt[st]===void 0&&(yt[st]=Mt[st]);return b(O,St,yt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:p,render:O}},Tt.isValidElement=D,Tt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},Tt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Tt.startTransition=function(O){var Y=C.T,nt={};C.T=nt;try{var st=O(),yt=C.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(zt,Vt)}catch(St){Vt(St)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),C.T=Y}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(O){return C.H.use(O)},Tt.useActionState=function(O,Y,nt){return C.H.useActionState(O,Y,nt)},Tt.useCallback=function(O,Y){return C.H.useCallback(O,Y)},Tt.useContext=function(O){return C.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},Tt.useEffect=function(O,Y){return C.H.useEffect(O,Y)},Tt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(O,Y,nt){return C.H.useImperativeHandle(O,Y,nt)},Tt.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},Tt.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},Tt.useMemo=function(O,Y){return C.H.useMemo(O,Y)},Tt.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},Tt.useReducer=function(O,Y,nt){return C.H.useReducer(O,Y,nt)},Tt.useRef=function(O){return C.H.useRef(O)},Tt.useState=function(O){return C.H.useState(O)},Tt.useSyncExternalStore=function(O,Y,nt){return C.H.useSyncExternalStore(O,Y,nt)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.3",Tt}var V_;function hm(){return V_||(V_=1,Td.exports=SS()),Td.exports}var me=hm(),Ad={exports:{}},pl={},Sd={exports:{}},bd={};var M_;function bS(){return M_||(M_=1,(function(a){function t(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var Vt=ut-1>>>1,Ht=H[Vt];if(0<l(Ht,et))H[Vt]=et,H[ut]=Ht,ut=Vt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var Vt=0,Ht=H.length,O=Ht>>>1;Vt<O;){var Y=2*(Vt+1)-1,nt=H[Y],st=Y+1,yt=H[st];if(0>l(nt,ut))st<Ht&&0>l(yt,nt)?(H[Vt]=yt,H[st]=ut,Vt=st):(H[Vt]=nt,H[Y]=ut,Vt=Y);else if(st<Ht&&0>l(yt,ut))H[Vt]=yt,H[st]=ut,Vt=st;else break t}}return et}function l(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,S=null,x=3,Q=!1,J=!1,it=!1,W=!1,ct=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Xt(H){for(var et=i(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=H)r(y),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(y)}}function Jt(H){if(it=!1,Xt(H),!J)if(i(_)!==null)J=!0,zt||(zt=!0,L());else{var et=i(y);et!==null&&_e(Jt,et.startTime-H)}}var zt=!1,C=-1,w=5,b=-1;function V(){return W?!0:!(a.unstable_now()-b<w)}function D(){if(W=!1,zt){var H=a.unstable_now();b=H;var et=!0;try{t:{J=!1,it&&(it=!1,Et(C),C=-1),Q=!0;var ut=x;try{e:{for(Xt(H),S=i(_);S!==null&&!(S.expirationTime>H&&V());){var Vt=S.callback;if(typeof Vt=="function"){S.callback=null,x=S.priorityLevel;var Ht=Vt(S.expirationTime<=H);if(H=a.unstable_now(),typeof Ht=="function"){S.callback=Ht,Xt(H),et=!0;break e}S===i(_)&&r(_),Xt(H)}else r(_);S=i(_)}if(S!==null)et=!0;else{var O=i(y);O!==null&&_e(Jt,O.startTime-H),et=!1}}break t}finally{S=null,x=ut,Q=!1}et=void 0}}finally{et?L():zt=!1}}}var L;if(typeof gt=="function")L=function(){gt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ae=R.port2;R.port1.onmessage=D,L=function(){ae.postMessage(null)}}else L=function(){ct(D,0)};function _e(H,et){C=ct(function(){H(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(H){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var ut=x;x=et;try{return H()}finally{x=ut}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=x;x=H;try{return et()}finally{x=ut}},a.unstable_scheduleCallback=function(H,et,ut){var Vt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Vt+ut:Vt):ut=Vt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,H={id:A++,callback:et,priorityLevel:H,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Vt?(H.sortIndex=ut,t(y,H),i(_)===null&&H===i(y)&&(it?(Et(C),C=-1):it=!0,_e(Jt,ut-Vt))):(H.sortIndex=Ht,t(_,H),J||Q||(J=!0,zt||(zt=!0,L()))),H},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(H){var et=x;return function(){var ut=x;x=et;try{return H.apply(this,arguments)}finally{x=ut}}}})(bd)),bd}var x_;function wS(){return x_||(x_=1,Sd.exports=bS()),Sd.exports}var wd={exports:{}},nn={};var U_;function RS(){if(U_)return nn;U_=1;var a=hm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},nn.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:Q}):A==="script"&&r.d.X(_,{crossOrigin:S,integrity:x,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},nn.requestFormReset=function(_){r.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var L_;function IS(){if(L_)return wd.exports;L_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),wd.exports=RS(),wd.exports}var P_;function CS(){if(P_)return pl;P_=1;var a=wS(),t=hm(),i=IS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Xt=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ct:return"Profiler";case W:return"StrictMode";case Jt:return"Suspense";case zt:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case gt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var _e=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Vt=[],Ht=-1;function O(e){return{current:e}}function Y(e){0>Ht||(e.current=Vt[Ht],Vt[Ht]=null,Ht--)}function nt(e,n){Ht++,Vt[Ht]=e.current,e.current=n}var st=O(null),yt=O(null),St=O(null),Mt=O(null);function ve(e,n){switch(nt(St,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),nt(st,e)}function ue(){Y(st),Y(yt),Y(St)}function Pi(e){e.memoizedState!==null&&nt(Mt,e);var n=st.current,s=Wy(n,e.type);n!==s&&(nt(yt,e),nt(st,s))}function fs(e){yt.current===e&&(Y(st),Y(yt)),Mt.current===e&&(Y(Mt),hl._currentValue=ut)}var ds,F;function bt(e){if(ds===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ds=n&&n[1]||"",F=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+e+F}var mt=!1;function Qt(e,n){if(!e||mt)return"";mt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{mt=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?bt(s):""}function Ct(e,n){switch(e.tag){case 26:case 27:case 5:return bt(e.type);case 16:return bt("Lazy");case 13:return e.child!==n&&n!==null?bt("Suspense Fallback"):bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return Qt(e.type,!1);case 11:return Qt(e.type.render,!1);case 1:return Qt(e.type,!0);case 31:return bt("Activity");default:return""}}function jt(e){try{var n="",s=null;do n+=Ct(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Nt=Object.prototype.hasOwnProperty,oe=a.unstable_scheduleCallback,$t=a.unstable_cancelCallback,ce=a.unstable_shouldYield,ta=a.unstable_requestPaint,je=a.unstable_now,ai=a.unstable_getCurrentPriorityLevel,ms=a.unstable_ImmediatePriority,go=a.unstable_UserBlockingPriority,gs=a.unstable_NormalPriority,Ah=a.unstable_LowPriority,Xl=a.unstable_IdlePriority,$l=a.log,Zl=a.unstable_setDisableYieldValue,Hn=null,Ke=null;function Cn(e){if(typeof $l=="function"&&Zl(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Hn,e)}catch{}}var Se=Math.clz32?Math.clz32:Wl,Jl=Math.log,ea=Math.LN2;function Wl(e){return e>>>=0,e===0?32:31-(Jl(e)/ea|0)|0}var oi=256,hr=262144,Ne=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(g&=E,g!==0?h=li(g):s||(s=E&~e,s!==0&&(h=li(s))))):(E=o&~f,E!==0?h=li(E):g!==0?h=li(g):s||(s=o&~e,s!==0&&(h=li(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Gn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Sh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function ci(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function fr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-Se(s),X=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~X}o!==0&&dr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function dr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Se(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function po(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Se(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function yo(e,n){var s=n&-n;return s=(s&42)!==0?1:mr(s),(s&(e.suspendedLanes|n))!==0?0:s}function mr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:A_(e.type))}function Fn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var Qn=Math.random().toString(36).slice(2),De="__reactFiber$"+Qn,He="__reactProps$"+Qn,hi="__reactContainer$"+Qn,na="__reactEvents$"+Qn,wh="__reactListeners$"+Qn,nu="__reactHandles$"+Qn,iu="__reactResources$"+Qn,fi="__reactMarker$"+Qn;function ia(e){delete e[De],delete e[He],delete e[na],delete e[wh],delete e[nu]}function di(e){var n=e[De];if(n)return n;for(var s=e.parentNode;s;){if(n=s[hi]||s[De]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[De])return s;e=a_(e)}return n}e=s,s=e.parentNode}return null}function Nn(e){if(e=e[De]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function mi(e){var n=e[iu];return n||(n=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Oe(e){e[fi]=!0}var _o=new Set,vo={};function gi(e,n){pi(e,n),pi(e+"Capture",n)}function pi(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Ao={};function su(e){return Nt.call(Ao,e)?!0:Nt.call(To,e)?!1:Eo.test(e)?Ao[e]=!0:(To[e]=!0,!1)}function sa(e,n,s){if(su(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function En(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ps(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=ps(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function gr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ps(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pr=/[\n"\\]/g;function hn(e){return e.replace(pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ge(n)):e.value!==""+Ge(n)&&(e.value=""+Ge(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?bo(e,g,Ge(n)):s!=null?bo(e,g,Ge(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ge(E):e.removeAttribute("name")}function ru(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Wt(e);return}s=s!=null?""+Ge(s):"",n=n!=null?""+Ge(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Wt(e)}function bo(e,n,s){n==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ys(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ge(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function au(e,n,s){if(n!=null&&(n=""+Ge(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ge(s):""}function _s(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(_e(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ge(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Wt(e)}function fn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||ou.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ro(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return vs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Io=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Es=null,_i=null;function yr(e){var n=Nn(e);if(n&&(e=n.stateNode)){var s=e[He]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[He]||null;if(!h)throw Error(r(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&gr(o)}break t;case"textarea":au(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ys(e,!!s.multiple,n,!1)}}}var la=!1;function Ts(e,n,s){if(la)return e(n,s);la=!0;try{var o=e(n);return o}finally{if(la=!1,(Es!==null||_i!==null)&&(ec(),Es&&(n=Es,e=_i,_i=Es=null,yr(n),e)))for(n=0;n<e.length;n++)yr(e[n])}}function Yn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[He]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(On)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){_r=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{_r=!1}var vi=null,Co=null,vr=null;function No(){if(vr)return vr;var e,n=Co,s=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return vr=h.slice(e,1<o?1-o:void 0)}function Er(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Xn(){return!1}function Ye(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Xn,this.isPropagationStopped=Xn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Ye(ji),As=S({},ji,{view:0,detail:0}),Do=Ye(As),Ss,ua,Ti,ca=S({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Ss=e.screenX-Ti.screenX,ua=e.screenY-Ti.screenY):ua=Ss=0,Ti=e),Ss)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Oo=Ye(ca),Tr=S({},ca,{dataTransfer:0}),uu=Ye(Tr),cu=S({},As,{relatedTarget:0}),Ar=Ye(cu),Vo=S({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=Ye(Vo),ha=S({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fu=Ye(ha),du=S({},ji,{data:0}),Ai=Ye(du),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pu[e])?!!n[e]:!1}function bs(){return yu}var ln=S({},As,{key:function(e){if(e.key){var n=mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_u=Ye(ln),vu=S({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Ye(vu),u=S({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),m=Ye(u),v=S({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ye(v),P=S({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ye(P),tt=S({},ji,{newState:0,oldState:0}),wt=Ye(tt),be=[9,13,27,32],Kt=On&&"CompositionEvent"in window,pe=null;On&&"documentMode"in document&&(pe=document.documentMode);var Vn=On&&"TextEvent"in window&&!pe,Si=On&&(!Kt||pe&&8<pe&&11>=pe),$n=" ",Zn=!1;function Sr(e,n){switch(e){case"keyup":return be.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function F0(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Zn=!0,$n);case"textInput":return e=n.data,e===$n&&Zn?null:e;default:return null}}function Q0(e,n){if(da)return e==="compositionend"||!Kt&&Sr(e,n)?(e=No(),vr=Co=vi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!K0[e.type]:n==="textarea"}function cg(e,n,s,o){Es?_i?_i.push(o):_i=[o]:Es=o,n=lc(n,"onChange"),0<n.length&&(s=new Ei("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Mo=null,xo=null;function Y0(e){Qy(e,0)}function Eu(e){var n=vn(e);if(gr(n))return e}function hg(e,n){if(e==="change")return n}var fg=!1;if(On){var Rh;if(On){var Ih="oninput"in document;if(!Ih){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Ih=typeof dg.oninput=="function"}Rh=Ih}else Rh=!1;fg=Rh&&(!document.documentMode||9<document.documentMode)}function mg(){Mo&&(Mo.detachEvent("onpropertychange",gg),xo=Mo=null)}function gg(e){if(e.propertyName==="value"&&Eu(xo)){var n=[];cg(n,xo,e,Dn(e)),Ts(Y0,n)}}function X0(e,n,s){e==="focusin"?(mg(),Mo=n,xo=s,Mo.attachEvent("onpropertychange",gg)):e==="focusout"&&mg()}function $0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(xo)}function Z0(e,n){if(e==="click")return Eu(n)}function J0(e,n){if(e==="input"||e==="change")return Eu(n)}function W0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:W0;function Uo(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Nt.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yg(e,n){var s=pg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=pg(s)}}function _g(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_g(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=yi(e.document)}return n}function Ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var tA=On&&"documentMode"in document&&11>=document.documentMode,ma=null,Nh=null,Lo=null,Dh=!1;function Eg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Dh||ma==null||ma!==yi(o)||(o=ma,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&Uo(Lo,o)||(Lo=o,o=lc(Nh,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ma)))}function br(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ga={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Oh={},Tg={};On&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function wr(e){if(Oh[e])return Oh[e];if(!ga[e])return e;var n=ga[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tg)return Oh[e]=n[s];return e}var Ag=wr("animationend"),Sg=wr("animationiteration"),bg=wr("animationstart"),eA=wr("transitionrun"),nA=wr("transitionstart"),iA=wr("transitioncancel"),wg=wr("transitionend"),Rg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Jn(e,n){Rg.set(e,n),gi(n,[e])}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],pa=0,Mh=0;function Au(){for(var e=pa,n=Mh=pa=0;n<e;){var s=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ig(s,h,f)}}function Su(e,n,s,o){Mn[pa++]=e,Mn[pa++]=n,Mn[pa++]=s,Mn[pa++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,s,o){return Su(e,n,s,o),bu(e)}function Rr(e,n){return Su(e,null,null,n),bu(e)}function Ig(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Se(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function bu(e){if(50<sl)throw sl=0,Gf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function sA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,n,s,o){return new sA(e,n,s,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var s=e.alternate;return s===null?(s=An(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Cg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Uh(e)&&(g=1);else if(typeof e=="string")g=uS(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=An(31,s,n,h),e.elementType=b,e.lanes=f,e;case it:return Ir(s.children,h,f,n);case W:g=8,h|=24;break;case ct:return e=An(12,s,n,h|2),e.elementType=ct,e.lanes=f,e;case Jt:return e=An(13,s,n,h),e.elementType=Jt,e.lanes=f,e;case zt:return e=An(19,s,n,h),e.elementType=zt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case Et:g=9;break t;case Xt:g=11;break t;case C:g=14;break t;case w:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=An(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ir(e,n,s,o){return e=An(7,e,o,n),e.lanes=s,e}function Lh(e,n,s){return e=An(6,e,null,n),e.lanes=s,e}function Ng(e){var n=An(18,null,null,0);return n.stateNode=e,n}function Ph(e,n,s){return n=An(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dg=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var s=Dg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:jt(n)},Dg.set(e,n),n)}return{value:e,source:n,stack:jt(n)}}var _a=[],va=0,Ru=null,Po=0,Un=[],Ln=0,ws=null,bi=1,wi="";function Hi(e,n){_a[va++]=Po,_a[va++]=Ru,Ru=e,Po=n}function Og(e,n,s){Un[Ln++]=bi,Un[Ln++]=wi,Un[Ln++]=ws,ws=e;var o=bi;e=wi;var h=32-Se(o)-1;o&=~(1<<h),s+=1;var f=32-Se(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,bi=1<<32-Se(n)+h|s<<h|o,wi=f+e}else bi=1<<f|s<<h|o,wi=e}function kh(e){e.return!==null&&(Hi(e,1),Og(e,1,0))}function zh(e){for(;e===Ru;)Ru=_a[--va],_a[va]=null,Po=_a[--va],_a[va]=null;for(;e===ws;)ws=Un[--Ln],Un[Ln]=null,wi=Un[--Ln],Un[Ln]=null,bi=Un[--Ln],Un[Ln]=null}function Vg(e,n){Un[Ln++]=bi,Un[Ln++]=wi,Un[Ln++]=ws,bi=n.id,wi=n.overflow,ws=e}var Xe=null,fe=null,Bt=!1,Rs=null,Pn=!1,jh=Error(r(519));function Is(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(xn(n,e)),jh}function Mg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[De]=e,n[He]=o,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)Ot(al[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),ru(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),_s(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||$y(n.textContent,s)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||Is(e,!0)}function xg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Xe=Xe.return}}function Ea(e){if(e!==Xe)return!1;if(!Bt)return xg(e),Bt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||rd(e.type,e.memoizedProps)),s=!s),s&&fe&&Is(e),xg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));fe=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));fe=r_(e)}else n===27?(n=fe,Bs(e.type)?(e=cd,cd=null,fe=e):fe=n):fe=Xe?zn(e.stateNode.nextSibling):null;return!0}function Cr(){fe=Xe=null,Bt=!1}function Bh(){var e=Rs;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Rs=null),e}function ko(e){Rs===null?Rs=[e]:Rs.push(e)}var qh=O(null),Nr=null,Gi=null;function Cs(e,n,s){nt(qh,n._currentValue),n._currentValue=s}function Fi(e){e._currentValue=qh.current,Y(qh)}function Hh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Gh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Hh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Hh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ta(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Tn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Gh(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){Nr=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Ug(Nr,e)}function Cu(e,n){return Nr===null&&Dr(e),Ug(e,n)}function Ug(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Gi===null){if(e===null)throw Error(r(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return s}var rA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},aA=a.unstable_scheduleCallback,oA=a.unstable_NormalPriority,Me={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new rA,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&aA(oA,function(){e.controller.abort()})}var jo=null,Qh=0,Aa=0,Sa=null;function lA(e,n){if(jo===null){var s=jo=[];Qh=0,Aa=$f(),Sa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Qh++,n.then(Lg,Lg),n}function Lg(){if(--Qh===0&&jo!==null){Sa!==null&&(Sa.status="fulfilled");var e=jo;jo=null,Aa=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function uA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Pg=H.S;H.S=function(e,n){Ey=je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&lA(e,n),Pg!==null&&Pg(e,n)};var Or=O(null);function Kh(){var e=Or.current;return e!==null?e:le.pooledCache}function Nu(e,n){n===null?nt(Or,Or.current):nt(Or,n.pool)}function kg(){var e=Kh();return e===null?null:{parent:Me._currentValue,pool:e}}var ba=Error(r(460)),Yh=Error(r(474)),Du=Error(r(542)),Ou={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Kn,Kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qg(e),e;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qg(e),e}throw Mr=n,ba}}function Vr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Mr=s,ba):s}}var Mr=null;function Bg(){if(Mr===null)throw Error(r(459));var e=Mr;return Mr=null,e}function qg(e){if(e===ba||e===Du)throw Error(r(483))}var wa=null,Bo=0;function Vu(e){var n=Bo;return Bo+=1,wa===null&&(wa=[]),jg(wa,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hg(e){function n(U,N){if(e){var k=U.deletions;k===null?(U.deletions=[N],U.flags|=16):k.push(N)}}function s(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=qi(U,N),U.index=0,U.sibling=null,U}function f(U,N,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<N?(U.flags|=67108866,N):k):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,k,K){return N===null||N.tag!==6?(N=Lh(k,U.mode,K),N.return=U,N):(N=h(N,k),N.return=U,N)}function I(U,N,k,K){var ht=k.type;return ht===it?G(U,N,k.props.children,K,k.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Vr(ht)===N.type)?(N=h(N,k.props),qo(N,k),N.return=U,N):(N=wu(k.type,k.key,k.props,null,U.mode,K),qo(N,k),N.return=U,N)}function z(U,N,k,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=Ph(k,U.mode,K),N.return=U,N):(N=h(N,k.children||[]),N.return=U,N)}function G(U,N,k,K,ht){return N===null||N.tag!==7?(N=Ir(k,U.mode,K,ht),N.return=U,N):(N=h(N,k),N.return=U,N)}function X(U,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Lh(""+N,U.mode,k),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Q:return k=wu(N.type,N.key,N.props,null,U.mode,k),qo(k,N),k.return=U,k;case J:return N=Ph(N,U.mode,k),N.return=U,N;case w:return N=Vr(N),X(U,N,k)}if(_e(N)||L(N))return N=Ir(N,U.mode,k,null),N.return=U,N;if(typeof N.then=="function")return X(U,Vu(N),k);if(N.$$typeof===gt)return X(U,Cu(U,N),k);Mu(U,N)}return null}function j(U,N,k,K){var ht=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ht!==null?null:E(U,N,""+k,K);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:return k.key===ht?I(U,N,k,K):null;case J:return k.key===ht?z(U,N,k,K):null;case w:return k=Vr(k),j(U,N,k,K)}if(_e(k)||L(k))return ht!==null?null:G(U,N,k,K,null);if(typeof k.then=="function")return j(U,N,Vu(k),K);if(k.$$typeof===gt)return j(U,N,Cu(U,k),K);Mu(U,k)}return null}function q(U,N,k,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(k)||null,E(N,U,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return U=U.get(K.key===null?k:K.key)||null,I(N,U,K,ht);case J:return U=U.get(K.key===null?k:K.key)||null,z(N,U,K,ht);case w:return K=Vr(K),q(U,N,k,K,ht)}if(_e(K)||L(K))return U=U.get(k)||null,G(N,U,K,ht,null);if(typeof K.then=="function")return q(U,N,k,Vu(K),ht);if(K.$$typeof===gt)return q(U,N,k,Cu(N,K),ht);Mu(N,K)}return null}function ot(U,N,k,K){for(var ht=null,Gt=null,lt=N,It=N=0,Ut=null;lt!==null&&It<k.length;It++){lt.index>It?(Ut=lt,lt=null):Ut=lt.sibling;var Ft=j(U,lt,k[It],K);if(Ft===null){lt===null&&(lt=Ut);break}e&&lt&&Ft.alternate===null&&n(U,lt),N=f(Ft,N,It),Gt===null?ht=Ft:Gt.sibling=Ft,Gt=Ft,lt=Ut}if(It===k.length)return s(U,lt),Bt&&Hi(U,It),ht;if(lt===null){for(;It<k.length;It++)lt=X(U,k[It],K),lt!==null&&(N=f(lt,N,It),Gt===null?ht=lt:Gt.sibling=lt,Gt=lt);return Bt&&Hi(U,It),ht}for(lt=o(lt);It<k.length;It++)Ut=q(lt,U,It,k[It],K),Ut!==null&&(e&&Ut.alternate!==null&&lt.delete(Ut.key===null?It:Ut.key),N=f(Ut,N,It),Gt===null?ht=Ut:Gt.sibling=Ut,Gt=Ut);return e&&lt.forEach(function(Qs){return n(U,Qs)}),Bt&&Hi(U,It),ht}function dt(U,N,k,K){if(k==null)throw Error(r(151));for(var ht=null,Gt=null,lt=N,It=N=0,Ut=null,Ft=k.next();lt!==null&&!Ft.done;It++,Ft=k.next()){lt.index>It?(Ut=lt,lt=null):Ut=lt.sibling;var Qs=j(U,lt,Ft.value,K);if(Qs===null){lt===null&&(lt=Ut);break}e&&lt&&Qs.alternate===null&&n(U,lt),N=f(Qs,N,It),Gt===null?ht=Qs:Gt.sibling=Qs,Gt=Qs,lt=Ut}if(Ft.done)return s(U,lt),Bt&&Hi(U,It),ht;if(lt===null){for(;!Ft.done;It++,Ft=k.next())Ft=X(U,Ft.value,K),Ft!==null&&(N=f(Ft,N,It),Gt===null?ht=Ft:Gt.sibling=Ft,Gt=Ft);return Bt&&Hi(U,It),ht}for(lt=o(lt);!Ft.done;It++,Ft=k.next())Ft=q(lt,U,It,Ft.value,K),Ft!==null&&(e&&Ft.alternate!==null&&lt.delete(Ft.key===null?It:Ft.key),N=f(Ft,N,It),Gt===null?ht=Ft:Gt.sibling=Ft,Gt=Ft);return e&&lt.forEach(function(ES){return n(U,ES)}),Bt&&Hi(U,It),ht}function re(U,N,k,K){if(typeof k=="object"&&k!==null&&k.type===it&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:t:{for(var ht=k.key;N!==null;){if(N.key===ht){if(ht=k.type,ht===it){if(N.tag===7){s(U,N.sibling),K=h(N,k.props.children),K.return=U,U=K;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Vr(ht)===N.type){s(U,N.sibling),K=h(N,k.props),qo(K,k),K.return=U,U=K;break t}s(U,N);break}else n(U,N);N=N.sibling}k.type===it?(K=Ir(k.props.children,U.mode,K,k.key),K.return=U,U=K):(K=wu(k.type,k.key,k.props,null,U.mode,K),qo(K,k),K.return=U,U=K)}return g(U);case J:t:{for(ht=k.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){s(U,N.sibling),K=h(N,k.children||[]),K.return=U,U=K;break t}else{s(U,N);break}else n(U,N);N=N.sibling}K=Ph(k,U.mode,K),K.return=U,U=K}return g(U);case w:return k=Vr(k),re(U,N,k,K)}if(_e(k))return ot(U,N,k,K);if(L(k)){if(ht=L(k),typeof ht!="function")throw Error(r(150));return k=ht.call(k),dt(U,N,k,K)}if(typeof k.then=="function")return re(U,N,Vu(k),K);if(k.$$typeof===gt)return re(U,N,Cu(U,k),K);Mu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(s(U,N.sibling),K=h(N,k),K.return=U,U=K):(s(U,N),K=Lh(k,U.mode,K),K.return=U,U=K),g(U)):s(U,N)}return function(U,N,k,K){try{Bo=0;var ht=re(U,N,k,K);return wa=null,ht}catch(lt){if(lt===ba||lt===Du)throw lt;var Gt=An(29,lt,null,U.mode);return Gt.lanes=K,Gt.return=U,Gt}}}var xr=Hg(!0),Gg=Hg(!1),Ns=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=bu(e),Ig(e,null,s),n}return Su(e,o,n,s),bu(e)}function Ho(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}function Zh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Jh=!1;function Go(){if(Jh){var e=Sa;if(e!==null)throw e}}function Fo(e,n,s,o){Jh=!1;var h=e.updateQueue;Ns=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(xt&j)===j:(o&j)===j){j!==0&&j===Aa&&(Jh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,dt=E;j=n;var re=s;switch(dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){X=ot.call(re,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,j=typeof ot=="function"?ot.call(re,X,j):ot,j==null)break t;X=S({},X,j);break t;case 2:Ns=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,I=X):G=G.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ls|=g,e.lanes=g,e.memoizedState=X}}function Fg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Qg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fg(s[e],n)}var Ra=O(null),xu=O(0);function Kg(e,n){e=ts,nt(xu,e),nt(Ra,n),ts=e|n.baseLanes}function Wh(){nt(xu,ts),nt(Ra,Ra.current)}function tf(){ts=xu.current,Y(Ra),Y(xu)}var Sn=O(null),kn=null;function Vs(e){var n=e.alternate;nt(we,we.current&1),nt(Sn,e),kn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(kn=e)}function ef(e){nt(we,we.current),nt(Sn,e),kn===null&&(kn=e)}function Yg(e){e.tag===22?(nt(we,we.current),nt(Sn,e),kn===null&&(kn=e)):Ms()}function Ms(){nt(we,we.current),nt(Sn,Sn.current)}function bn(e){Y(Sn),kn===e&&(kn=null),Y(we)}var we=O(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ld(s)||ud(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,Rt=null,ie=null,xe=null,Lu=!1,Ia=!1,Ur=!1,Pu=0,Qo=0,Ca=null,cA=0;function Te(){throw Error(r(321))}function nf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Tn(e[s],n[s]))return!1;return!0}function sf(e,n,s,o,h,f){return Qi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Op:vf,Ur=!1,f=s(o,h),Ur=!1,Ia&&(f=$g(n,s,o,h)),Xg(e),f}function Xg(e){H.H=Xo;var n=ie!==null&&ie.next!==null;if(Qi=0,xe=ie=Rt=null,Lu=!1,Qo=0,Ca=null,n)throw Error(r(300));e===null||Ue||(e=e.dependencies,e!==null&&Iu(e)&&(Ue=!0))}function $g(e,n,s,o){Rt=e;var h=0;do{if(Ia&&(Ca=null),Qo=0,Ia=!1,25<=h)throw Error(r(301));if(h+=1,xe=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Vp,f=n(s,o)}while(Ia);return f}function hA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Rt.flags|=1024),n}function rf(){var e=Pu!==0;return Pu=0,e}function af(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function of(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Qi=0,xe=ie=Rt=null,Ia=!1,Qo=Pu=0,Ca=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Rt.memoizedState=xe=e:xe=xe.next=e,xe}function Re(){if(ie===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=xe===null?Rt.memoizedState:xe.next;if(n!==null)xe=n,ie=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},xe===null?Rt.memoizedState=xe=e:xe=xe.next=e}return xe}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Qo;return Qo+=1,Ca===null&&(Ca=[]),e=jg(Ca,e,n),n=Rt,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Op:vf),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===gt)return $e(e)}throw Error(r(438,String(e)))}function lf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ku(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Ki(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=Re();return uf(n,ie,e)}function uf(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(xt&X)===X:(Qi&X)===X){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Aa&&(G=!0);else if((Qi&j)===j){z=z.next,j===Aa&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,g=f):I=I.next=X,Rt.lanes|=j,Ls|=j;X=z.action,Ur&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,Rt.lanes|=X,Ls|=X;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!Tn(f,e.memoizedState)&&(Ue=!0,G&&(s=Sa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cf(e){var n=Re(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Tn(f,n.memoizedState)||(Ue=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Zg(e,n,s){var o=Rt,h=Re(),f=Bt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!Tn((ie||h).memoizedState,s);if(g&&(h.memoizedState=s,Ue=!0),h=h.queue,df(tp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,Na(9,{destroy:void 0},Wg.bind(null,o,h,s,n),null),le===null)throw Error(r(349));f||(Qi&127)!==0||Jg(o,n,s)}return s}function Jg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=ku(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wg(e,n,s,o){n.value=s,n.getSnapshot=o,ep(n)&&np(e)}function tp(e,n,s){return s(function(){ep(n)&&np(e)})}function ep(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Tn(e,s)}catch{return!0}}function np(e){var n=Rr(e,2);n!==null&&yn(n,e,2)}function hf(e){var n=un();if(typeof e=="function"){var s=e;if(e=s(),Ur){Cn(!0);try{s()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function ip(e,n,s,o){return e.baseState=s,uf(e,ie,typeof o=="function"?o:Ki)}function fA(e,n,s,o,h){if(Hu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,sp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,o),I=H.S;I!==null&&I(g,E),rp(e,n,E)}catch(z){ff(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),rp(e,n,f)}catch(z){ff(e,n,z)}}function rp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ap(e,n,o)},function(o){return ff(e,n,o)}):ap(e,n,s)}function ap(e,n,s){n.status="fulfilled",n.value=s,op(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sp(e,s)))}function ff(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,op(n),n=n.next;while(n!==o)}e.action=null}function op(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function lp(e,n){return n}function up(e,n){if(Bt){var s=le.formState;if(s!==null){t:{var o=Rt;if(Bt){if(fe){e:{for(var h=fe,f=Pn;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){fe=zn(h.nextSibling),o=h.data==="F!";break t}}Is(o)}o=!1}o&&(n=s[0])}}return s=un(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:n},s.queue=o,s=Cp.bind(null,Rt,o),o.dispatch=s,o=hf(!1),f=_f.bind(null,Rt,!1,o.queue),o=un(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=fA.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function cp(e){var n=Re();return hp(n,ie,e)}function hp(e,n,s){if(n=uf(e,n,lp)[0],e=ju(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(g){throw g===ba?Du:g}else o=n;n=Re();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Na(9,{destroy:void 0},dA.bind(null,h,s),null)),[o,f,e]}function dA(e,n){e.action=n}function fp(e){var n=Re(),s=ie;if(s!==null)return hp(n,s,e);Re(),n=n.memoizedState,s=Re();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Na(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=ku(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function dp(){return Re().memoizedState}function Bu(e,n,s,o){var h=un();Rt.flags|=e,h.memoizedState=Na(1|n,{destroy:void 0},s,o===void 0?null:o)}function qu(e,n,s,o){var h=Re();o=o===void 0?null:o;var f=h.memoizedState.inst;ie!==null&&o!==null&&nf(o,ie.memoizedState.deps)?h.memoizedState=Na(n,f,s,o):(Rt.flags|=e,h.memoizedState=Na(1|n,f,s,o))}function mp(e,n){Bu(8390656,8,e,n)}function df(e,n){qu(2048,8,e,n)}function mA(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=ku(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function gp(e){var n=Re().memoizedState;return mA({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function pp(e,n){return qu(4,2,e,n)}function yp(e,n){return qu(4,4,e,n)}function _p(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vp(e,n,s){s=s!=null?s.concat([e]):null,qu(4,4,_p.bind(null,n,e),s)}function mf(){}function Ep(e,n){var s=Re();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&nf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Tp(e,n){var s=Re();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&nf(n,o[1]))return o[0];if(o=e(),Ur){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o}function gf(e,n,s){return s===void 0||(Qi&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ay(),Rt.lanes|=e,Ls|=e,s)}function Ap(e,n,s,o){return Tn(s,n)?s:Ra.current!==null?(e=gf(e,s,o),Tn(e,n)||(Ue=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(xt&261930)===0?(Ue=!0,e.memoizedState=s):(e=Ay(),Rt.lanes|=e,Ls|=e,n)}function Sp(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,_f(e,!1,n,s);try{var I=h(),z=H.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=uA(I,o);Yo(e,n,G,In(e))}else Yo(e,n,o,In(e))}catch(X){Yo(e,n,{then:function(){},status:"rejected",reason:X},In())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function gA(){}function pf(e,n,s,o){if(e.tag!==5)throw Error(r(476));var h=bp(e).queue;Sp(e,h,n,ut,s===null?gA:function(){return wp(e),s(o)})}function bp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wp(e){var n=bp(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},In())}function yf(){return $e(hl)}function Rp(){return Re().memoizedState}function Ip(){return Re().memoizedState}function pA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();e=Ds(s);var o=Os(n,e,s);o!==null&&(yn(o,n,s),Ho(o,n,s)),n={cache:Fh()},e.payload=n;return}n=n.return}}function yA(e,n,s){var o=In();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Np(n,s):(s=xh(e,n,s,o),s!==null&&(yn(s,e,o),Dp(s,n,o)))}function Cp(e,n,s){var o=In();Yo(e,n,s,o)}function Yo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Np(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,g))return Su(e,n,h,0),le===null&&Au(),!1}catch{}if(s=xh(e,n,h,o),s!==null)return yn(s,e,o),Dp(s,n,o),!0}return!1}function _f(e,n,s,o){if(o={lane:2,revertLane:$f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(r(479))}else n=xh(e,s,o,2),n!==null&&yn(n,e,2)}function Hu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Np(e,n){Ia=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Dp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}var Xo={readContext:$e,use:zu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};Xo.useEffectEvent=Te;var Op={readContext:$e,use:zu,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:mp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Bu(4194308,4,_p.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bu(4194308,4,e,n)},useInsertionEffect:function(e,n){Bu(4,2,e,n)},useMemo:function(e,n){var s=un();n=n===void 0?null:n;var o=e();if(Ur){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=un();if(s!==void 0){var h=s(n);if(Ur){Cn(!0);try{s(n)}finally{Cn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=yA.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=hf(e);var n=e.queue,s=Cp.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:mf,useDeferredValue:function(e,n){var s=un();return gf(s,e,n)},useTransition:function(){var e=hf(!1);return e=Sp.bind(null,Rt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=un();if(Bt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),le===null)throw Error(r(349));(xt&127)!==0||Jg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mp(tp.bind(null,o,f,e),[e]),o.flags|=2048,Na(9,{destroy:void 0},Wg.bind(null,o,f,s,n),null),s},useId:function(){var e=un(),n=le.identifierPrefix;if(Bt){var s=wi,o=bi;s=(o&~(1<<32-Se(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=cA++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yf,useFormState:up,useActionState:up,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=_f.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:lf,useCacheRefresh:function(){return un().memoizedState=pA.bind(null,Rt)},useEffectEvent:function(e){var n=un(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},vf={readContext:$e,use:zu,useCallback:Ep,useContext:$e,useEffect:df,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:ju,useRef:dp,useState:function(){return ju(Ki)},useDebugValue:mf,useDeferredValue:function(e,n){var s=Re();return Ap(s,ie.memoizedState,e,n)},useTransition:function(){var e=ju(Ki)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Zg,useId:Rp,useHostTransitionStatus:yf,useFormState:cp,useActionState:cp,useOptimistic:function(e,n){var s=Re();return ip(s,ie,e,n)},useMemoCache:lf,useCacheRefresh:Ip};vf.useEffectEvent=gp;var Vp={readContext:$e,use:zu,useCallback:Ep,useContext:$e,useEffect:df,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:cf,useRef:dp,useState:function(){return cf(Ki)},useDebugValue:mf,useDeferredValue:function(e,n){var s=Re();return ie===null?gf(s,e,n):Ap(s,ie.memoizedState,e,n)},useTransition:function(){var e=cf(Ki)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Zg,useId:Rp,useHostTransitionStatus:yf,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var s=Re();return ie!==null?ip(s,ie,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Ip};Vp.useEffectEvent=gp;function Ef(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=In(),h=Ds(o);h.payload=n,s!=null&&(h.callback=s),n=Os(e,h,o),n!==null&&(yn(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=In(),h=Ds(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Os(e,h,o),n!==null&&(yn(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=In(),o=Ds(s);o.tag=2,n!=null&&(o.callback=n),n=Os(e,o,s),n!==null&&(yn(n,e,s),Ho(n,e,s))}};function Mp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Uo(s,o)||!Uo(h,f):!0}function xp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Tf.enqueueReplaceState(n,n.state,null)}function Lr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Up(e){Tu(e)}function Lp(e){console.error(e)}function Pp(e){Tu(e)}function Gu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function kp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(e,n,s){return s=Ds(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(e,n)},s}function zp(e){return e=Ds(e),e.tag=3,e}function jp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){kp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){kp(n,s,o),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function _A(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ta(n,s,h,!0),s=Sn.current,s!==null){switch(s.tag){case 31:case 13:return kn===null?nc():s.alternate===null&&Ae===0&&(Ae=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Kf(e,o,h)),!1;case 22:return s.flags|=65536,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Kf(e,o,h)),!1}throw Error(r(435,s.tag))}return Kf(e,o,h),nc(),!1}if(Bt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==jh&&(e=Error(r(422),{cause:o}),ko(xn(e,s)))):(o!==jh&&(n=Error(r(423),{cause:o}),ko(xn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,s),h=Af(e.stateNode,o,h),Zh(e,h),Ae!==4&&(Ae=2)),!1;var f=Error(r(520),{cause:o});if(f=xn(f,s),il===null?il=[f]:il.push(f),Ae!==4&&(Ae=2),n===null)return!0;o=xn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Af(s.stateNode,o,e),Zh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zp(h),jp(h,e,s,o),Zh(s,h),!1}s=s.return}while(s!==null);return!1}var Sf=Error(r(461)),Ue=!1;function Ze(e,n,s,o){n.child=e===null?Gg(n,null,s,o):xr(n,e.child,s,o)}function Bp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Dr(n),o=sf(e,n,s,g,f,h),E=rf(),e!==null&&!Ue?(af(e,n,h),Yi(e,n,h)):(Bt&&E&&kh(n),n.flags|=1,Ze(e,n,o,h),n.child)}function qp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hp(e,n,f,o,h)):(e=wu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Of(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Uo,s(g,o)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Hp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Uo(f,o)&&e.ref===n.ref)if(Ue=!1,n.pendingProps=o=f,Of(e,h))(e.flags&131072)!==0&&(Ue=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return bf(e,n,s,o,h)}function Gp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Fp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Kg(n,f):Wh(),Yg(n);else return o=n.lanes=536870912,Fp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Nu(n,f.cachePool),Kg(n,f),Ms(),n.memoizedState=null):(e!==null&&Nu(n,null),Wh(),Ms());return Ze(e,n,h,s),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fp(e,n,s,o,h){var f=Kh();return f=f===null?null:{parent:Me._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Nu(n,null),Wh(),Yg(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function Fu(e,n){return n=Ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qp(e,n,s){return xr(n,e.child,null,s),e=Fu(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function vA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=Fu(n,o),n.lanes=536870912,$o(null,e);if(ef(n),(e=fe)?(e=s_(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ws!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,Xe=n,fe=null)):e=null,e===null)throw Is(n);return n.lanes=536870912,null}return Fu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ef(n),h)if(n.flags&256)n.flags&=-257,n=Qp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ue||Ta(e,n,s,!1),h=(s&e.childLanes)!==0,Ue||h){if(o=le,o!==null&&(g=yo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rr(e,g),yn(o,e,g),Sf;nc(),n=Qp(e,n,s)}else e=f.treeContext,fe=zn(g.nextSibling),Xe=n,Bt=!0,Rs=null,Pn=!1,e!==null&&Vg(n,e),n=Fu(n,o),n.flags|=4096;return n}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function bf(e,n,s,o,h){return Dr(n),s=sf(e,n,s,o,void 0,h),o=rf(),e!==null&&!Ue?(af(e,n,h),Yi(e,n,h)):(Bt&&o&&kh(n),n.flags|=1,Ze(e,n,s,h),n.child)}function Kp(e,n,s,o,h,f){return Dr(n),n.updateQueue=null,s=$g(n,o,s,h),Xg(e),o=rf(),e!==null&&!Ue?(af(e,n,f),Yi(e,n,f)):(Bt&&o&&kh(n),n.flags|=1,Ze(e,n,s,f),n.child)}function Yp(e,n,s,o,h){if(Dr(n),n.stateNode===null){var f=ya,g=s.contextType;typeof g=="object"&&g!==null&&(f=$e(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Xh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?$e(g):ya,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Ef(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Tf.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Lr(s,E);f.props=I;var z=f.context,G=s.contextType;g=ya,typeof G=="object"&&G!==null&&(g=$e(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&xp(n,f,o,g),Ns=!1;var j=n.memoizedState;f.state=j,Fo(n,o,f,h),Go(),z=n.memoizedState,E||j!==z||Ns?(typeof X=="function"&&(Ef(n,s,X,o),z=n.memoizedState),(I=Ns||Mp(n,s,I,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,$h(e,n),g=n.memoizedProps,G=Lr(s,g),f.props=G,X=n.pendingProps,j=f.context,z=s.contextType,I=ya,typeof z=="object"&&z!==null&&(I=$e(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==I)&&xp(n,f,o,I),Ns=!1,j=n.memoizedState,f.state=j,Fo(n,o,f,h),Go();var q=n.memoizedState;g!==X||j!==q||Ns||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(Ef(n,s,E,o),q=n.memoizedState),(G=Ns||Mp(n,s,G,o,j,q,I)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=xr(n,e.child,null,h),n.child=xr(n,null,s,h)):Ze(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function Xp(e,n,s,o){return Cr(),n.flags|=256,Ze(e,n,s,o),n.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:kg()}}function If(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Rn),e}function $p(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?Vs(n):Ms(),(e=fe)?(e=s_(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ws!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,Xe=n,fe=null)):e=null,e===null)throw Is(n);return ud(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ms(),h=n.mode,E=Ku({mode:"hidden",children:E},h),o=Ir(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Rf(s),o.childLanes=If(e,g,s),n.memoizedState=wf,$o(null,o)):(Vs(n),Cf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Vs(n),n.flags&=-257,n=Nf(e,n,s)):n.memoizedState!==null?(Ms(),n.child=e.child,n.flags|=128,n=null):(Ms(),E=o.fallback,h=n.mode,o=Ku({mode:"visible",children:o.children},h),E=Ir(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,xr(n,e.child,null,s),o=n.child,o.memoizedState=Rf(s),o.childLanes=If(e,g,s),n.memoizedState=wf,n=$o(null,o));else if(Vs(n),ud(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,ko({value:o,source:null,stack:null}),n=Nf(e,n,s)}else if(Ue||Ta(e,n,s,!1),g=(s&e.childLanes)!==0,Ue||g){if(g=le,g!==null&&(o=yo(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Rr(e,o),yn(g,e,o),Sf;ld(E)||nc(),n=Nf(e,n,s)}else ld(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,fe=zn(E.nextSibling),Xe=n,Bt=!0,Rs=null,Pn=!1,e!==null&&Vg(n,e),n=Cf(n,o.children),n.flags|=4096);return n}return h?(Ms(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=qi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=qi(z,E):(E=Ir(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Rf(s):(h=E.cachePool,h!==null?(I=Me._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=kg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=If(e,g,s),n.memoizedState=wf,$o(e.child,o)):(Vs(n),s=e.child,e=s.sibling,s=qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Cf(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=An(22,e,null,n),e.lanes=0,e}function Nf(e,n,s){return xr(n,e.child,null,s),e=Cf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hh(e.return,n,s)}function Df(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Jp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=we.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(we,g),Ze(e,n,o,s),o=Bt?Po:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zp(e,s,n);else if(e.tag===19)Zp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Df(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Df(n,!0,s,null,f,o);break;case"together":Df(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Yi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ls|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ta(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function EA(e,n,s){switch(n.tag){case 3:ve(n,n.stateNode.containerInfo),Cs(n,Me,e.memoizedState.cache),Cr();break;case 27:case 5:Pi(n);break;case 4:ve(n,n.stateNode.containerInfo);break;case 10:Cs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Vs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$p(e,n,s):(Vs(n),e=Yi(e,n,s),e!==null?e.sibling:null);Vs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ta(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Jp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(we,we.current),o)break;return null;case 22:return n.lanes=0,Gp(e,n,s,n.pendingProps);case 24:Cs(n,Me,e.memoizedState.cache)}return Yi(e,n,s)}function Wp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ue=!0;else{if(!Of(e,s)&&(n.flags&128)===0)return Ue=!1,EA(e,n,s);Ue=(e.flags&131072)!==0}else Ue=!1,Bt&&(n.flags&1048576)!==0&&Og(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Vr(n.elementType),n.type=e,typeof e=="function")Uh(e)?(o=Lr(e,o),n.tag=1,n=Yp(null,n,e,o,s)):(n.tag=0,n=bf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Xt){n.tag=11,n=Bp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=qp(null,n,e,o,s);break t}}throw n=ae(e)||e,Error(r(306,n,""))}}return n;case 0:return bf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Lr(o,n.pendingProps),Yp(e,n,o,h,s);case 3:t:{if(ve(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,$h(e,n),Fo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Cs(n,Me,o),o!==f.cache&&Gh(n,[Me],s,!0),Go(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xp(e,n,o,s);break t}else if(o!==h){h=xn(Error(r(424)),n),ko(h),n=Xp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,fe=zn(e.firstChild),Xe=n,Bt=!0,Rs=null,Pn=!0,s=Gg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cr(),o===h){n=Yi(e,n,s);break t}Ze(e,n,o,s)}n=n.child}return n;case 26:return Qu(e,n),e===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,e=n.pendingProps,o=uc(St.current).createElement(s),o[De]=n,o[He]=e,Je(o,s,e),Oe(o),n.stateNode=o):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Pi(n),e===null&&Bt&&(o=n.stateNode=o_(n.type,n.pendingProps,St.current),Xe=n,Pn=!0,h=fe,Bs(n.type)?(cd=h,fe=zn(o.firstChild)):fe=h),Ze(e,n,n.pendingProps.children,s),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=fe)&&(o=$A(o,n.type,n.pendingProps,Pn),o!==null?(n.stateNode=o,Xe=n,fe=zn(o.firstChild),Pn=!1,h=!0):h=!1),h||Is(n)),Pi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,rd(h,f)?o=null:g!==null&&rd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=sf(e,n,hA,null,null,s),hl._currentValue=h),Qu(e,n),Ze(e,n,o,s),n.child;case 6:return e===null&&Bt&&((e=s=fe)&&(s=ZA(s,n.pendingProps,Pn),s!==null?(n.stateNode=s,Xe=n,fe=null,e=!0):e=!1),e||Is(n)),null;case 13:return $p(e,n,s);case 4:return ve(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=xr(n,null,o,s):Ze(e,n,o,s),n.child;case 11:return Bp(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Cs(n,n.type,o.value),Ze(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Dr(n),h=$e(h),o=o(h),n.flags|=1,Ze(e,n,o,s),n.child;case 14:return qp(e,n,n.type,n.pendingProps,s);case 15:return Hp(e,n,n.type,n.pendingProps,s);case 19:return Jp(e,n,s);case 31:return vA(e,n,s);case 22:return Gp(e,n,s,n.pendingProps);case 24:return Dr(n),o=$e(Me),e===null?(h=Kh(),h===null&&(h=le,f=Fh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Xh(n),Cs(n,Me,h)):((e.lanes&s)!==0&&($h(e,n),Fo(n,null,null,s),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Cs(n,Me,o)):(o=f.cache,Cs(n,Me,o),o!==h.cache&&Gh(n,[Me],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Xi(e){e.flags|=4}function Vf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Mr=Ou,Yh}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g_(n))if(Ry())e.flags|=8192;else throw Mr=Ou,Yh}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?tu():536870912,e.lanes|=n,Ma|=n)}function Zo(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function TA(e,n,s){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(Me),ue(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bh())),de(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Xi(n),f!==null?(de(n),ty(n,f)):(de(n),Vf(n,h,null,o,s))):f?f!==e.memoizedState?(Xi(n),de(n),ty(n,f)):(de(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(n),de(n),Vf(n,h,e,o,s)),null;case 27:if(fs(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return de(n),null}e=st.current,Ea(n)?Mg(n):(e=o_(h,o,s),n.stateNode=e,Xi(n))}return de(n),null;case 5:if(fs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return de(n),null}if(f=st.current,Ea(n))Mg(n);else{var g=uc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[De]=n,f[He]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(n)}}return de(n),Vf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=St.current,Ea(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[De]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||Is(n,!0)}else e=uc(e).createTextNode(o),e[De]=n,n.stateNode=e}return de(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[De]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),e=!1}else s=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return de(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[De]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),h=!1}else h=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Yu(n,n.updateQueue),de(n),null);case 4:return ue(),e===null&&td(n.stateNode.containerInfo),de(n),null;case 10:return Fi(n.type),de(n),null;case 19:if(Y(we),o=n.memoizedState,o===null)return de(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(Ae!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Cg(s,e),s=s.sibling;return nt(we,we.current&1|2),Bt&&Hi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&je()>Wu&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return de(n),null}else 2*je()-o.renderingStartTime>Wu&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=je(),e.sibling=null,s=we.current,nt(we,h?s&1|2:s&1),Bt&&Hi(n,o.treeForkCount),e):(de(n),null);case 22:case 23:return bn(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&Yu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Or),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Fi(Me),de(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function AA(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(Me),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fs(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(r(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(we),null;case 4:return ue(),null;case 10:return Fi(n.type),null;case 22:case 23:return bn(n),tf(),e!==null&&Y(Or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(Me),null;case 25:return null;default:return null}}function ey(e,n){switch(zh(n),n.tag){case 3:Fi(Me),ue();break;case 26:case 27:case 5:fs(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:Y(we);break;case 10:Fi(n.type);break;case 22:case 23:bn(n),tf(),e!==null&&Y(Or);break;case 24:Fi(Me)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){ee(n,n.return,E)}}function xs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(G){ee(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){ee(n,n.return,G)}}function ny(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qg(n,s)}catch(o){ee(e,e.return,o)}}}function iy(e,n,s){s.props=Lr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ee(e,n,o)}}function Wo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){ee(e,n,h)}}function Ri(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ee(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ee(e,e.return,h)}}function Mf(e,n,s){try{var o=e.stateNode;GA(o,e.type,s,n),o[He]=n}catch(h){ee(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bs(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Kn));else if(o!==4&&(o===27&&Bs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Uf(e,n,s),e=e.sibling;e!==null;)Uf(e,n,s),e=e.sibling}function Xu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Bs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Xu(e,n,s),e=e.sibling;e!==null;)Xu(e,n,s),e=e.sibling}function ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,s),n[De]=e,n[He]=s}catch(f){ee(e,e.return,f)}}var $i=!1,Le=!1,Lf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function SA(e,n){if(e=e.containerInfo,id=pc,e=vg(e),Ch(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,z=0,G=0,X=e,j=null;e:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(I=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++G===o&&(I=g),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:e,selectionRange:s},pc=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Lr(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){ee(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)od(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function ly(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ji(e,s),o&4&&Jo(5,s);break;case 1:if(Ji(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){ee(s,s.return,g)}else{var h=Lr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ee(s,s.return,g)}}o&64&&ny(s),o&512&&Wo(s,s.return);break;case 3:if(Ji(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qg(e,n)}catch(g){ee(s,s.return,g)}}break;case 27:n===null&&o&4&&ay(s);case 26:case 5:Ji(e,s),n===null&&o&4&&sy(s),o&512&&Wo(s,s.return);break;case 12:Ji(e,s);break;case 31:Ji(e,s),o&4&&hy(e,s);break;case 13:Ji(e,s),o&4&&fy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=VA.bind(null,s),JA(e,s))));break;case 22:if(o=s.memoizedState!==null||$i,!o){n=n!==null&&n.memoizedState!==null||Le,h=$i;var f=Le;$i=o,(Le=n)&&!f?Wi(e,s,(s.subtreeFlags&8772)!==0):Ji(e,s),$i=h,Le=f}break;case 30:break;default:Ji(e,s)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,dn=!1;function Zi(e,n,s){for(s=s.child;s!==null;)cy(e,n,s),s=s.sibling}function cy(e,n,s){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Hn,s)}catch{}switch(s.tag){case 26:Le||Ri(s,n),Zi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Le||Ri(s,n);var o=ye,h=dn;Bs(s.type)&&(ye=s.stateNode,dn=!1),Zi(e,n,s),ll(s.stateNode),ye=o,dn=h;break;case 5:Le||Ri(s,n);case 6:if(o=ye,h=dn,ye=null,Zi(e,n,s),ye=o,dn=h,ye!==null)if(dn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(s.stateNode)}catch(f){ee(s,n,f)}else try{ye.removeChild(s.stateNode)}catch(f){ee(s,n,f)}break;case 18:ye!==null&&(dn?(e=ye,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ba(e)):n_(ye,s.stateNode));break;case 4:o=ye,h=dn,ye=s.stateNode.containerInfo,dn=!0,Zi(e,n,s),ye=o,dn=h;break;case 0:case 11:case 14:case 15:xs(2,s,n),Le||xs(4,s,n),Zi(e,n,s);break;case 1:Le||(Ri(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&iy(s,n,o)),Zi(e,n,s);break;case 21:Zi(e,n,s);break;case 22:Le=(o=Le)||s.memoizedState!==null,Zi(e,n,s),Le=o;break;default:Zi(e,n,s)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(s){ee(n,n.return,s)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(s){ee(n,n.return,s)}}function bA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new oy),n;default:throw Error(r(435,e.tag))}}function $u(e,n){var s=bA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=MA.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Bs(E.type)){ye=E.stateNode,dn=!1;break t}break;case 5:ye=E.stateNode,dn=!1;break t;case 3:case 4:ye=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(ye===null)throw Error(r(160));cy(f,g,h),ye=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var Wn=null;function dy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),o&4&&(xs(3,e,e.return),Jo(3,e),xs(5,e,e.return));break;case 1:mn(n,e),gn(e),o&512&&(Le||s===null||Ri(s,s.return)),o&64&&$i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Wn;if(mn(n,e),gn(e),o&512&&(Le||s===null||Ri(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,s),f[De]=e,Oe(f),o=f;break t;case"link":var g=d_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;case"meta":if(g=d_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[De]=e,Oe(f),o=f}e.stateNode=o}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?m_(h,e.type,e.stateNode):f_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,s.memoizedProps)}break;case 27:mn(n,e),gn(e),o&512&&(Le||s===null||Ri(s,s.return)),s!==null&&o&4&&Mf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,e),gn(e),o&512&&(Le||s===null||Ri(s,s.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(ot){ee(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Mf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Lf=!0);break;case 6:if(mn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){ee(e,e.return,ot)}}break;case 3:if(fc=null,h=Wn,Wn=cc(n.containerInfo),mn(n,e),Wn=h,gn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(ot){ee(e,e.return,ot)}Lf&&(Lf=!1,my(e));break;case 4:o=Wn,Wn=cc(e.stateNode.containerInfo),mn(n,e),gn(e),Wn=o;break;case 12:mn(n,e),gn(e);break;case 31:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ju=je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=$i,G=Le;if($i=z||h,Le=G||I,mn(n,e),Le=G,$i=z,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||$i||Le||Pr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){ee(I,I.return,ot)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){ee(I,I.return,ot)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?i_(q,!0):i_(I.stateNode,!1)}catch(ot){ee(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,$u(e,s))));break;case 19:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ry(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=xf(e);Xu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(fn(g,""),s.flags&=-33);var E=xf(e);Xu(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,z=xf(e);Uf(e,z,I);break;default:throw Error(r(161))}}catch(G){ee(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(e,n.alternate,n),n=n.sibling}function Pr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),Pr(n);break;case 1:Ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),Pr(n);break;case 27:ll(n.stateNode);case 26:case 5:Ri(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}e=e.sibling}}function Wi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,s),Jo(4,f);break;case 1:if(Wi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ee(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Fg(I[h],E)}catch(z){ee(o,o.return,z)}}s&&g&64&&ny(f),Wo(f,f.return);break;case 27:ay(f);case 26:case 5:Wi(h,f,s),s&&o===null&&g&4&&sy(f),Wo(f,f.return);break;case 12:Wi(h,f,s);break;case 31:Wi(h,f,s),s&&g&4&&hy(h,f);break;case 13:Wi(h,f,s),s&&g&4&&fy(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,s),Wo(f,f.return);break;case 30:break;default:Wi(h,f,s)}n=n.sibling}}function Pf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&zo(s))}function kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function ti(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gy(e,n,s,o),n=n.sibling}function gy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,s,o),h&2048&&Jo(9,n);break;case 1:ti(e,n,s,o);break;case 3:ti(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){ti(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ee(n,n.return,I)}}else ti(e,n,s,o);break;case 31:ti(e,n,s,o);break;case 13:ti(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ti(e,n,s,o):tl(e,n):f._visibility&2?ti(e,n,s,o):(f._visibility|=2,Da(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Pf(g,n);break;case 24:ti(e,n,s,o),h&2048&&kf(n.alternate,n);break;default:ti(e,n,s,o)}}function Da(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Da(f,g,E,I,h),Jo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Da(f,g,E,I,h):tl(f,g):(G._visibility|=2,Da(f,g,E,I,h)),h&&z&2048&&Pf(g.alternate,g);break;case 24:Da(f,g,E,I,h),h&&z&2048&&kf(g.alternate,g);break;default:Da(f,g,E,I,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:tl(s,o),h&2048&&Pf(o.alternate,o);break;case 24:tl(s,o),h&2048&&kf(o.alternate,o);break;default:tl(s,o)}n=n.sibling}}var el=8192;function Oa(e,n,s){if(e.subtreeFlags&el)for(e=e.child;e!==null;)py(e,n,s),e=e.sibling}function py(e,n,s){switch(e.tag){case 26:Oa(e,n,s),e.flags&el&&e.memoizedState!==null&&cS(s,Wn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,s);break;case 3:case 4:var o=Wn;Wn=cc(e.stateNode.containerInfo),Oa(e,n,s),Wn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Oa(e,n,s),el=o):Oa(e,n,s));break;default:Oa(e,n,s)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Fe=o,vy(o,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&xs(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):nl(e);break;default:nl(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Fe=o,vy(o,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xs(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function vy(e,n){for(;Fe!==null;){var s=Fe;switch(s.tag){case 0:case 11:case 15:xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Fe=o;else t:for(s=e;Fe!==null;){o=Fe;var h=o.sibling,f=o.return;if(uy(o),o===s){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var wA={getCacheForType:function(e){var n=$e(Me),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return $e(Me).controller.signal}},RA=typeof WeakMap=="function"?WeakMap:Map,Yt=0,le=null,Dt=null,xt=0,te=0,wn=null,Us=!1,Va=!1,zf=!1,ts=0,Ae=0,Ls=0,kr=0,jf=0,Rn=0,Ma=0,il=null,pn=null,Bf=!1,Ju=0,Ey=0,Wu=1/0,tc=null,Ps=null,Be=0,ks=null,xa=null,es=0,qf=0,Hf=null,Ty=null,sl=0,Gf=null;function In(){return(Yt&2)!==0&&xt!==0?xt&-xt:H.T!==null?$f():eu()}function Ay(){if(Rn===0)if((xt&536870912)===0||Bt){var e=hr;hr<<=1,(hr&3932160)===0&&(hr=262144),Rn=e}else Rn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),Rn}function yn(e,n,s){(e===le&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),zs(e,xt,Rn,!1)),fr(e,s),((Yt&2)===0||e!==le)&&(e===le&&((Yt&2)===0&&(kr|=s),Ae===4&&zs(e,xt,Rn,!1)),Ii(e))}function Sy(e,n,s){if((Yt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Gn(e,n),h=o?NA(e,n):Qf(e,n,!0),f=o;do{if(h===0){Va&&!o&&zs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!IA(s)){h=Qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=il;var I=E.current.memoizedState.isDehydrated;if(I&&(Ua(E,g).flags|=256),g=Qf(E,g,!1),g!==2){if(zf&&!I){E.errorRecoveryDisabledLanes|=f,kr|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),zs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:zs(o,n,Rn,!Us);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Ju+300-je(),10<h)){if(zs(o,n,Rn,!Us),ui(o,0,!0)!==0)break t;es=n,o.timeoutHandle=t_(by.bind(null,o,s,pn,tc,Bf,n,Rn,kr,Ma,Us,f,"Throttled",-0,0),h);break t}by(o,s,pn,tc,Bf,n,Rn,kr,Ma,Us,f,null,-0,0)}}break}while(!0);Ii(e)}function by(e,n,s,o,h,f,g,E,I,z,G,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},py(n,f,X);var ot=(f&62914560)===f?Ju-je():(f&4194048)===f?Ey-je():0;if(ot=hS(X,ot),ot!==null){es=f,e.cancelPendingCommit=ot(Vy.bind(null,e,n,f,s,o,h,g,E,I,G,X,null,j,q)),zs(e,f,g,!z);return}}Vy(e,n,f,s,o,h,g,E,I)}function IA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zs(e,n,s,o){n&=~jf,n&=~kr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Se(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&dr(e,s,n)}function ec(){return(Yt&6)===0?(rl(0),!1):!0}function Ff(){if(Dt!==null){if(te===0)var e=Dt.return;else e=Dt,Gi=Nr=null,of(e),wa=null,Bo=0,e=Dt;for(;e!==null;)ey(e.alternate,e),e=e.return;Dt=null}}function Ua(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,KA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),es=0,Ff(),le=e,Dt=s=qi(e.current,null),xt=n,te=0,wn=null,Us=!1,Va=Gn(e,n),zf=!1,Ma=Rn=jf=kr=Ls=Ae=0,pn=il=null,Bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Se(o),f=1<<h;n|=e[h],o&=~f}return ts=n,Au(),s}function wy(e,n){Rt=null,H.H=Xo,n===ba||n===Du?(n=Bg(),te=3):n===Yh?(n=Bg(),te=4):te=n===Sf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Dt===null&&(Ae=1,Gu(e,xn(n,e.current)))}function Ry(){var e=Sn.current;return e===null?!0:(xt&4194048)===xt?kn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===kn:!1}function Iy(){var e=H.H;return H.H=Xo,e===null?Xo:e}function Cy(){var e=H.A;return H.A=wA,e}function nc(){Ae=4,Us||(xt&4194048)!==xt&&Sn.current!==null||(Va=!0),(Ls&134217727)===0&&(kr&134217727)===0||le===null||zs(le,xt,Rn,!1)}function Qf(e,n,s){var o=Yt;Yt|=2;var h=Iy(),f=Cy();(le!==e||xt!==n)&&(tc=null,Ua(e,n)),n=!1;var g=Ae;t:do try{if(te!==0&&Dt!==null){var E=Dt,I=wn;switch(te){case 8:Ff(),g=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=te;if(te=0,wn=null,La(e,E,I,z),s&&Va){g=0;break t}break;default:z=te,te=0,wn=null,La(e,E,I,z)}}CA(),g=Ae;break}catch(G){wy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Gi=Nr=null,Yt=o,H.H=h,H.A=f,Dt===null&&(le=null,xt=0,Au()),g}function CA(){for(;Dt!==null;)Ny(Dt)}function NA(e,n){var s=Yt;Yt|=2;var o=Iy(),h=Cy();le!==e||xt!==n?(tc=null,Wu=je()+500,Ua(e,n)):Va=Gn(e,n);t:do try{if(te!==0&&Dt!==null){n=Dt;var f=wn;e:switch(te){case 1:te=0,wn=null,La(e,n,f,1);break;case 2:case 9:if(zg(f)){te=0,wn=null,Dy(n);break}n=function(){te!==2&&te!==9||le!==e||(te=7),Ii(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:zg(f)?(te=0,wn=null,Dy(n)):(te=0,wn=null,La(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?g_(g):E.stateNode.complete){te=0,wn=null;var I=E.sibling;if(I!==null)Dt=I;else{var z=E.return;z!==null?(Dt=z,ic(z)):Dt=null}break e}}te=0,wn=null,La(e,n,f,5);break;case 6:te=0,wn=null,La(e,n,f,6);break;case 8:Ff(),Ae=6;break t;default:throw Error(r(462))}}DA();break}catch(G){wy(e,G)}while(!0);return Gi=Nr=null,H.H=o,H.A=h,Yt=s,Dt!==null?0:(le=null,xt=0,Au(),Ae)}function DA(){for(;Dt!==null&&!ce();)Ny(Dt)}function Ny(e){var n=Wp(e.alternate,e,ts);e.memoizedProps=e.pendingProps,n===null?ic(e):Dt=n}function Dy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Kp(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Kp(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:of(n);default:ey(s,n),n=Dt=Cg(n,ts),n=Wp(s,n,ts)}e.memoizedProps=e.pendingProps,n===null?ic(e):Dt=n}function La(e,n,s,o){Gi=Nr=null,of(n),wa=null,Bo=0;var h=n.return;try{if(_A(e,h,n,s,xt)){Ae=1,Gu(e,xn(s,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;Ae=1,Gu(e,xn(s,e.current)),Dt=null;return}n.flags&32768?(Bt||o===1?e=!0:Va||(xt&536870912)!==0?e=!1:(Us=e=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Oy(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,Us);return}e=n.return;var s=TA(n.alternate,n,ts);if(s!==null){Dt=s;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);Ae===0&&(Ae=5)}function Oy(e,n){do{var s=AA(e.alternate,e);if(s!==null){s.flags&=32767,Dt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=s}while(e!==null);Ae=6,Dt=null}function Vy(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do sc();while(Be!==0);if((Yt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Mh,bh(e,s,f,g,E,I),e===le&&(Dt=le=null,xt=0),xa=n,ks=e,es=s,qf=f,Hf=h,Ty=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xA(gs,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,g=Yt,Yt|=4;try{SA(e,n,s)}finally{Yt=g,et.p=h,H.T=o}}Be=1,My(),xy(),Uy()}}function My(){if(Be===1){Be=0;var e=ks,n=xa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=et.p;et.p=2;var h=Yt;Yt|=4;try{dy(n,e);var f=sd,g=vg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&_g(E.ownerDocument.documentElement,E)){if(I!==null&&Ch(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,dt=Math.min(I.start,ot),re=I.end===void 0?dt:Math.min(I.end,ot);!q.extend&&dt>re&&(g=re,re=dt,dt=g);var U=yg(E,dt),N=yg(E,re);if(U&&N&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var k=X.createRange();k.setStart(U.node,U.offset),q.removeAllRanges(),dt>re?(q.addRange(k),q.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),q.addRange(k))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}pc=!!id,sd=id=null}finally{Yt=h,et.p=o,H.T=s}}e.current=n,Be=2}}function xy(){if(Be===2){Be=0;var e=ks,n=xa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=et.p;et.p=2;var h=Yt;Yt|=4;try{ly(e,n.alternate,n)}finally{Yt=h,et.p=o,H.T=s}}Be=3}}function Uy(){if(Be===4||Be===3){Be=0,ta();var e=ks,n=xa,s=es,o=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,xa=ks=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ps=null),ki(s),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Hn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=h}}(es&3)!==0&&sc(),Ii(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Gf?sl++:(sl=0,Gf=e):sl=0,rl(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function sc(){return My(),xy(),Uy(),Py()}function Py(){if(Be!==5)return!1;var e=ks,n=qf;qf=0;var s=ki(es),o=H.T,h=et.p;try{et.p=32>s?32:s,H.T=null,s=Hf,Hf=null;var f=ks,g=es;if(Be=0,xa=ks=null,es=0,(Yt&6)!==0)throw Error(r(331));var E=Yt;if(Yt|=4,_y(f.current),gy(f,f.current,g,s),Yt=E,rl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Hn,f)}catch{}return!0}finally{et.p=h,H.T=o,Ly(e,n)}}function ky(e,n,s){n=xn(s,n),n=Af(e.stateNode,n,2),e=Os(e,n,2),e!==null&&(fr(e,2),Ii(e))}function ee(e,n,s){if(e.tag===3)ky(e,e,s);else for(;n!==null;){if(n.tag===3){ky(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ps===null||!Ps.has(o))){e=xn(s,e),s=zp(2),o=Os(n,s,2),o!==null&&(jp(s,o,n,e),fr(o,2),Ii(o));break}}n=n.return}}function Kf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new RA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(zf=!0,h.add(s),e=OA.bind(null,e,n,s),n.then(e,e))}function OA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(xt&s)===s&&(Ae===4||Ae===3&&(xt&62914560)===xt&&300>je()-Ju?(Yt&2)===0&&Ua(e,0):jf|=s,Ma===xt&&(Ma=0)),Ii(e)}function zy(e,n){n===0&&(n=tu()),e=Rr(e,n),e!==null&&(fr(e,n),Ii(e))}function VA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function MA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),zy(e,s)}function xA(e,n){return oe(e,n)}var rc=null,Pa=null,Yf=!1,ac=!1,Xf=!1,js=0;function Ii(e){e!==Pa&&e.next===null&&(Pa===null?rc=Pa=e:Pa=Pa.next=e),ac=!0,Yf||(Yf=!0,LA())}function rl(e,n){if(!Xf&&ac){Xf=!0;do for(var s=!1,o=rc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Se(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(o,f))}else f=xt,f=ui(o,o===le?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gn(o,f)||(s=!0,Hy(o,f));o=o.next}while(s);Xf=!1}}function UA(){jy()}function jy(){ac=Yf=!1;var e=0;js!==0&&QA()&&(e=js);for(var n=je(),s=null,o=rc;o!==null;){var h=o.next,f=By(o,n);f===0?(o.next=null,s===null?rc=h:s.next=h,h===null&&(Pa=s)):(s=o,(e!==0||(f&3)!==0)&&(ac=!0)),o=h}Be!==0&&Be!==5||rl(e),js!==0&&(js=0)}function By(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Se(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Sh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=le,s=xt,s=ui(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&$t(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Gn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&$t(o),ki(s)){case 2:case 8:s=go;break;case 32:s=gs;break;case 268435456:s=Xl;break;default:s=gs}return o=qy.bind(null,e),s=oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&$t(o),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(sc()&&e.callbackNode!==s)return null;var o=xt;return o=ui(e,e===le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Sy(e,o,n),By(e,je()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Hy(e,n){if(sc())return null;Sy(e,n,!0)}function LA(){YA(function(){(Yt&6)!==0?oe(ms,UA):jy()})}function $f(){if(js===0){var e=Aa;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),js=e}return js}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function PA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Gy((h[He]||null).action),g=o.submitter;g&&(n=(n=g[He]||null)?Gy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ei("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(js!==0){var I=g?Fy(h,g):new FormData(h);pf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Fy(h,g):new FormData(h),pf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Zf=0;Zf<Vh.length;Zf++){var Jf=Vh[Zf],kA=Jf.toLowerCase(),zA=Jf[0].toUpperCase()+Jf.slice(1);Jn(kA,"on"+zA)}Jn(Ag,"onAnimationEnd"),Jn(Sg,"onAnimationIteration"),Jn(bg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(eA,"onTransitionRun"),Jn(nA,"onTransitionStart"),Jn(iA,"onTransitionCancel"),Jn(wg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Tu(G)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Tu(G)}h.currentTarget=null,f=I}}}}function Ot(e,n){var s=n[na];s===void 0&&(s=n[na]=new Set);var o=e+"__bubble";s.has(o)||(Ky(n,e,2,!1),s.add(o))}function Wf(e,n,s){var o=0;n&&(o|=4),Ky(s,e,o,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[oc]){e[oc]=!0,_o.forEach(function(s){s!=="selectionchange"&&(jA.has(s)||Wf(s,!1,e),Wf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,Wf("selectionchange",!1,n))}}function Ky(e,n,s,o){switch(A_(n)){case 2:var h=mS;break;case 8:h=gS;break;default:h=gd}s=h.bind(null,n,s,e),h=void 0,!_r||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ed(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=di(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ts(function(){var z=f,G=Dn(s),X=[];t:{var j=Rg.get(e);if(j!==void 0){var q=Ei,ot=e;switch(e){case"keypress":if(Er(s)===0)break t;case"keydown":case"keyup":q=_u;break;case"focusin":ot="focus",q=Ar;break;case"focusout":ot="blur",q=Ar;break;case"beforeblur":case"afterblur":q=Ar;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ag:case Sg:case bg:q=hu;break;case wg:q=T;break;case"scroll":case"scrollend":q=Do;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bi;break;case"toggle":case"beforetoggle":q=wt}var dt=(n&4)!==0,re=!dt&&(e==="scroll"||e==="scrollend"),U=dt?j!==null?j+"Capture":null:j;dt=[];for(var N=z,k;N!==null;){var K=N;if(k=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||k===null||U===null||(K=Yn(N,U),K!=null&&dt.push(ol(N,K,k))),re)break;N=N.return}0<dt.length&&(j=new q(j,ot,null,s,G),X.push({event:j,listeners:dt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Io&&(ot=s.relatedTarget||s.fromElement)&&(di(ot)||ot[hi]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=z,ot=ot?di(ot):null,ot!==null&&(re=c(ot),dt=ot.tag,ot!==re||dt!==5&&dt!==27&&dt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(dt=Oo,K="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Bi,K="onPointerLeave",U="onPointerEnter",N="pointer"),re=q==null?j:vn(q),k=ot==null?j:vn(ot),j=new dt(K,N+"leave",q,s,G),j.target=re,j.relatedTarget=k,K=null,di(G)===z&&(dt=new dt(U,N+"enter",ot,s,G),dt.target=k,dt.relatedTarget=re,K=dt),re=K,q&&ot)e:{for(dt=BA,U=q,N=ot,k=0,K=U;K;K=dt(K))k++;K=0;for(var ht=N;ht;ht=dt(ht))K++;for(;0<k-K;)U=dt(U),k--;for(;0<K-k;)N=dt(N),K--;for(;k--;){if(U===N||N!==null&&U===N.alternate){dt=U;break e}U=dt(U),N=dt(N)}dt=null}else dt=null;q!==null&&Yy(X,j,q,dt,!1),ot!==null&&re!==null&&Yy(X,re,ot,dt,!0)}}t:{if(j=z?vn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Gt=hg;else if(ug(j))if(fg)Gt=J0;else{Gt=$0;var lt=X0}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&aa(z.elementType)&&(Gt=hg):Gt=Z0;if(Gt&&(Gt=Gt(e,z))){cg(X,Gt,s,G);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&bo(j,"number",j.value)}switch(lt=z?vn(z):window,e){case"focusin":(ug(lt)||lt.contentEditable==="true")&&(ma=lt,Nh=z,Lo=null);break;case"focusout":Lo=Nh=ma=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,Eg(X,s,G);break;case"selectionchange":if(tA)break;case"keydown":case"keyup":Eg(X,s,G)}var It;if(Kt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else da?Sr(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Si&&s.locale!=="ko"&&(da||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&da&&(It=No()):(vi=G,Co="value"in vi?vi.value:vi.textContent,da=!0)),lt=lc(z,Ut),0<lt.length&&(Ut=new Ai(Ut,e,null,s,G),X.push({event:Ut,listeners:lt}),It?Ut.data=It:(It=fa(s),It!==null&&(Ut.data=It)))),(It=Vn?F0(e,s):Q0(e,s))&&(Ut=lc(z,"onBeforeInput"),0<Ut.length&&(lt=new Ai("onBeforeInput","beforeinput",null,s,G),X.push({event:lt,listeners:Ut}),lt.data=It)),PA(X,e,z,s,G)}Qy(X,n)})}function ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function lc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yn(e,s),h!=null&&o.unshift(ol(e,h,f)),h=Yn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function BA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Yn(s,f),z!=null&&g.unshift(ol(s,z,I))):h||(z=Yn(s,f),z!=null&&g.push(ol(s,z,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var qA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(qA,`
`).replace(HA,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function se(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(e,""+o);break;case"className":En(e,"class",o);break;case"tabIndex":En(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,s,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){En(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":Ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=lu.get(s)||s,sa(e,s,o))}}function nd(e,n,s,o,h,f){switch(s){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?fn(e,o):(typeof o=="number"||typeof o=="bigint")&&fn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[He]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):sa(e,s,o)}}}function Je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:se(e,n,f,g,s,null)}}h&&se(e,n,"srcSet",s.srcSet,s,null),o&&se(e,n,"src",s.src,s,null);return;case"input":Ot("invalid",e);var E=f=g=h=null,I=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:se(e,n,o,G,s,null)}}ru(e,f,E,I,z,g,h,!1);return;case"select":Ot("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:se(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?ys(e,!!o,n,!1):s!=null&&ys(e,!!o,s,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:se(e,n,g,E,s,null)}_s(e,o,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":se(e,n,I,o,s,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Ot(al[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:se(e,n,z,o,s,null)}return;default:if(aa(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&nd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&se(e,n,E,o,s,null))}function GA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,G=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(q)||se(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=s[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==X&&se(e,n,j,q,o,X)}}ra(e,g,E,I,z,G,f,h);return;case"select":q=g=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||se(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&se(e,n,h,f,o,I)}n=E,s=g,o=q,j!=null?ys(e,!!s,j,!1):!!o!=!!s&&(n!=null?ys(e,!!s,n,!0):ys(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:se(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&se(e,n,g,h,o,f)}au(e,j,q);return;case"option":for(var ot in s)j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:se(e,n,ot,null,o,j));for(I in o)j=o[I],q=s[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":se(e,n,I,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)j=s[dt],s.hasOwnProperty(dt)&&j!=null&&!o.hasOwnProperty(dt)&&se(e,n,dt,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:se(e,n,z,j,o,q)}return;default:if(aa(n)){for(var re in s)j=s[re],s.hasOwnProperty(re)&&j!==void 0&&!o.hasOwnProperty(re)&&nd(e,n,re,void 0,o,j);for(G in o)j=o[G],q=s[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||nd(e,n,G,j,o,q);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&se(e,n,U,null,o,j);for(X in o)j=o[X],q=s[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||se(e,n,X,j,o,q)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Zy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],z=I.startTime;if(z>E)break;var G=I.transferSize,X=I.initiatorType;G&&Zy(X)&&(I=I.responseEnd,g+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var id=null,sd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function QA(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(XA)}:t_;function XA(e){setTimeout(function(){throw e})}function Bs(e){return e==="head"}function n_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ll(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ll(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ll(e.ownerDocument.body);s=h}while(s);Ba(n)}function i_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":od(s),ia(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function $A(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[fi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function ZA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function JA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var cd=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return zn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function o_(e,n,s){switch(n=uc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var jn=new Map,l_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ns=et.d;et.d={f:WA,r:tS,D:eS,C:nS,L:iS,m:sS,X:aS,S:rS,M:oS};function WA(){var e=ns.f(),n=ec();return e||n}function tS(e){var n=Nn(e);n!==null&&n.tag===5&&n.type==="form"?wp(n):ns.r(e)}var ka=typeof document>"u"?null:document;function u_(e,n,s){var o=ka;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),l_.has(h)||(l_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Oe(n),o.head.appendChild(n)))}}function eS(e){ns.D(e),u_("dns-prefetch",e,null)}function nS(e,n){ns.C(e,n),u_("preconnect",e,n)}function iS(e,n,s){ns.L(e,n,s);var o=ka;if(o&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+hn(s.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=ja(e)}jn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),jn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Je(n,"link",e),Oe(n),o.head.appendChild(n)))}}function sS(e,n){ns.m(e,n);var s=ka;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!jn.has(f)&&(e=S({rel:"modulepreload",href:e},n),jn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(f)))return}o=s.createElement("link"),Je(o,"link",e),Oe(o),s.head.appendChild(o)}}}function rS(e,n,s){ns.S(e,n,s);var o=ka;if(o&&e){var h=mi(o).hoistableStyles,f=za(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ul(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=jn.get(f))&&hd(e,s);var I=g=o.createElement("link");Oe(I),Je(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function aS(e,n){ns.X(e,n);var s=ka;if(s&&e){var o=mi(s).hoistableScripts,h=ja(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=S({src:e,async:!0},n),(n=jn.get(h))&&fd(e,n),f=s.createElement("script"),Oe(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function oS(e,n){ns.M(e,n);var s=ka;if(s&&e){var o=mi(s).hoistableScripts,h=ja(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&fd(e,n),f=s.createElement("script"),Oe(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function c_(e,n,s,o){var h=(h=St.current)?cc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=za(s.href),s=mi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=za(s.href);var f=mi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ul(e)))&&!f._p&&(g.instance=f,g.state.loading=5),jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(e,s),f||lS(h,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(s),s=mi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function za(e){return'href="'+hn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function lS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",s),Oe(n),e.head.appendChild(n))}function ja(e){return'[src="'+hn(e)+'"]'}function cl(e){return"script[async]"+e}function f_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(s.href)+'"]');if(o)return n.instance=o,Oe(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Oe(o),Je(o,"style",h),hc(o,s.precedence,e),n.instance=o;case"stylesheet":h=za(s.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,Oe(f),f;o=h_(s),(h=jn.get(h))&&hd(o,h),f=(e.ownerDocument||e).createElement("link"),Oe(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Je(f,"link",o),n.state.loading|=4,hc(f,s.precedence,e),n.instance=f;case"script":return f=ja(s.src),(h=e.querySelector(cl(f)))?(n.instance=h,Oe(h),h):(o=s,(h=jn.get(f))&&(o=S({},s),fd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Oe(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hc(o,s.precedence,e));return n.instance}function hc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function d_(e,n,s){if(fc===null){var o=new Map,h=fc=new Map;h.set(s,o)}else h=fc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[fi]||f[De]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function uS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=za(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Oe(f);return}f=n.ownerDocument||n,o=h_(o),(h=jn.get(h))&&hd(o,h),f=f.createElement("link"),Oe(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Je(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=dc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var dd=0;function hS(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&dd===0&&(dd=62500*FA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>dd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(fS,e),mc=null,dc.call(e))}function fS(e,n){if(!(n.state.loading&4)){var s=mc.get(e);if(s)var o=s.get(null);else{s=new Map,mc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function dS(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function p_(e,n,s,o,h,f,g,E,I,z,G,X){return e=new dS(e,n,s,g,I,z,G,X,E),n=1,f===!0&&(n|=24),f=An(3,null,null,n),e.current=f,f.stateNode=e,n=Fh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Xh(f),e}function y_(e){return e?(e=ya,e):ya}function __(e,n,s,o,h,f){h=y_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ds(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Os(e,o,n),s!==null&&(yn(s,e,n),Ho(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function md(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=Rr(e,67108864);n!==null&&yn(n,e,67108864),md(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=In();n=mr(n);var s=Rr(e,n);s!==null&&yn(s,e,n),md(e,n)}}var pc=!0;function mS(e,n,s,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,gd(e,n,s,o)}finally{et.p=f,H.T=h}}function gS(e,n,s,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,gd(e,n,s,o)}finally{et.p=f,H.T=h}}function gd(e,n,s,o){if(pc){var h=pd(o);if(h===null)ed(e,n,o,yc,s),S_(e,o);else if(yS(h,e,n,s,o))o.stopPropagation();else if(S_(e,o),n&4&&-1<pS.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=li(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-Se(g);E.entanglements[1]|=I,g&=~I}Ii(f),(Yt&6)===0&&(Wu=je()+500,rl(0))}}break;case 31:case 13:E=Rr(f,2),E!==null&&yn(E,f,2),ec(),md(f,2)}if(f=pd(o),f===null&&ed(e,n,o,yc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ed(e,n,o,null,s)}}function pd(e){return e=Dn(e),yd(e)}var yc=null;function yd(e){if(yc=null,e=di(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function A_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case ms:return 2;case go:return 8;case gs:case Ah:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var _d=!1,qs=null,Hs=null,Gs=null,fl=new Map,dl=new Map,Fs=[],pS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function yS(e,n,s,o,h){switch(n){case"focusin":return qs=ml(qs,e,n,s,o,h),!0;case"dragenter":return Hs=ml(Hs,e,n,s,o,h),!0;case"mouseover":return Gs=ml(Gs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,s,o,h)),!0}return!1}function b_(e){var n=di(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){T_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=pd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Io=o,s.target.dispatchEvent(o),Io=null}else return n=Nn(s),n!==null&&E_(n),e.blockedOn=s,!1;n.shift()}return!0}function w_(e,n,s){_c(e)&&s.delete(n)}function _S(){_d=!1,qs!==null&&_c(qs)&&(qs=null),Hs!==null&&_c(Hs)&&(Hs=null),Gs!==null&&_c(Gs)&&(Gs=null),fl.forEach(w_),dl.forEach(w_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,_S)))}var Ec=null;function R_(e){Ec!==e&&(Ec=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(yd(o||s)===null)continue;break}var f=Nn(s);f!==null&&(e.splice(n,3),n-=3,pf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ba(e){function n(I){return vc(I,e)}qs!==null&&vc(qs,e),Hs!==null&&vc(Hs,e),Gs!==null&&vc(Gs,e),fl.forEach(n),dl.forEach(n);for(var s=0;s<Fs.length;s++){var o=Fs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Fs.length&&(s=Fs[0],s.blockedOn===null);)b_(s),s.blockedOn===null&&Fs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[He]||null;if(typeof f=="function")g||R_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[He]||null)E=g.formAction;else if(yd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),R_(s)}}}function I_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function vd(e){this._internalRoot=e}Tc.prototype.render=vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=In();__(s,o,e,n,null,null)},Tc.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),ec(),n[hi]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=eu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Fs.length&&n!==0&&n<Fs[s].priority;s++);Fs.splice(s,0,e),s===0&&b_(e)}};var C_=t.version;if(C_!=="19.2.3")throw Error(r(527,C_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var vS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Hn=Ac.inject(vS),Ke=Ac}catch{}}return pl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",h=Up,f=Lp,g=Pp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=p_(e,1,!1,null,null,s,o,null,h,f,g,I_),e[hi]=n.current,td(e),new vd(n)},pl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,h="",f=Up,g=Lp,E=Pp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=p_(e,1,!0,n,s??null,o,h,I,f,g,E,I_),n.context=y_(null),s=n.current,o=In(),o=mr(o),h=Ds(o),h.callback=null,Os(s,h,o),s=o,n.current.lanes=s,fr(n,s),Ii(n),e[hi]=n.current,td(e),new Tc(n)},pl.version="19.2.3",pl}var k_;function NS(){if(k_)return Ad.exports;k_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ad.exports=CS(),Ad.exports}var DS=NS();const OS=()=>{};var z_={};const yE=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},VS=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},_E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,_=l+2<a.length,y=_?a[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(x=64)),r.push(i[A],i[S],i[x],i[Q])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(yE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):VS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const S=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new MS;const x=c<<2|p>>4;if(r.push(x),y!==64){const Q=p<<4&240|y>>2;if(r.push(Q),S!==64){const J=y<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class MS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(a){const t=yE(a);return _E.encodeByteArray(t,!0)},zc=function(a){return xS(a).replace(/\./g,"")},vE=function(a){try{return _E.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function US(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LS=()=>US().__FIREBASE_DEFAULTS__,PS=()=>{if(typeof process>"u"||typeof z_>"u")return;const a=z_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},kS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&vE(a[1]);return t&&JSON.parse(t)},ih=()=>{try{return OS()||LS()||PS()||kS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},EE=a=>ih()?.emulatorHosts?.[a],zS=a=>{const t=EE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},TE=()=>ih()?.config,AE=a=>ih()?.[`_${a}`];class jS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function ao(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SE(a){return(await fetch(a,{credentials:"include"})).ok}function BS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[zc(JSON.stringify(i)),zc(JSON.stringify(d)),""].join(".")}const Al={};function qS(){const a={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?a.emulator.push(t):a.prod.push(t);return a}function HS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let j_=!1;function bE(a,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Al[a]===t||Al[a]||j_)return;Al[a]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=qS().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,Q){x.setAttribute("width","24"),x.setAttribute("id",Q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{j_=!0,d()},x}function A(x,Q){x.setAttribute("id",Q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=HS(r),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),it=i("learnmore"),W=document.getElementById(it)||document.createElement("a"),ct=i("preprendIcon"),Et=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const gt=x.element;p(gt),A(W,it);const Xt=y();_(Et,ct),gt.append(Et,J,W,Xt),document.body.appendChild(gt)}c?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function FS(){const a=ih()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function YS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XS(){const a=on();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function $S(){return!FS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZS(){try{return typeof indexedDB=="object"}catch{return!1}}function JS(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const WS="FirebaseError";class hs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=WS,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?t1(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new hs(l,p,r)}}function t1(a,t){return a.replace(e1,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const e1=/\{\$([^}]+)}/g;function n1(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Fr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=t[l];if(B_(c)&&B_(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function B_(a){return a!==null&&typeof a=="object"}function jl(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function i1(a,t){const i=new s1(a,t);return i.subscribe.bind(i)}class s1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");r1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r1(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Rd(){}function cn(a){return a&&a._delegate?a._delegate:a}class Qr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const jr="[DEFAULT]";class a1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new jS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(l1(t))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=jr){return this.instances.has(t)}getOptions(t=jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=jr){return this.component?this.component.multipleInstances?t:jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(a){return a===jr?void 0:a}function l1(a){return a.instantiationMode==="EAGER"}class u1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new a1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const c1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},h1=Lt.INFO,f1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},d1=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=f1[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=h1,this._logHandler=d1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?c1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const m1=(a,t)=>t.some(i=>a instanceof i);let q_,H_;function g1(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,jd=new WeakMap,RE=new WeakMap,Id=new WeakMap,dm=new WeakMap;function y1(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Js(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&wE.set(i,a)}).catch(()=>{}),dm.set(t,a),t}function _1(a){if(jd.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});jd.set(a,t)}let Bd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return jd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||RE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function v1(a){Bd=a(Bd)}function E1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Cd(this),t,...i);return RE.set(r,t.sort?t.sort():[t]),Js(r)}:p1().includes(a)?function(...t){return a.apply(Cd(this),t),Js(wE.get(this))}:function(...t){return Js(a.apply(Cd(this),t))}}function T1(a){return typeof a=="function"?E1(a):(a instanceof IDBTransaction&&_1(a),m1(a,g1())?new Proxy(a,Bd):a)}function Js(a){if(a instanceof IDBRequest)return y1(a);if(Id.has(a))return Id.get(a);const t=T1(a);return t!==a&&(Id.set(a,t),dm.set(t,a)),t}const Cd=a=>dm.get(a);function A1(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=Js(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Js(d.result),_.oldVersion,_.newVersion,Js(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const S1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],Nd=new Map;function G_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Nd.get(t))return Nd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=b1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||S1.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Nd.set(t,c),c}v1(a=>({...a,get:(t,i,r)=>G_(t,i)||a.get(t,i,r),has:(t,i)=>!!G_(t,i)||a.has(t,i)}));class w1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(R1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function R1(a){return a.getComponent()?.type==="VERSION"}const qd="@firebase/app",F_="0.14.6";const os=new fm("@firebase/app"),I1="@firebase/app-compat",C1="@firebase/analytics-compat",N1="@firebase/analytics",D1="@firebase/app-check-compat",O1="@firebase/app-check",V1="@firebase/auth",M1="@firebase/auth-compat",x1="@firebase/database",U1="@firebase/data-connect",L1="@firebase/database-compat",P1="@firebase/functions",k1="@firebase/functions-compat",z1="@firebase/installations",j1="@firebase/installations-compat",B1="@firebase/messaging",q1="@firebase/messaging-compat",H1="@firebase/performance",G1="@firebase/performance-compat",F1="@firebase/remote-config",Q1="@firebase/remote-config-compat",K1="@firebase/storage",Y1="@firebase/storage-compat",X1="@firebase/firestore",$1="@firebase/ai",Z1="@firebase/firestore-compat",J1="firebase",W1="12.6.0";const Hd="[DEFAULT]",tb={[qd]:"fire-core",[I1]:"fire-core-compat",[N1]:"fire-analytics",[C1]:"fire-analytics-compat",[O1]:"fire-app-check",[D1]:"fire-app-check-compat",[V1]:"fire-auth",[M1]:"fire-auth-compat",[x1]:"fire-rtdb",[U1]:"fire-data-connect",[L1]:"fire-rtdb-compat",[P1]:"fire-fn",[k1]:"fire-fn-compat",[z1]:"fire-iid",[j1]:"fire-iid-compat",[B1]:"fire-fcm",[q1]:"fire-fcm-compat",[H1]:"fire-perf",[G1]:"fire-perf-compat",[F1]:"fire-rc",[Q1]:"fire-rc-compat",[K1]:"fire-gcs",[Y1]:"fire-gcs-compat",[X1]:"fire-fst",[Z1]:"fire-fst-compat",[$1]:"fire-vertex","fire-js":"fire-js",[J1]:"fire-js-all"};const jc=new Map,eb=new Map,Gd=new Map;function Q_(a,t){try{a.container.addComponent(t)}catch(i){os.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Za(a){const t=a.name;if(Gd.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;Gd.set(t,a);for(const i of jc.values())Q_(i,a);for(const i of eb.values())Q_(i,a);return!0}function mm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function ei(a){return a==null?!1:a.settings!==void 0}const nb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new zl("app","Firebase",nb);class ib{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const oo=W1;function IE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Hd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ws.create("bad-app-name",{appName:String(l)});if(i||(i=TE()),!i)throw Ws.create("no-options");const c=jc.get(l);if(c){if(Fr(i,c.options)&&Fr(r,c.config))return c;throw Ws.create("duplicate-app",{appName:l})}const d=new u1(l);for(const _ of Gd.values())d.addComponent(_);const p=new ib(i,r,d);return jc.set(l,p),p}function CE(a=Hd){const t=jc.get(a);if(!t&&a===Hd&&TE())return IE();if(!t)throw Ws.create("no-app",{appName:a});return t}function tr(a,t,i){let r=tb[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}Za(new Qr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const sb="firebase-heartbeat-database",rb=1,Cl="firebase-heartbeat-store";let Dd=null;function NE(){return Dd||(Dd=A1(sb,rb,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ws.create("idb-open",{originalErrorMessage:a.message})})),Dd}async function ab(a){try{const i=(await NE()).transaction(Cl),r=await i.objectStore(Cl).get(DE(a));return await i.done,r}catch(t){if(t instanceof hs)os.warn(t.message);else{const i=Ws.create("idb-get",{originalErrorMessage:t?.message});os.warn(i.message)}}}async function K_(a,t){try{const r=(await NE()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(t,DE(a)),await r.done}catch(i){if(i instanceof hs)os.warn(i.message);else{const r=Ws.create("idb-set",{originalErrorMessage:i?.message});os.warn(r.message)}}}function DE(a){return`${a.name}!${a.options.appId}`}const ob=1024,lb=30;class ub{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>lb){const l=fb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Y_(),{heartbeatsToSend:i,unsentEntries:r}=cb(this._heartbeatsCache.heartbeats),l=zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return os.warn(t),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function cb(a,t=ob){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),X_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),X_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class hb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZS()?JS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ab(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function X_(a){return zc(JSON.stringify({version:2,heartbeats:a})).length}function fb(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function db(a){Za(new Qr("platform-logger",t=>new w1(t),"PRIVATE")),Za(new Qr("heartbeat",t=>new ub(t),"PRIVATE")),tr(qd,F_,a),tr(qd,F_,"esm2020"),tr("fire-js","")}db("");var mb="firebase",gb="12.7.0";tr(mb,gb,"app");function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pb=OE,VE=new zl("auth","Firebase",OE());const Bc=new fm("@firebase/auth");function yb(a,...t){Bc.logLevel<=Lt.WARN&&Bc.warn(`Auth (${oo}): ${a}`,...t)}function Nc(a,...t){Bc.logLevel<=Lt.ERROR&&Bc.error(`Auth (${oo}): ${a}`,...t)}function Ui(a,...t){throw pm(a,...t)}function si(a,...t){return pm(a,...t)}function gm(a,t,i){const r={...pb(),[t]:i};return new zl("auth","Firebase",r).create(t,{appName:a.name})}function Hr(a){return gm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _b(a,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ui(a,"argument-error"),gm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return VE.create(a,...t)}function _t(a,t,...i){if(!a)throw pm(t,...i)}function ss(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Nc(t),new Error(t)}function ls(a,t){a||ss(t)}function Fd(){return typeof self<"u"&&self.location?.href||""}function vb(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}function Eb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vb()||KS()||"connection"in navigator)?navigator.onLine:!0}function Tb(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Bl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ls(i>t,"Short delay should be less than long delay!"),this.isMobile=GS()||YS()}get(){return Eb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ym(a,t){ls(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class ME{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ab={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Sb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bb=new Bl(3e4,6e4);function _m(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function lo(a,t,i,r,l={}){return xE(a,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=jl({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const y={method:t,headers:_,...c};return QS()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&ao(a.emulatorConfig.host)&&(y.credentials="include"),ME.fetch()(await UE(a,a.config.apiHost,i,p),y)})}async function xE(a,t,i){a._canInitEmulator=!1;const r={...Ab,...t};try{const l=new Rb(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Sc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw Sc(a,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw gm(a,A,y);Ui(a,A)}}catch(l){if(l instanceof hs)throw l;Ui(a,"network-request-failed",{message:String(l)})}}async function wb(a,t,i,r,l={}){const c=await lo(a,t,i,r,l);return"mfaPendingCredential"in c&&Ui(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function UE(a,t,i,r){const l=`${t}${i}?${r}`,c=a,d=c.config.emulator?ym(a.config,l):`${a.config.apiScheme}://${l}`;return Sb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Rb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),bb.get())})}}function Sc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=si(a,t,r);return l.customData._tokenResponse=i,l}async function Ib(a,t){return lo(a,"POST","/v1/accounts:delete",t)}async function qc(a,t){return lo(a,"POST","/v1/accounts:lookup",t)}function Sl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Cb(a,t=!1){const i=cn(a),r=await i.getIdToken(t),l=vm(r);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Sl(Od(l.auth_time)),issuedAtTime:Sl(Od(l.iat)),expirationTime:Sl(Od(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Od(a){return Number(a)*1e3}function vm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=vE(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Z_(a){const t=vm(a);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof hs&&Nb(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function Nb({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class Db{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hc(a){const t=a.auth,i=await a.getIdToken(),r=await Nl(a,qc(t,{idToken:i}));_t(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?LE(l.providerUserInfo):[],d=Vb(a.providerData,c),p=a.isAnonymous,_=!(a.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Qd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,A)}async function Ob(a){const t=cn(a);await Hc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Vb(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function LE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Mb(a,t){const i=await xE(a,{},async()=>{const r=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await UE(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return a.emulatorConfig&&ao(a.emulatorConfig.host)&&(_.credentials="include"),ME.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function xb(a,t){return lo(a,"POST","/v2/accounts:revokeToken",_m(a,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=Z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Mb(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Qa;return r&&(_t(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Ks(a,t){_t(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Qd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Cb(this,t)}reload(){return Ob(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Hc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Hr(this.auth));const t=await this.getIdToken();return await Nl(this,Ib(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:Q,providerData:J,stsTokenManager:it}=i;_t(S&&it,t,"internal-error");const W=Qa.fromJSON(this.name,it);_t(typeof S=="string",t,"internal-error"),Ks(r,t.name),Ks(l,t.name),_t(typeof x=="boolean",t,"internal-error"),_t(typeof Q=="boolean",t,"internal-error"),Ks(c,t.name),Ks(d,t.name),Ks(p,t.name),Ks(_,t.name),Ks(y,t.name),Ks(A,t.name);const ct=new ni({uid:S,auth:t,email:l,emailVerified:x,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:A});return J&&Array.isArray(J)&&(ct.providerData=J.map(Et=>({...Et}))),_&&(ct._redirectEventId=_),ct}static async _fromIdTokenResponse(t,i,r=!1){const l=new Qa;l.updateFromServerResponse(i);const c=new ni({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Hc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?LE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Qa;p.updateFromIdToken(r);const _=new ni({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const J_=new Map;function rs(a){ls(a instanceof Function,"Expected a class definition");let t=J_.get(a);return t?(ls(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,J_.set(a,t),t)}class PE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}PE.type="NONE";const W_=PE;function Dc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ka{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Dc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Dc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await qc(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ka(rs(W_),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||rs(W_);const d=Dc(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const x=await qc(t,{idToken:A}).catch(()=>{});if(!x)break;S=await ni._fromGetAccountInfoResponse(t,x,A)}else S=ni._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ka(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ka(c,t,r))}}function tv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HE(t))return"Blackberry";if(GE(t))return"Webos";if(zE(t))return"Safari";if((t.includes("chrome/")||jE(t))&&!t.includes("edge/"))return"Chrome";if(qE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function kE(a=on()){return/firefox\//i.test(a)}function zE(a=on()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jE(a=on()){return/crios\//i.test(a)}function BE(a=on()){return/iemobile/i.test(a)}function qE(a=on()){return/android/i.test(a)}function HE(a=on()){return/blackberry/i.test(a)}function GE(a=on()){return/webos/i.test(a)}function Em(a=on()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Ub(a=on()){return Em(a)&&!!window.navigator?.standalone}function Lb(){return XS()&&document.documentMode===10}function FE(a=on()){return Em(a)||qE(a)||GE(a)||HE(a)||/windows phone/i.test(a)||BE(a)}function QE(a,t=[]){let i;switch(a){case"Browser":i=tv(on());break;case"Worker":i=`${tv(on())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${oo}/${r}`}class Pb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function kb(a,t={}){return lo(a,"GET","/v2/passwordPolicy",_m(a,t))}const zb=6;class jb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??zb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Bb{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new Pb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await qc(this,{idToken:t}),r=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Hc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Tb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(Hr(this));const i=t?cn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await kb(this),i=new jb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await xb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rs(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&yb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function sh(a){return cn(a)}class ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=i1(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qb(a){Tm=a}function Hb(a){return Tm.loadJS(a)}function Gb(){return Tm.gapiScript}function Fb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function Qb(a,t){const i=mm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Fr(c,t??{}))return l;Ui(l,"already-initialized")}return i.initialize({options:t})}function Kb(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(rs);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function Yb(a,t,i){const r=sh(a);_t(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=KE(t),{host:d,port:p}=Xb(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(Fr(y,r.config.emulator)&&Fr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,ao(d)?(SE(`${c}//${d}${_}`),bE("Auth",!0)):$b()}function KE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function Xb(a){const t=KE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:nv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:nv(d)}}}function nv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function $b(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class YE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,i){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}async function Ya(a,t){return wb(a,"POST","/v1/accounts:signInWithIdp",_m(a,t))}const Zb="http://localhost";class Kr extends YE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Kr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Kr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ya(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:Zb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}class Am{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ql extends Am{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ys extends ql{constructor(){super("facebook.com")}static credential(t){return Kr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";class is extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Kr._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return is.credential(i,r)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";class Xs extends ql{constructor(){super("github.com")}static credential(t){return Kr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class $s extends ql{constructor(){super("twitter.com")}static credential(t,i){return Kr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return $s.credential(i,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";class Ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ni._fromIdTokenResponse(t,r,l),d=iv(r);return new Ja({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=iv(r);return new Ja({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function iv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Gc extends hs{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Gc(t,i,r,l)}}function XE(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(a,c,t,r):c})}async function Jb(a,t,i=!1){const r=await Nl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ja._forOperation(a,"link",r)}async function Wb(a,t,i=!1){const{auth:r}=a;if(ei(r.app))return Promise.reject(Hr(r));const l="reauthenticate";try{const c=await Nl(a,XE(r,l,t,a),i);_t(c.idToken,r,"internal-error");const d=vm(c.idToken);_t(d,r,"internal-error");const{sub:p}=d;return _t(a.uid===p,r,"user-mismatch"),Ja._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ui(r,"user-mismatch"),c}}async function tw(a,t,i=!1){if(ei(a.app))return Promise.reject(Hr(a));const r="signIn",l=await XE(a,r,t),c=await Ja._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}function ew(a,t,i,r){return cn(a).onIdTokenChanged(t,i,r)}function nw(a,t,i){return cn(a).beforeAuthStateChanged(t,i)}function iw(a,t,i,r){return cn(a).onAuthStateChanged(t,i,r)}function sw(a){return cn(a).signOut()}const Fc="__sak";class $E{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const rw=1e3,aw=10;class ZE extends $E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Lb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,aw):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}ZE.type="LOCAL";const ow=ZE;class JE extends $E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}JE.type="SESSION";const WE=JE;function lw(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new rh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await lw(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];function Sm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class uw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Sm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function cw(a){Ni().location.href=a}function tT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function hw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fw(){return navigator?.serviceWorker?.controller||null}function dw(){return tT()?self:null}const eT="firebaseLocalStorageDb",mw=1,Qc="firebaseLocalStorage",nT="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ah(a,t){return a.transaction([Qc],t?"readwrite":"readonly").objectStore(Qc)}function gw(){const a=indexedDB.deleteDatabase(eT);return new Hl(a).toPromise()}function Kd(){const a=indexedDB.open(eT,mw);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Qc,{keyPath:nT})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Qc)?t(r):(r.close(),await gw(),t(await Kd()))})})}async function sv(a,t,i){const r=ah(a,!0).put({[nT]:t,value:i});return new Hl(r).toPromise()}async function pw(a,t){const i=ah(a,!1).get(t),r=await new Hl(i).toPromise();return r===void 0?null:r.value}function rv(a,t){const i=ah(a,!0).delete(t);return new Hl(i).toPromise()}const yw=800,_w=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>_w)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(dw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hw(),!this.activeServiceWorker)return;this.sender=new uw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kd();return await sv(t,Fc,"1"),await rv(t,Fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>sv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>pw(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ah(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const vw=iT;new Bl(3e4,6e4);function sT(a,t){return t?rs(t):(_t(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class bm extends YE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Ew(a){return tw(a.auth,new bm(a),a.bypassAuthState)}function Tw(a){const{auth:t,user:i}=a;return _t(i,t,"internal-error"),Wb(i,new bm(a),a.bypassAuthState)}async function Aw(a){const{auth:t,user:i}=a;return _t(i,t,"internal-error"),Jb(i,new bm(a),a.bypassAuthState)}class rT{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ew;case"linkViaPopup":case"linkViaRedirect":return Aw;case"reauthViaPopup":case"reauthViaRedirect":return Tw;default:Ui(this.auth,"internal-error")}}resolve(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sw=new Bl(2e3,1e4);async function bw(a,t,i){if(ei(a.app))return Promise.reject(si(a,"operation-not-supported-in-this-environment"));const r=sh(a);_b(a,t,Am);const l=sT(r,i);return new Br(r,"signInViaPopup",t,l).executeNotNull()}class Br extends rT{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Br.currentPopupAction&&Br.currentPopupAction.cancel(),Br.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const t=Sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Br.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Sw.get())};t()}}Br.currentPopupAction=null;const ww="pendingRedirect",Oc=new Map;class Rw extends rT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const r=await Iw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Iw(a,t){const i=Dw(t),r=Nw(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function Cw(a,t){Oc.set(a._key(),t)}function Nw(a){return rs(a._redirectPersistence)}function Dw(a){return Dc(ww,a.config.apiKey,a.name)}async function Ow(a,t,i=!1){if(ei(a.app))return Promise.reject(Hr(a));const r=sh(a),l=sT(r,t),d=await new Rw(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const Vw=600*1e3;class Mw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!aT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(si(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(t))}saveEventToCache(t){this.cachedEventUids.add(av(t)),this.lastProcessedEventTime=Date.now()}}function av(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function aT({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function xw(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(a);default:return!1}}async function Uw(a,t={}){return lo(a,"GET","/v1/projects",t)}const Lw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pw=/^https?/;async function kw(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Uw(a);for(const i of t)try{if(zw(i))return}catch{}Ui(a,"unauthorized-domain")}function zw(a){const t=Fd(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!Pw.test(i))return!1;if(Lw.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const jw=new Bl(3e4,6e4);function ov(){const a=Ni().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Bw(a){return new Promise((t,i)=>{function r(){ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ov(),i(si(a,"network-request-failed"))},timeout:jw.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const l=Fb("iframefcb");return Ni()[l]=()=>{gapi.load?r():i(si(a,"network-request-failed"))},Hb(`${Gb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function qw(a){return Vc=Vc||Bw(a),Vc}const Hw=new Bl(5e3,15e3),Gw="__/auth/iframe",Fw="emulator/auth/iframe",Qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yw(a){const t=a.config;_t(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?ym(t,Fw):`https://${a.config.authDomain}/${Gw}`,r={apiKey:t.apiKey,appName:a.name,v:oo},l=Kw.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${jl(r).slice(1)}`}async function Xw(a){const t=await qw(a),i=Ni().gapi;return _t(i,a,"internal-error"),t.open({where:document.body,url:Yw(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=si(a,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},Hw.get());function _(){Ni().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const $w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zw=500,Jw=600,Ww="_blank",tR="http://localhost";class lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eR(a,t,i,r=Zw,l=Jw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...$w,width:r.toString(),height:l.toString(),top:c,left:d},y=on().toLowerCase();i&&(p=jE(y)?Ww:i),kE(y)&&(t=t||tR,_.scrollbars="yes");const A=Object.entries(_).reduce((x,[Q,J])=>`${x}${Q}=${J},`,"");if(Ub(y)&&p!=="_self")return nR(t||"",p),new lv(null);const S=window.open(t||"",p,A);_t(S,a,"popup-blocked");try{S.focus()}catch{}return new lv(S)}function nR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const iR="__/auth/handler",sR="emulator/auth/handler",rR=encodeURIComponent("fac");async function uv(a,t,i,r,l,c){_t(a.config.authDomain,a,"auth-domain-config-required"),_t(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:oo,eventId:l};if(t instanceof Am){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",n1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof ql){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await a._getAppCheckToken(),y=_?`#${rR}=${encodeURIComponent(_)}`:"";return`${aR(a)}?${jl(p).slice(1)}${y}`}function aR({config:a}){return a.emulator?ym(a,sR):`https://${a.authDomain}/${iR}`}const Vd="webStorageSupport";class oR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WE,this._completeRedirectFn=Ow,this._overrideRedirectResult=Cw}async _openPopup(t,i,r,l){ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(t,i,r,Fd(),l);return eR(t,c,Sm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await uv(t,i,r,Fd(),l);return cw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ls(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Xw(t),r=new Mw(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Vd,{type:Vd},l=>{const c=l?.[0]?.[Vd];c!==void 0&&i(!!c),Ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=kw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return FE()||zE()||Em()}}const lR=oR;var cv="@firebase/auth",hv="1.12.0";class uR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hR(a){Za(new Qr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QE(a)},y=new Bb(r,l,c,_);return Kb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Za(new Qr("auth-internal",t=>{const i=sh(t.getProvider("auth").getImmediate());return(r=>new uR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(cv,hv,cR(a)),tr(cv,hv,"esm2020")}const fR=300,dR=AE("authIdTokenMaxAge")||fR;let fv=null;const mR=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>dR)return;const l=i?.token;fv!==l&&(fv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function gR(a=CE()){const t=mm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=Qb(a,{popupRedirectResolver:lR,persistence:[vw,ow,WE]}),r=AE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=mR(c.toString());nw(i,d,()=>d(i.currentUser)),ew(i,p=>d(p))}}const l=EE("auth");return l&&Yb(i,`http://${l}`),i}function pR(){return document.getElementsByTagName("head")?.[0]??document}qb({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const c=si("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",pR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hR("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var er,oT;(function(){var a;function t(C,w){function b(){}b.prototype=w.prototype,C.F=w.prototype,C.prototype=new b,C.prototype.constructor=C,C.D=function(V,D,L){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,b){b||(b=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(D=0;D<16;++D)V[D]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=C.g[0],b=C.g[1],D=C.g[2];let L=C.g[3],R;R=w+(L^b&(D^L))+V[0]+3614090360&4294967295,w=b+(R<<7&4294967295|R>>>25),R=L+(D^w&(b^D))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(b^L&(w^b))+V[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=b+(w^D&(L^w))+V[3]+3250441966&4294967295,b=D+(R<<22&4294967295|R>>>10),R=w+(L^b&(D^L))+V[4]+4118548399&4294967295,w=b+(R<<7&4294967295|R>>>25),R=L+(D^w&(b^D))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(b^L&(w^b))+V[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=b+(w^D&(L^w))+V[7]+4249261313&4294967295,b=D+(R<<22&4294967295|R>>>10),R=w+(L^b&(D^L))+V[8]+1770035416&4294967295,w=b+(R<<7&4294967295|R>>>25),R=L+(D^w&(b^D))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(b^L&(w^b))+V[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=b+(w^D&(L^w))+V[11]+2304563134&4294967295,b=D+(R<<22&4294967295|R>>>10),R=w+(L^b&(D^L))+V[12]+1804603682&4294967295,w=b+(R<<7&4294967295|R>>>25),R=L+(D^w&(b^D))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(b^L&(w^b))+V[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=b+(w^D&(L^w))+V[15]+1236535329&4294967295,b=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(b^D))+V[1]+4129170786&4294967295,w=b+(R<<5&4294967295|R>>>27),R=L+(b^D&(w^b))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^b&(L^w))+V[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=b+(L^w&(D^L))+V[0]+3921069994&4294967295,b=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(b^D))+V[5]+3593408605&4294967295,w=b+(R<<5&4294967295|R>>>27),R=L+(b^D&(w^b))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^b&(L^w))+V[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=b+(L^w&(D^L))+V[4]+3889429448&4294967295,b=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(b^D))+V[9]+568446438&4294967295,w=b+(R<<5&4294967295|R>>>27),R=L+(b^D&(w^b))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^b&(L^w))+V[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=b+(L^w&(D^L))+V[8]+1163531501&4294967295,b=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(b^D))+V[13]+2850285829&4294967295,w=b+(R<<5&4294967295|R>>>27),R=L+(b^D&(w^b))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^b&(L^w))+V[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=b+(L^w&(D^L))+V[12]+2368359562&4294967295,b=D+(R<<20&4294967295|R>>>12),R=w+(b^D^L)+V[5]+4294588738&4294967295,w=b+(R<<4&4294967295|R>>>28),R=L+(w^b^D)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^b)+V[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=b+(D^L^w)+V[14]+4259657740&4294967295,b=D+(R<<23&4294967295|R>>>9),R=w+(b^D^L)+V[1]+2763975236&4294967295,w=b+(R<<4&4294967295|R>>>28),R=L+(w^b^D)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^b)+V[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=b+(D^L^w)+V[10]+3200236656&4294967295,b=D+(R<<23&4294967295|R>>>9),R=w+(b^D^L)+V[13]+681279174&4294967295,w=b+(R<<4&4294967295|R>>>28),R=L+(w^b^D)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^b)+V[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=b+(D^L^w)+V[6]+76029189&4294967295,b=D+(R<<23&4294967295|R>>>9),R=w+(b^D^L)+V[9]+3654602809&4294967295,w=b+(R<<4&4294967295|R>>>28),R=L+(w^b^D)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^b)+V[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=b+(D^L^w)+V[2]+3299628645&4294967295,b=D+(R<<23&4294967295|R>>>9),R=w+(D^(b|~L))+V[0]+4096336452&4294967295,w=b+(R<<6&4294967295|R>>>26),R=L+(b^(w|~D))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~b))+V[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=b+(L^(D|~w))+V[5]+4237533241&4294967295,b=D+(R<<21&4294967295|R>>>11),R=w+(D^(b|~L))+V[12]+1700485571&4294967295,w=b+(R<<6&4294967295|R>>>26),R=L+(b^(w|~D))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~b))+V[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=b+(L^(D|~w))+V[1]+2240044497&4294967295,b=D+(R<<21&4294967295|R>>>11),R=w+(D^(b|~L))+V[8]+1873313359&4294967295,w=b+(R<<6&4294967295|R>>>26),R=L+(b^(w|~D))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~b))+V[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=b+(L^(D|~w))+V[13]+1309151649&4294967295,b=D+(R<<21&4294967295|R>>>11),R=w+(D^(b|~L))+V[4]+4149444226&4294967295,w=b+(R<<6&4294967295|R>>>26),R=L+(b^(w|~D))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~b))+V[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=b+(L^(D|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const b=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=b;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(V[D++]=C.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<w;)if(V[D++]=C[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var b=C.length-8;b<C.length;++b)C[b]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,b=0;b<4;++b)for(let V=0;V<32;V+=8)C[w++]=this.g[b]>>>V&255;return C};function c(C,w){var b=p;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=w(C)}function d(C,w){this.h=w;const b=[];let V=!0;for(let D=C.length-1;D>=0;D--){const L=C[D]|0;V&&L==w||(b[D]=L,V=!1)}this.g=b}var p={};function _(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return W(y(-C));const w=[];let b=1;for(let V=0;C>=b;V++)w[V]=C/b|0,b*=4294967296;return new d(w,0)}function A(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return W(A(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=y(Math.pow(w,8));let V=S;for(let L=0;L<C.length;L+=8){var D=Math.min(8,C.length-L);const R=parseInt(C.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(R))):(V=V.j(b),V=V.add(y(R)))}return V}var S=_(0),x=_(1),Q=_(16777216);a=d.prototype,a.m=function(){if(it(this))return-W(this).m();let C=0,w=1;for(let b=0;b<this.g.length;b++){const V=this.i(b);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(it(this))return"-"+W(this).toString(C);const w=y(Math.pow(C,6));var b=this;let V="";for(;;){const D=Xt(b,w).g;b=ct(b,D.j(w));let L=((b.g.length>0?b.g[0]:b.h)>>>0).toString(C);if(b=D,J(b))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function it(C){return C.h==-1}a.l=function(C){return C=ct(this,C),it(C)?-1:J(C)?0:1};function W(C){const w=C.g.length,b=[];for(let V=0;V<w;V++)b[V]=~C.g[V];return new d(b,~C.h).add(x)}a.abs=function(){return it(this)?W(this):this},a.add=function(C){const w=Math.max(this.g.length,C.g.length),b=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(C.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=R>>>16,L&=65535,R&=65535,b[D]=R<<16|L}return new d(b,b[b.length-1]&-2147483648?-1:0)};function ct(C,w){return C.add(W(w))}a.j=function(C){if(J(this)||J(C))return S;if(it(this))return it(C)?W(this).j(W(C)):W(W(this).j(C));if(it(C))return W(this.j(W(C)));if(this.l(Q)<0&&C.l(Q)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,b=[];for(var V=0;V<2*w;V++)b[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const L=this.i(V)>>>16,R=this.i(V)&65535,ae=C.i(D)>>>16,_e=C.i(D)&65535;b[2*V+2*D]+=R*_e,Et(b,2*V+2*D),b[2*V+2*D+1]+=L*_e,Et(b,2*V+2*D+1),b[2*V+2*D+1]+=R*ae,Et(b,2*V+2*D+1),b[2*V+2*D+2]+=L*ae,Et(b,2*V+2*D+2)}for(C=0;C<w;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=w;C<2*w;C++)b[C]=0;return new d(b,0)};function Et(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function gt(C,w){this.g=C,this.h=w}function Xt(C,w){if(J(w))throw Error("division by zero");if(J(C))return new gt(S,S);if(it(C))return w=Xt(W(C),w),new gt(W(w.g),W(w.h));if(it(w))return w=Xt(C,W(w)),new gt(W(w.g),w.h);if(C.g.length>30){if(it(C)||it(w))throw Error("slowDivide_ only works with positive integers.");for(var b=x,V=w;V.l(C)<=0;)b=Jt(b),V=Jt(V);var D=zt(b,1),L=zt(V,1);for(V=zt(V,2),b=zt(b,2);!J(V);){var R=L.add(V);R.l(C)<=0&&(D=D.add(b),L=R),V=zt(V,1),b=zt(b,1)}return w=ct(C,D.j(w)),new gt(D,w)}for(D=S;C.l(w)>=0;){for(b=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(b)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(b),R=L.j(w);it(R)||R.l(C)>0;)b-=V,L=y(b),R=L.j(w);J(L)&&(L=x),D=D.add(L),C=ct(C,R)}return new gt(D,C)}a.B=function(C){return Xt(this,C).h},a.and=function(C){const w=Math.max(this.g.length,C.g.length),b=[];for(let V=0;V<w;V++)b[V]=this.i(V)&C.i(V);return new d(b,this.h&C.h)},a.or=function(C){const w=Math.max(this.g.length,C.g.length),b=[];for(let V=0;V<w;V++)b[V]=this.i(V)|C.i(V);return new d(b,this.h|C.h)},a.xor=function(C){const w=Math.max(this.g.length,C.g.length),b=[];for(let V=0;V<w;V++)b[V]=this.i(V)^C.i(V);return new d(b,this.h^C.h)};function Jt(C){const w=C.g.length+1,b=[];for(let V=0;V<w;V++)b[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(b,C.h)}function zt(C,w){const b=w>>5;w%=32;const V=C.g.length-b,D=[];for(let L=0;L<V;L++)D[L]=w>0?C.i(L+b)>>>w|C.i(L+b+1)<<32-w:C.i(L+b);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,er=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lT,yl,uT,Mc,Yd,cT,hT,fT;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,B){for(var tt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)tt[wt-2]=arguments[wt];return m.prototype[P].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=P[tt]}else u.push(P)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new it(()=>new Xt,u=>u.reset());class Xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,zt=!1,C=new Et,w=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(b)}};function b(){for(var u;u=ct();){try{u.h.call(u.g)}catch(v){W(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}zt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ae(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ae,D),ae.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=St(u,m,T,P);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,P),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(T,P,1),B&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return P}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),ve={};function ue(u,m,v,T,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ue(u,m[B],v,T,P);return null}return v=jt(v),u&&u[_e]?u.J(m,v,p(T)?!!T.capture:!1,P):Pi(u,m,v,!1,T,P)}function Pi(u,m,v,T,P,B){if(!m)throw Error("Invalid event type");const tt=p(P)?!!P.capture:!!P;let wt=Qt(u);if(wt||(u[Mt]=wt=new st(u)),v=wt.add(m,v,T,tt,B),v.proxy)return v;if(T=fs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=tt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(bt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fs(){function u(v){return m.call(u.src,u.listener,v)}const m=mt;return u}function ds(u,m,v,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)ds(u,m[B],v,T,P);else T=p(T)?!!T.capture:!!T,v=jt(v),u&&u[_e]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,P),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Qt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,P)),(v=u>-1?m[u]:null)&&F(v))}function F(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[_e])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(bt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Qt(m))?(yt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ut(u)}}}function bt(u){return u in ve?ve[u]:ve[u]="on"+u}function mt(u,m){if(u.da)u=!0;else{m=new ae(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&F(u),u=v.call(T,m)}return u}function Qt(u){return u=u[Mt],u instanceof st?u:null}var Ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function jt(u){return typeof u=="function"?u:(u[Ct]||(u[Ct]=function(m){return u.handleEvent(m)}),u[Ct])}function Nt(){V.call(this),this.i=new st(this),this.M=this,this.G=null}S(Nt,V),Nt.prototype[_e]=!0,Nt.prototype.removeEventListener=function(u,m,v,T){ds(this,u,m,v,T)};function oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(T,u),nt(m,P)}P=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],P=$t(B,T,!0,m)&&P;if(B=m.g=u,P=$t(B,T,!0,m)&&P,P=$t(B,T,!1,m)&&P,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],P=$t(B,T,!1,m)&&P}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},Nt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Nt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function $t(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const wt=tt.listener,be=tt.ha||tt.src;tt.fa&&yt(u.i,tt),P=wt.call(be,T)!==!1&&P}}return P&&!T.defaultPrevented}function ce(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ta(u){u.g=ce(()=>{u.g=null,u.i&&(u.i=!1,ta(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class je extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ta(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(u){V.call(this),this.h=u,this.g={}}S(ai,V);var ms=[];function go(u){Vt(u.g,function(m,v){this.g.hasOwnProperty(v)&&F(m)},u),u.g={}}ai.prototype.N=function(){ai.Z.N.call(this),go(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=d.JSON.stringify,Ah=d.JSON.parse,Xl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $l(){}function Zl(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){D.call(this,"d")}S(Ke,D);function Cn(){D.call(this,"c")}S(Cn,D);var Se={},Jl=null;function ea(){return Jl=Jl||new Nt}Se.Ia="serverreachability";function Wl(u){D.call(this,Se.Ia,u)}S(Wl,D);function oi(u){const m=ea();oe(m,new Wl(m))}Se.STAT_EVENT="statevent";function hr(u,m){D.call(this,Se.STAT_EVENT,u),this.stat=m}S(hr,D);function Ne(u){const m=ea();oe(m,new hr(m,u))}Se.Ja="timingevent";function li(u,m){D.call(this,Se.Ja,u),this.size=m}S(li,D);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Sh(u,m,v,T,P,B){u.info(function(){if(u.g)if(B){var tt="",wt=B.split("&");for(let Kt=0;Kt<wt.length;Kt++){var be=wt[Kt].split("=");if(be.length>1){const pe=be[0];be=be[1];const Vn=pe.split("_");tt=Vn.length>=2&&Vn[1]=="type"?tt+(pe+"="+be+"&"):tt+(pe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+tt})}function tu(u,m,v,T,P,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+tt})}function ci(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+bh(u,v)+(T?" "+T:"")})}function fr(u,m){u.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function bh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return gs(B)}catch{return m}}var dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function mr(){}S(mr,$l),mr.prototype.g=function(){return new XMLHttpRequest},yo=new mr;function ki(u){return encodeURIComponent(String(u))}function eu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ai(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var De={},He={};function hi(u,m,v){u.M=1,u.A=gr(Ve(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),fi(u),u.B=Ve(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Qn,u.g=pu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new je(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(ms[0]=P.toString()),P=ms);for(let B=0;B<P.length;B++){const tt=ue(v,P[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Sh(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Xn(this.g),be=this.g.ya(),Kt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||wt!=4||be==7||(be==8||Kt<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var v=wh(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,Ne(12),vn(this),Nn(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=iu(this,v),pe==He){wt==4&&(this.m=4,Ne(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==De){this.m=4,Ne(15),ci(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,pe,null),mi(this,pe);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Ne(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vo(tt),tt.P=!0,Ne(11))}}else ci(this.i,this.l,v,null),mi(this,v);wt==4&&vn(this),this.o&&!this.K&&(wt==4?fu(this.j,this):(this.o=!1,fi(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),vn(this),Nn(this)}}}catch{}};function wh(u){if(!nu(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const T=m.length,P=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function nu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?He:(v=Number(m.substring(v,T)),isNaN(v)?De:(T+=1,T+v>m.length?He:(m=m.slice(T,T+v),u.C=T+v,m)))}Fn.prototype.cancel=function(){this.K=!0,vn(this)};function fi(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(y(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fr(this.i,this.B),this.M!=2&&(oi(),Ne(17)),vn(this),this.m=2,Nn(this)):ia(this,this.T-u)};function Nn(u){u.j.I==0||u.K||fu(u.j,u)}function vn(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),Ss(v);else break t;Ar(v),Ne(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(y(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((u.L||v.g==u)&&ha(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Kt=P[m];const pe=Kt[0];if(!(pe<=v.K))if(v.K=pe,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Vn=Kt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Si=Kt[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const $n=Kt[5];$n!=null&&typeof $n=="number"&&$n>0&&(T=1.5*$n,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Zn=u.g;if(Zn){const Sr=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var B=T.h;B.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Eo(B,B.h),B.h=null))}if(T.G){const fa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,Wt(T.J,T.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=gu(T,T.L?T.ba:null,T.W),tt.L){To(T.h,tt);var wt=tt,be=T.O;be&&(wt.H=be),wt.D&&(di(wt),fi(wt)),T.g=tt}else cu(T);v.i.length>0&&Ti(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Ai(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ai(v,7):Do(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}oi(4)}catch{}}var Oe=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,B=null;T>=0?(P=u[v].substring(0,T),B=u[v].substring(T+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,Ge(this,u.j),this.o=u.o,this.g=u.g,ps(this,u.u),this.h=u.h,So(this,lu(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,Ge(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),ps(this,m[4]),this.h=yi(m[5]||"",!0),So(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(pr(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pr(m,ra,!0),"@"),u.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(pr(v,v.charAt(0)=="/"?bo:ru,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",pr(v,au)),u.join("")},En.prototype.resolve=function(u){const m=Ve(this);let v=!!u.j;v?Ge(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ps(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let tt=0;tt<P.length;){const wt=P[tt++];wt=="."?T&&tt==P.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==P.length&&B.push("")):(B.push(wt),T=!0)}T=B.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?So(m,lu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ve(u){return new En(u)}function Ge(u,m,v){u.j=v?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ps(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof _s?(u.i=m,oa(u.i,u.l)):(v||(m=pr(m,ys)),u.i=new _s(m,u.l))}function Wt(u,m,v){u.i.set(m,v)}function gr(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,ru=/[#\?:]/g,bo=/[#\?]/g,ys=/[#\?@]/g,au=/#/g;function _s(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=_s.prototype,a.add=function(u,m){fn(this),this.i=null,u=vs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ou(u,m){fn(u),m=vs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return fn(u),m=vs(u,m),u.g.has(m)}a.forEach=function(u,m){fn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Ro(u,m){fn(u);let v=[];if(typeof m=="string")wo(u,m)&&(v=v.concat(u.g.get(vs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return fn(this),this.i=null,u=vs(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){ou(u,m),v.length>0&&(u.i=null,u.g.set(vs(u,m),Q(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=ki(v);v=Ro(this,v);for(let B=0;B<v.length;B++){let tt=P;v[B]!==""&&(tt+="="+ki(v[B])),u.push(tt)}}return this.i=u.join("&")};function lu(u){const m=new _s;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function vs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(ou(this,T),aa(this,P,v))},u)),u.j=m}function Kn(u,m){const v=new Gn;if(d.Image){const T=new Image;T.onload=A(Dn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Dn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Dn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Dn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Io(u,m){const v=new Gn,T=new AbortController,P=setTimeout(()=>{T.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Dn(v,"TestPingServer: error",!1,m)})}function Dn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Es(){this.g=new Xl}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}S(_i,$l),_i.prototype.g=function(){return new yr(this.i,this.h)};function yr(u,m){Nt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(yr,Nt),a=yr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Yn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ts(this):Yn(this),this.readyState==3&&la(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Ts(this))},a.Na=function(u){this.g&&(this.response=u,Ts(this))},a.ga=function(){this.g&&Ts(this)};function Ts(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return Vt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function _r(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=On(v),typeof u=="string"?v!=null&&ki(v):Wt(u,m,v))}function ne(u){Nt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ne,Nt);var vi=/^https?$/i,Co=["POST","PUT"];a=ne.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){vr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){vr(this,B)}};function vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),zi(u)}function No(u){u.A||(u.A=!0,oe(u,"complete"),oe(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,oe(this,"complete"),oe(this,"abort"),zi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),ne.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},a.Xa=function(){Er(this)};function Er(u){if(u.h&&typeof c<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(oe(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(su)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!vi.test(tt?tt.toLowerCase():"")}v=T}if(v)oe(u,"complete"),oe(u,"success");else{u.o=6;try{var P=Xn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",No(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||oe(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ah(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=eu(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}Ht(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function As(u){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new Es,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=As.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){Ne(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=gu(this,null,this.W),Ti(this)};function Do(u){if(ua(u),u.I==3){var m=u.V++,v=Ve(u.J);if(Wt(v,"SID",u.M),Wt(v,"RID",m),Wt(v,"TYPE","terminate"),Tr(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=gr(Ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}mu(u)}function Ss(u){u.g&&(Vo(u),u.g.cancel(),u.g=null)}function ua(u){Ss(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||w(),zt||(Jt(),zt=!0),C.add(m,u),u.D=0}}function ca(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(y(u.Ea,u,m),du(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Fn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=uu(this,P,m),v=Ve(this.J),Wt(v,"RID",u),Wt(v,"CVER",22),this.G&&Wt(v,"X-HTTP-Session-Id",this.G),Tr(this,v),B&&(this.R?m="headers="+ki(On(B))+"&"+m:this.u&&_r(v,this.u,B)),Eo(this.h,P),this.Ra&&Wt(v,"TYPE","init"),this.S?(Wt(v,"$req",m),Wt(v,"SID","null"),P.U=!0,hi(P,v,null)):hi(P,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const T=Ve(u.J);Wt(T,"SID",u.M),Wt(T,"RID",v),Wt(T,"AID",u.K),Tr(u,T),u.u&&u.o&&_r(T,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=uu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),hi(v,T,m)}function Tr(u,m){u.H&&Vt(u.H,function(v,T){Wt(m,T,v)}),u.l&&Vt({},function(v,T){Wt(m,T,v)})}function uu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let wt=-1;for(;;){const be=["count="+v];wt==-1?v>0?(wt=P[0].g,be.push("ofs="+wt)):wt=0:be.push("ofs="+wt);let Kt=!0;for(let pe=0;pe<v;pe++){var B=P[pe].g;const Vn=P[pe].map;if(B-=wt,B<0)wt=Math.max(0,P[pe].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var tt=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Si,$n]of tt){let Zn=$n;p($n)&&(Zn=gs($n)),be.push(B+Si+"="+encodeURIComponent(Zn))}}catch(Si){throw be.push(B+"type="+encodeURIComponent("_badmap")),Si}}catch{T&&T(Vn)}}if(Kt){tt=be.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||w(),zt||(Jt(),zt=!0),C.add(m,u),u.A=0}}function Ar(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(y(u.Da,u),du(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),Ss(this),hu(this))};function Vo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function hu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ve(u.na);Wt(m,"RID","rpc"),Wt(m,"SID",u.M),Wt(m,"AID",u.K),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(m,"TO",u.ia),Wt(m,"TYPE","xmlhttp"),Tr(u,m),u.u&&u.o&&_r(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=gr(Ve(m)),v.u=null,v.R=!0,na(v,u)}a.Va=function(){this.C!=null&&(this.C=null,Ss(this),Ar(this),Ne(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function fu(u,m){var v=null;if(u.g==m){ha(u),Vo(u),u.g=null;var T=2}else if(pi(u.h,m))v=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=ea(),oe(T,new li(T,v)),Ti(u)}else cu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&Ar(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new En(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ge(T,"https"),gr(T),P?Kn(T.toString(),v):Io(T.toString(),v)}else Ne(2);u.I=0,u.l&&u.l.pa(m),mu(u),ua(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function mu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,v){var T=v instanceof En?Ve(v):new En(v);if(T.g!="")m&&(T.g=m+"."+T.g),ps(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new En(null);T&&Ge(B,T),m&&(B.g=m),P&&ps(B,P),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Wt(T,v,m),Wt(T,"VER",u.ka),Tr(u,T),T}function pu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new _i({ab:v})):new ne(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}a=yu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function bs(){}bs.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){Nt.call(this),this.g=new As(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}S(ln,Nt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Do(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gs(u),u=v);m.i.push(new Oe(m.Ya++,u)),m.I==3&&Ti(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,ln.Z.N.call(this)};function _u(u){Ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(_u,Ke);function vu(){Cn.call(this),this.status=1}S(vu,Cn);function Bi(u){this.g=u}S(Bi,yu),Bi.prototype.ra=function(){oe(this.g,"a")},Bi.prototype.qa=function(u){oe(this.g,new _u(u))},Bi.prototype.pa=function(u){oe(this.g,new vu)},Bi.prototype.oa=function(){oe(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,fT=function(){return new bs},hT=function(){return ea()},cT=Se,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,Mc=dr,po.COMPLETE="complete",uT=po,Zl.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,yl=Zl,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,lT=ne}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",gv="4.9.3";class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let uo="12.7.0";const Yr=new fm("@firebase/firestore");function qa(){return Yr.logLevel}function at(a,...t){if(Yr.logLevel<=Lt.DEBUG){const i=t.map(wm);Yr.debug(`Firestore (${uo}): ${a}`,...i)}}function us(a,...t){if(Yr.logLevel<=Lt.ERROR){const i=t.map(wm);Yr.error(`Firestore (${uo}): ${a}`,...i)}}function Wa(a,...t){if(Yr.logLevel<=Lt.WARN){const i=t.map(wm);Yr.warn(`Firestore (${uo}): ${a}`,...i)}}function wm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function pt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,dT(a,r,i)}function dT(a,t,i){let r=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw us(r),new Error(r)}function Zt(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||dT(t,l,r)}function At(a,t){return a}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends hs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class mT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class _R{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class vR{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new nr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new nr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt(typeof r.accessToken=="string",31837,{l:r}),new mT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class ER{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new ER(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new pv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=SR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Pt(a,t){return a<t?-1:a>t?1:0}function Xd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return Md(l)===Md(c)?Pt(l,c):Md(l)?1:-1}return Pt(a.length,t.length)}const bR=55296,wR=57343;function Md(a){const t=a.charCodeAt(0);return t>=bR&&t<=wR}function to(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const yv="__name__";class Ci{constructor(t,i,r){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&pt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Ci.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const r=Ci.isNumericId(t),l=Ci.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):Xd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return er.fromString(t.substring(4,t.length-2))}}class he extends Ci{construct(t,i,r){return new he(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new he(i)}static emptyPath(){return new he([])}}const RR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ci{construct(t,i,r){return new tn(t,i,r)}static isValidIdentifier(t){return RR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new tn([yv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(he.fromString(t))}static fromName(t){return new ft(he.fromString(t).popFirst(5))}static empty(){return new ft(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new he(t.slice()))}}function gT(a,t,i){if(!i)throw new rt($.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function IR(a,t,i,r){if(t===!0&&r===!0)throw new rt($.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function _v(a){if(!ft.isDocumentKey(a))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function vv(a){if(ft.isDocumentKey(a))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function pT(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function oh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":pt(12329,{type:typeof a})}function as(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=oh(a);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function ze(a,t){const i={typeString:a};return t&&(i.value=t),i}function Gl(a,t){if(!pT(a))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new rt($.INVALID_ARGUMENT,i);return!0}const Ev=-62135596800,Tv=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Tv);return new ge(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Ev)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tv}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ev;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:ze("string",ge._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ge(0,0))}static max(){return new vt(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function CR(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(r===1e9?new ge(i+1,0):new ge(i,r));return new sr(l,ft.empty(),t)}function NR(a){return new sr(a.readTime,a.key,Dl)}class sr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new sr(vt.min(),ft.empty(),Dl)}static max(){return new sr(vt.max(),ft.empty(),Dl)}}function DR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(a.documentKey,t.documentKey),i!==0?i:Pt(a.largestBatchId,t.largestBatchId))}const OR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(a){if(a.code!==$.FAILED_PRECONDITION||a.message!==OR)throw a;at("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,r)=>{i(t)}))}static reject(t){return new Z(((i,r)=>{r(t)}))}static waitFor(t){return new Z(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new Z(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function MR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ho(a){return a.name==="IndexedDbTransactionError"}class lh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lh.ce=-1;const Im=-1;function uh(a){return a==null}function Kc(a){return a===0&&1/a==-1/0}function xR(a){return typeof a=="number"&&Number.isInteger(a)&&!Kc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const yT="";function UR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=Av(t)),t=LR(a.get(i),t);return Av(t)}function LR(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case yT:i+="";break;default:i+=c}}return i}function Av(a){return a+yT+""}function Sv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function $r(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function _T(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class Ee{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new Ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??We.RED,this.left=l??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new We(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new bv(this.data.getIterator())}getIteratorFrom(t){return new bv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class bv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new ii([])}unionWith(t){let i=new qe(tn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ii(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vT("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const PR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(a){if(Zt(!!a,39018),typeof a=="string"){let t=0;const i=PR.exec(a);if(Zt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ie(a.seconds),nanos:Ie(a.nanos)}}function Ie(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ar(a){return typeof a=="string"?en.fromBase64String(a):en.fromUint8Array(a)}const ET="server_timestamp",TT="__type__",AT="__previous_value__",ST="__local_write_time__";function Cm(a){return(a?.mapValue?.fields||{})[TT]?.stringValue===ET}function ch(a){const t=a.mapValue.fields[AT];return Cm(t)?ch(t):t}function Ol(a){const t=rr(a.mapValue.fields[ST].timestampValue);return new ge(t.seconds,t.nanos)}class kR{constructor(t,i,r,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Yc="(default)";class Vl{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}const bT="__type__",zR="__max__",Rc={mapValue:{}},wT="__vector__",Xc="value";function or(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Cm(a)?4:BR(a)?9007199254740991:jR(a)?10:11:pt(28295,{value:a})}function Li(a,t){if(a===t)return!0;const i=or(a);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ol(a).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=rr(l.timestampValue),p=rr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return ar(l.bytesValue).isEqual(ar(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ie(l.geoPointValue.latitude)===Ie(c.geoPointValue.latitude)&&Ie(l.geoPointValue.longitude)===Ie(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ie(l.integerValue)===Ie(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ie(l.doubleValue),p=Ie(c.doubleValue);return d===p?Kc(d)===Kc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return to(a.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Sv(d)!==Sv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Li(d[_],p[_])))return!1;return!0})(a,t);default:return pt(52216,{left:a})}}function Ml(a,t){return(a.values||[]).find((i=>Li(i,t)))!==void 0}function eo(a,t){if(a===t)return 0;const i=or(a),r=or(t);if(i!==r)return Pt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ie(c.integerValue||c.doubleValue),_=Ie(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,t);case 3:return wv(a.timestampValue,t.timestampValue);case 4:return wv(Ol(a),Ol(t));case 5:return Xd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=ar(c),_=ar(d);return p.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Pt(p[y],_[y]);if(A!==0)return A}return Pt(p.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Pt(Ie(c.latitude),Ie(d.latitude));return p!==0?p:Pt(Ie(c.longitude),Ie(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return Rv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Xc]?.arrayValue,A=_[Xc]?.arrayValue,S=Pt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:Rv(y,A)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const x=Xd(_[S],A[S]);if(x!==0)return x;const Q=eo(p[_[S]],y[A[S]]);if(Q!==0)return Q}return Pt(_.length,A.length)})(a.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function wv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Pt(a,t);const i=rr(a),r=rr(t),l=Pt(i.seconds,r.seconds);return l!==0?l:Pt(i.nanos,r.nanos)}function Rv(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=eo(i[l],r[l]);if(c)return c}return Pt(i.length,r.length)}function no(a){return $d(a)}function $d(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=rr(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ar(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ft.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=$d(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${$d(i.fields[d])}`;return l+"}"})(a.mapValue):pt(61005,{value:a})}function xc(a){switch(or(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(a);return t?16+xc(t):16;case 5:return 2*a.stringValue.length;case 6:return ar(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+xc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return $r(r.fields,((c,d)=>{l+=c.length+xc(d)})),l})(a.mapValue);default:throw pt(13486,{value:a})}}function Iv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Zd(a){return!!a&&"integerValue"in a}function Nm(a){return!!a&&"arrayValue"in a}function Cv(a){return!!a&&"nullValue"in a}function Nv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Uc(a){return!!a&&"mapValue"in a}function jR(a){return(a?.mapValue?.fields||{})[bT]?.stringValue===wT}function bl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return $r(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=bl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(a.arrayValue.values[i]);return t}return{...a}}function BR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=tn.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){$r(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Bn(bl(this.value))}}function RT(a){const t=[];return $r(a.fields,((i,r)=>{const l=new tn([i]);if(Uc(r)){const c=RT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new ii(t)}class an{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,vt.min(),vt.min(),vt.min(),Bn.empty(),0)}static newFoundDocument(t,i,r,l){return new an(t,1,i,vt.min(),r,l,0)}static newNoDocument(t,i){return new an(t,2,i,vt.min(),vt.min(),Bn.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,vt.min(),vt.min(),Bn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(t,i){this.position=t,this.inclusive=i}}function Dv(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=eo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ov(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Li(a.position[i],t.position[i]))return!1;return!0}class xl{constructor(t,i="asc"){this.field=t,this.dir=i}}function qR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class IT{}class ke extends IT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new GR(t,i,r):i==="array-contains"?new KR(t,r):i==="in"?new YR(t,r):i==="not-in"?new XR(t,r):i==="array-contains-any"?new $R(t,r):new ke(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new FR(t,r):new QR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(eo(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends IT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ri(t,i)}matches(t){return CT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CT(a){return a.op==="and"}function NT(a){return HR(a)&&CT(a)}function HR(a){for(const t of a.filters)if(t instanceof ri)return!1;return!0}function Jd(a){if(a instanceof ke)return a.field.canonicalString()+a.op.toString()+no(a.value);if(NT(a))return a.filters.map((t=>Jd(t))).join(",");{const t=a.filters.map((i=>Jd(i))).join(",");return`${a.op}(${t})`}}function DT(a,t){return a instanceof ke?(function(r,l){return l instanceof ke&&r.op===l.op&&r.field.isEqual(l.field)&&Li(r.value,l.value)})(a,t):a instanceof ri?(function(r,l){return l instanceof ri&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&DT(d,l.filters[p])),!0):!1})(a,t):void pt(19439)}function OT(a){return a instanceof ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(a):a instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(OT).join(" ,")+"}"})(a):"Filter"}class GR extends ke{constructor(t,i,r){super(t,i,r),this.key=ft.fromName(r.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class FR extends ke{constructor(t,i){super(t,"in",i),this.keys=VT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class QR extends ke{constructor(t,i){super(t,"not-in",i),this.keys=VT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function VT(a,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class KR extends ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Nm(i)&&Ml(i.arrayValue,this.value)}}class YR extends ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class XR extends ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class $R extends ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ml(this.value.arrayValue,r)))}}class ZR{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Vv(a,t=null,i=[],r=[],l=null,c=null,d=null){return new ZR(a,t,i,r,l,c,d)}function Dm(a){const t=At(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Jd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),uh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>no(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>no(r))).join(",")),t.Te=i}return t.Te}function Om(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!qR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!DT(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Ov(a.startAt,t.startAt)&&Ov(a.endAt,t.endAt)}function Wd(a){return ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class fo{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JR(a,t,i,r,l,c,d,p){return new fo(a,t,i,r,l,c,d,p)}function hh(a){return new fo(a)}function Mv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function MT(a){return a.collectionGroup!==null}function wl(a){const t=At(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new qe(tn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new xl(c,r))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new xl(tn.keyField(),r))}return t.Ie}function Di(a){const t=At(a);return t.Ee||(t.Ee=WR(t,wl(a))),t.Ee}function WR(a,t){if(a.limitType==="F")return Vv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new xl(l.field,c)}));const i=a.endAt?new $c(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new $c(a.startAt.position,a.startAt.inclusive):null;return Vv(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function tm(a,t){const i=a.filters.concat([t]);return new fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Zc(a,t,i){return new fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function fh(a,t){return Om(Di(a),Di(t))&&a.limitType===t.limitType}function xT(a){return`${Dm(Di(a))}|lt:${a.limitType}`}function Ha(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>OT(l))).join(", ")}]`),uh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>no(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>no(l))).join(",")),`Target(${r})`})(Di(a))}; limitType=${a.limitType})`}function dh(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ft.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of wl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=Dv(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,wl(r),l)||r.endAt&&!(function(d,p,_){const y=Dv(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,wl(r),l))})(a,t)}function tI(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function UT(a){return(t,i)=>{let r=!1;for(const l of wl(a)){const c=eI(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function eI(a,t,i){const r=a.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?eo(_,y):pt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:a.dir})}}class Zr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}const nI=new Ee(ft.comparator);function cs(){return nI}const LT=new Ee(ft.comparator);function _l(...a){let t=LT;for(const i of a)t=t.insert(i.key,i);return t}function PT(a){let t=LT;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function qr(){return Rl()}function kT(){return Rl()}function Rl(){return new Zr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const iI=new Ee(ft.comparator),sI=new qe(ft.comparator);function kt(...a){let t=sI;for(const i of a)t=t.add(i);return t}const rI=new qe(Pt);function aI(){return rI}function Vm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function zT(a){return{integerValue:""+a}}function jT(a,t){return xR(t)?zT(t):Vm(a,t)}class mh{constructor(){this._=void 0}}function oI(a,t,i){return a instanceof Ul?(function(l,c){const d={fields:{[TT]:{stringValue:ET},[ST]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Cm(c)&&(c=ch(c)),c&&(d.fields[AT]=c),{mapValue:d}})(i,t):a instanceof Ll?qT(a,t):a instanceof Pl?HT(a,t):(function(l,c){const d=BT(l,c),p=xv(d)+xv(l.Ae);return Zd(d)&&Zd(l.Ae)?zT(p):Vm(l.serializer,p)})(a,t)}function lI(a,t,i){return a instanceof Ll?qT(a,t):a instanceof Pl?HT(a,t):i}function BT(a,t){return a instanceof kl?(function(r){return Zd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Ul extends mh{}class Ll extends mh{constructor(t){super(),this.elements=t}}function qT(a,t){const i=GT(t);for(const r of a.elements)i.some((l=>Li(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Pl extends mh{constructor(t){super(),this.elements=t}}function HT(a,t){let i=GT(t);for(const r of a.elements)i=i.filter((l=>!Li(l,r)));return{arrayValue:{values:i}}}class kl extends mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function xv(a){return Ie(a.integerValue||a.doubleValue)}function GT(a){return Nm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class FT{constructor(t,i){this.field=t,this.transform=i}}function uI(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof Ll&&l instanceof Ll||r instanceof Pl&&l instanceof Pl?to(r.elements,l.elements,Li):r instanceof kl&&l instanceof kl?Li(r.Ae,l.Ae):r instanceof Ul&&l instanceof Ul})(a.transform,t.transform)}class cI{constructor(t,i){this.version=t,this.transformResults=i}}class Oi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Oi}static exists(t){return new Oi(void 0,t)}static updateTime(t){return new Oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class gh{}function QT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new YT(a.key,Oi.none()):new Fl(a.key,a.data,Oi.none());{const i=a.data,r=Bn.empty();let l=new qe(tn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Jr(a.key,r,new ii(l.toArray()),Oi.none())}}function hI(a,t,i){a instanceof Fl?(function(l,c,d){const p=l.value.clone(),_=Lv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof Jr?(function(l,c,d){if(!Lc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Lv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(KT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Il(a,t,i,r){return a instanceof Fl?(function(c,d,p,_){if(!Lc(c.precondition,d))return p;const y=c.value.clone(),A=Pv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,t,i,r):a instanceof Jr?(function(c,d,p,_){if(!Lc(c.precondition,d))return p;const y=Pv(c.fieldTransforms,_,d),A=d.data;return A.setAll(KT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(a,t,i,r):(function(c,d,p){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function fI(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=BT(r.transform,l||null);c!=null&&(i===null&&(i=Bn.empty()),i.set(r.field,c))}return i||null}function Uv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&to(r,l,((c,d)=>uI(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Fl extends gh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Jr extends gh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function KT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function Lv(a,t,i){const r=new Map;Zt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,lI(d,p,i[l]))}return r}function Pv(a,t,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,oI(c,d,t))}return r}class YT extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dI extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mI{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&hI(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Il(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Il(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=kT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=QT(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((i,r)=>Uv(i,r)))&&to(this.baseMutations,t.baseMutations,((i,r)=>Uv(i,r)))}}class Mm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Zt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return iI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Mm(t,i,r,l)}}class gI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Pe,qt;function yI(a){switch(a){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:a})}}function XT(a){if(a===void 0)return us("GRPC error has no .code"),$.UNKNOWN;switch(a){case Pe.OK:return $.OK;case Pe.CANCELLED:return $.CANCELLED;case Pe.UNKNOWN:return $.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return $.INTERNAL;case Pe.UNAVAILABLE:return $.UNAVAILABLE;case Pe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Pe.NOT_FOUND:return $.NOT_FOUND;case Pe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Pe.ABORTED:return $.ABORTED;case Pe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Pe.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:a})}}(qt=Pe||(Pe={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function _I(){return new TextEncoder}const vI=new er([4294967295,4294967295],0);function kv(a){const t=_I().encode(a),i=new oT;return i.update(t),new Uint8Array(i.digest())}function zv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new er([i,r],0),new er([l,c],0)]}class xm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=er.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(er.fromNumber(r)));return l.compare(vI)===1&&(l=new er([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=kv(t),[r,l]=zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new xm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=kv(t),[r,l]=zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new ph(vt.min(),l,new Ee(Pt),cs(),kt())}}class Ql{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Ql(r,i,kt(),kt(),kt())}}class Pc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class $T{constructor(t,i){this.targetId=t,this.Ce=i}}class ZT{constructor(t,i,r=en.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class jv{constructor(){this.ve=0,this.Fe=Bv(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),r=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:pt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Bv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EI{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=Ic(),this.He=Ic(),this.Ye=new Ee(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Wd(c))if(r===0){const d=new ft(c.path);this.et(i,d,an.newNoDocument(d,vt.min()))}else Zt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ar(r).toUint8Array()}catch(_){if(_ instanceof vT)return Wa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new xm(d,l,c)}catch(_){return Wa(_ instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Wd(p.target)){const _=new ft(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=kt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ph(t,i,this.Ye,this.je,r);return this.je=cs(),this.Je=Ic(),this.He=Ic(),this.Ye=new Ee(Pt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new jv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new qe(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new qe(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new jv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new Ee(ft.comparator)}function Bv(){return new Ee(ft.comparator)}const TI={asc:"ASCENDING",desc:"DESCENDING"},AI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SI={and:"AND",or:"OR"};class bI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function em(a,t){return a.useProto3Json||uh(t)?t:{value:t}}function Jc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function wI(a,t){return Jc(a,t.toTimestamp())}function Vi(a){return Zt(!!a,49232),vt.fromTimestamp((function(i){const r=rr(i);return new ge(r.seconds,r.nanos)})(a))}function Um(a,t){return nm(a,t).canonicalString()}function nm(a,t){const i=(function(l){return new he(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function WT(a){const t=he.fromString(a);return Zt(s0(t),10190,{key:t.toString()}),t}function im(a,t){return Um(a.databaseId,t.path)}function xd(a,t){const i=WT(t);if(i.get(1)!==a.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ft(e0(i))}function t0(a,t){return Um(a.databaseId,t)}function RI(a){const t=WT(a);return t.length===4?he.emptyPath():e0(t)}function sm(a){return new he(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function e0(a){return Zt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function qv(a,t,i){return{name:im(a,t),fields:i.value.mapValue.fields}}function II(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Zt(A===void 0||typeof A=="string",58123),en.fromBase64String(A||"")):(Zt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),en.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?$.UNKNOWN:XT(y.code);return new rt(A,y.message||"")})(d);i=new ZT(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=xd(a,r.document.name),c=Vi(r.document.updateTime),d=r.document.createTime?Vi(r.document.createTime):vt.min(),p=new Bn({mapValue:{fields:r.document.fields}}),_=an.newFoundDocument(l,c,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new Pc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=xd(a,r.document),c=r.readTime?Vi(r.readTime):vt.min(),d=an.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Pc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=xd(a,r.document),c=r.removedTargetIds||[];i=new Pc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new pI(l,c),p=r.targetId;i=new $T(p,d)}}return i}function CI(a,t){let i;if(t instanceof Fl)i={update:qv(a,t.key,t.value)};else if(t instanceof YT)i={delete:im(a,t.key)};else if(t instanceof Jr)i={update:qv(a,t.key,t.data),updateMask:PI(t.fieldMask)};else{if(!(t instanceof dI))return pt(16599,{Vt:t.type});i={verify:im(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:wI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(a,t.precondition)),i}function NI(a,t){return a&&a.length>0?(Zt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Vi(l.updateTime):Vi(c);return d.isEqual(vt.min())&&(d=Vi(c)),new cI(d,l.transformResults||[])})(i,t)))):[]}function DI(a,t){return{documents:[t0(a,t.path)]}}function OI(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=t0(a,l);const c=(function(y){if(y.length!==0)return i0(ri.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(x){return{field:Ga(x.field),direction:xI(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=em(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function VI(a){let t=RI(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Zt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const x=n0(S);return x instanceof ri&&NT(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(J){return new xl(Fa(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,uh(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(S){const x=!!S.before,Q=S.values||[];return new $c(Q,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const x=!S.before,Q=S.values||[];return new $c(Q,x)})(i.endAt)),JR(t,l,d,c,p,"F",_,y)}function MI(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function n0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Fa(i.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return ke.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return ke.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((r=>n0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(a):pt(30097,{filter:a})}function xI(a){return TI[a]}function UI(a){return AI[a]}function LI(a){return SI[a]}function Ga(a){return{fieldPath:a.canonicalString()}}function Fa(a){return tn.fromServerFormat(a.fieldPath)}function i0(a){return a instanceof ke?(function(i){if(i.op==="=="){if(Nv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Nv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:UI(i.op),value:i.value}}})(a):a instanceof ri?(function(i){const r=i.getFilters().map((l=>i0(l)));return r.length===1?r[0]:{compositeFilter:{op:LI(i.op),filters:r}}})(a):pt(54877,{filter:a})}function PI(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function s0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Zs{constructor(t,i,r,l,c=vt.min(),d=vt.min(),p=en.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class kI{constructor(t){this.yt=t}}function zI(a){const t=VI({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Zc(t,t.limit,"L"):t}class jI{constructor(){this.Cn=new BI}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(sr.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class BI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new qe(he.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new qe(he.comparator)).toArray()}}const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r0=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(r0,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class io{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}const Gv="LruGarbageCollector",qI=1048576;function Fv([a,t],[i,r]){const l=Pt(a,i);return l===0?Pt(t,r):l}class HI{constructor(t){this.Ir=t,this.buffer=new qe(Fv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Fv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Gv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ho(i)?at(Gv,"Ignoring IndexedDB error during garbage collection: ",i):await co(i)}await this.Vr(3e5)}))}}class FI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(lh.ce);const r=new HI(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Hv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),qa()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function QI(a,t){return new FI(a,t)}class KI{constructor(){this.changes=new Zr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class YI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class XI{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Il(r.mutation,l,ii.empty(),ge.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=kt()){const l=qr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=_l();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=qr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,kt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=cs();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Jr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Il(A.mutation,y,A.mutation.getFieldMask(),ge.now())):d.set(y.key,ii.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new YI(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Rl();let l=new Ee(((d,p)=>d-p)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||ii.empty();A=p.applyToLocalView(y,A),r.set(_,A);const S=(l.get(p.batchId)||kt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,S=kT();A.forEach((x=>{if(!c.has(x)){const Q=QT(i.get(x),r.get(x));Q!==null&&S.set(x,Q),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):MT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Z.resolve(qr());let p=Dl,_=c;return d.next((y=>Z.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{_=_.insert(A,x)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,kt()))).next((A=>({batchId:p,changes:PT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((r=>{let l=_l();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(_=>{const y=(function(S,x){return new fo(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,an.newInvalidDocument(A)))}));let p=_l();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Il(A.mutation,y,ii.empty(),ge.now()),dh(i,y)&&(p=p.insert(_,y))})),p}))}}class $I{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:zI(l.bundledQuery),readTime:Vi(l.readTime)}})(i)),Z.resolve()}}class ZI{constructor(){this.overlays=new Ee(ft.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=qr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=qr(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new Ee(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=qr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=qr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new gI(i,r));let c=this.qr.get(i);c===void 0&&(c=kt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class JI{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Lm{constructor(){this.Qr=new qe(Qe.$r),this.Ur=new qe(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Qe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Qe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ft(new he([])),r=new Qe(i,t),l=new Qe(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new he([])),r=new Qe(i,t),l=new Qe(i,t+1);let c=kt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Qe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Qe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class WI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Qe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mI(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Qe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Im:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Qe(i,0),l=new Qe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new qe(Pt);return i.forEach((l=>{const c=new Qe(l,0),d=new Qe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ft.isDocumentKey(c)||(c=c.child(""));const d=new Qe(new ft(c),0);let p=new qe(Pt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Qe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Qe(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class tC{constructor(t){this.ri=t,this.docs=(function(){return new Ee(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let r=cs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=cs();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||DR(NR(A),r)<=0||(l.has(A.key)||dh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,r,l){pt(9500)}ii(t,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new eC(this)}getSize(t){return Z.resolve(this.size)}}class eC extends KI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class nC{constructor(t){this.persistence=t,this.si=new Zr((i=>Dm(i)),Om),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Lm,this.targetCount=0,this.ai=io.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new io(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class a0{constructor(t,i){this.ui={},this.overlays={},this.ci=new lh(0),this.li=!1,this.li=!0,this.hi=new JI,this.referenceDelegate=t(this),this.Pi=new nC(this),this.indexManager=new jI,this.remoteDocumentCache=(function(l){return new tC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new kI(i),this.Ii=new $I(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new ZI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new WI(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new iC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class iC extends VR{constructor(t){super(),this.currentSequenceNumber=t}}class Pm{constructor(t){this.persistence=t,this.Ri=new Lm,this.Vi=null}static mi(t){return new Pm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=ft.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.pi=new Zr((r=>UR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=QI(this,i)}static mi(t,i){return new Wc(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=xc(t.data.value)),i}br(t,i,r){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class km{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new km(t,i.fromCache,r,l)}}class sC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class rC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $S()?8:MR(on())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new sC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(qa()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(qa()<=Lt.DEBUG&&at("QueryEngine","Query:",Ha(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(qa()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(i))):Z.resolve())}ys(t,i){if(Mv(i))return Z.resolve(null);let r=Di(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Zc(i,null,"F"),r=Di(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=kt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,Zc(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return Mv(i)||l.isEqual(vt.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(qa()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.vs(t,d,i,CR(l,Dl)).next((p=>p)))}))}Ds(t,i){let r=new qe(UT(t));return i.forEach(((l,c)=>{dh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return qa()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(t,i,sr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const zm="LocalStore",aC=3e8;class oC{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Ee(Pt),this.xs=new Zr((c=>Dm(c)),Om),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new XI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function lC(a,t,i,r){return new oC(a,t,i,r)}async function o0(a,t){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=kt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function uC(a,t){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const S=y.batch,x=S.keys();let Q=Z.resolve();return x.forEach((J=>{Q=Q.next((()=>A.getEntry(_,J))).next((it=>{const W=y.docVersions.get(J);Zt(W!==null,48541),it.version.compareTo(W)<0&&(S.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),A.addEntry(it)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=kt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function l0(a){const t=At(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function cC(a,t){const i=At(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const x=l.get(S);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(en.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,r)),l=l.insert(S,Q),(function(it,W,ct){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=aC?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(x,Q,A)&&p.push(i.Pi.updateTargetData(c,Q))}));let _=cs(),y=kt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(hC(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function hC(a,t,i){let r=kt(),l=kt();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=cs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):at(zm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function fC(a,t){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function dC(a,t){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Zs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function rm(a,t,i){const r=At(a),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ho(d))throw d;at(zm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Qv(a,t,i){const r=At(a);let l=vt.min(),c=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=At(_),x=S.xs.get(A);return x!==void 0?Z.resolve(S.Ms.get(x)):S.Pi.getTargetData(y,A)})(r,d,Di(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:kt()))).next((p=>(mC(r,tI(t),p),{documents:p,Qs:c})))))}function mC(a,t,i){let r=a.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class Kv{constructor(){this.activeTargetIds=aI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gC{constructor(){this.Mo=new Kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Kv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class pC{Oo(t){}shutdown(){}}const Yv="ConnectivityMonitor";class Xv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Yv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function am(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const Ud="RestConnection",yC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _C{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=am(),p=this.zo(t,i.toUriEncodedString());at(Ud,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=ao(y);return this.Jo(t,p,_,r,A).then((S=>(at(Ud,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Wa(Ud,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=yC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class vC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class EC extends _C{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=am();return new Promise(((p,_)=>{const y=new lT;y.setWithCredentials(!0),y.listenOnce(uT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const S=y.getResponseJson();at(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Mc.TIMEOUT:at(sn,`RPC '${t}' ${d} timed out`),_(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const x=y.getStatus();if(at(sn,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const it=(function(ct){const Et=ct.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Et)>=0?Et:$.UNKNOWN})(J.status);_(new rt(it,J.message))}else _(new rt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new rt($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(sn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);at(sn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=fT(),p=hT(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");at(sn,`Creating RPC '${t}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let x=!1,Q=!1;const J=new vC({Yo:W=>{Q?at(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(x||(at(sn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),x=!0),at(sn,`RPC '${t}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),it=(W,ct,Et)=>{W.listen(ct,(gt=>{try{Et(gt)}catch(Xt){setTimeout((()=>{throw Xt}),0)}}))};return it(S,yl.EventType.OPEN,(()=>{Q||(at(sn,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),it(S,yl.EventType.CLOSE,(()=>{Q||(Q=!0,at(sn,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),it(S,yl.EventType.ERROR,(W=>{Q||(Q=!0,Wa(sn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),it(S,yl.EventType.MESSAGE,(W=>{if(!Q){const ct=W.data[0];Zt(!!ct,16349);const Et=ct,gt=Et?.error||Et[0]?.error;if(gt){at(sn,`RPC '${t}' stream ${l} received error:`,gt);const Xt=gt.status;let Jt=(function(w){const b=Pe[w];if(b!==void 0)return XT(b)})(Xt),zt=gt.message;Jt===void 0&&(Jt=$.INTERNAL,zt="Unknown error status: "+Xt+" with message "+gt.message),Q=!0,J.a_(new rt(Jt,zt)),S.close()}else at(sn,`RPC '${t}' stream ${l} received:`,ct),J.u_(ct)}})),it(p,cT.STAT_EVENT,(W=>{W.stat===Yd.PROXY?at(sn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Yd.NOPROXY&&at(sn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ld(){return typeof document<"u"?document:null}function yh(a){return new bI(a,!0)}class u0{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const $v="PersistentStream";class c0{constructor(t,i,r,l,c,d,p,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new u0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new rt($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at($v,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TC extends c0{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=II(this.serializer,t),r=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Vi(d.readTime):vt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=sm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Wd(_)?{documents:DI(c,_)}:{query:OI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=JT(c,d.resumeToken);const y=em(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=Jc(c,d.snapshotVersion.toTimestamp());const y=em(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=MI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=sm(this.serializer),i.removeTarget=t,this.q_(i)}}class AC extends c0{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=NI(t.writeResults,t.commitTime),r=Vi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=sm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>CI(this.serializer,r)))};this.q_(i)}}class SC{}class bC extends SC{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,nm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt($.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,nm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xr="RemoteStore";class RC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Wr(this)&&(at(Xr,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await Kl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await _h(y)})(this))}))})),this.Ra=new wC(r,l)}}async function _h(a){if(Wr(a))for(const t of a.da)await t(!0)}async function Kl(a){for(const t of a.da)await t(!1)}function h0(a,t){const i=At(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Hm(i)?qm(i):mo(i).O_()&&Bm(i,t))}function jm(a,t){const i=At(a),r=mo(i);i.Ia.delete(t),r.O_()&&f0(i,t),i.Ia.size===0&&(r.O_()?r.L_():Wr(i)&&i.Ra.set("Unknown"))}function Bm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(a).Y_(t)}function f0(a,t){a.Va.Ue(t),mo(a).Z_(t)}function qm(a){a.Va=new EI({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),mo(a).start(),a.Ra.ua()}function Hm(a){return Wr(a)&&!mo(a).x_()&&a.Ia.size>0}function Wr(a){return At(a).Ea.size===0}function d0(a){a.Va=void 0}async function IC(a){a.Ra.set("Online")}async function CC(a){a.Ia.forEach(((t,i)=>{Bm(a,t)}))}async function NC(a,t){d0(a),Hm(a)?(a.Ra.ha(t),qm(a)):a.Ra.set("Unknown")}async function DC(a,t,i){if(a.Ra.set("Online"),t instanceof ZT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(r){at(Xr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await th(a,r)}else if(t instanceof Pc?a.Va.Ze(t):t instanceof $T?a.Va.st(t):a.Va.tt(t),!i.isEqual(vt.min()))try{const r=await l0(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(en.EMPTY_BYTE_STRING,A.snapshotVersion)),f0(c,_);const S=new Zs(A.target,_,y,A.sequenceNumber);Bm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){at(Xr,"Failed to raise snapshot:",r),await th(a,r)}}async function th(a,t,i){if(!ho(t))throw t;a.Ea.add(1),await Kl(a),a.Ra.set("Offline"),i||(i=()=>l0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{at(Xr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await _h(a)}))}function m0(a,t){return t().catch((i=>th(a,i,t)))}async function vh(a){const t=At(a),i=lr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;OC(t);)try{const l=await fC(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,VC(t,l)}catch(l){await th(t,l)}g0(t)&&p0(t)}function OC(a){return Wr(a)&&a.Ta.length<10}function VC(a,t){a.Ta.push(t);const i=lr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function g0(a){return Wr(a)&&!lr(a).x_()&&a.Ta.length>0}function p0(a){lr(a).start()}async function MC(a){lr(a).ra()}async function xC(a){const t=lr(a);for(const i of a.Ta)t.ea(i.mutations)}async function UC(a,t,i){const r=a.Ta.shift(),l=Mm.from(r,t,i);await m0(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await vh(a)}async function LC(a,t){t&&lr(a).X_&&await(async function(r,l){if((function(d){return yI(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();lr(r).B_(),await m0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await vh(r)}})(a,t),g0(a)&&p0(a)}async function Zv(a,t){const i=At(a);i.asyncQueue.verifyOperationInProgress(),at(Xr,"RemoteStore received new credentials");const r=Wr(i);i.Ea.add(3),await Kl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await _h(i)}async function PC(a,t){const i=At(a);t?(i.Ea.delete(2),await _h(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function mo(a){return a.ma||(a.ma=(function(i,r,l){const c=At(i);return c.sa(),new TC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:IC.bind(null,a),t_:CC.bind(null,a),r_:NC.bind(null,a),H_:DC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Hm(a)?qm(a):a.Ra.set("Unknown")):(await a.ma.stop(),d0(a))}))),a.ma}function lr(a){return a.fa||(a.fa=(function(i,r,l){const c=At(i);return c.sa(),new AC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:MC.bind(null,a),r_:LC.bind(null,a),ta:xC.bind(null,a),na:UC.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await vh(a)):(await a.fa.stop(),a.Ta.length>0&&(at(Xr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Gm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new Gm(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(a,t){if(us("AsyncQueue",`${t}: ${a}`),ho(a))return new rt($.UNAVAILABLE,`${t}: ${a}`);throw a}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=_l(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Xa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class Jv{constructor(){this.ga=new Ee(ft.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class so{constructor(t,i,r,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new so(t,i,Xa.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class kC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class zC{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=At(i),c=l.queries;l.queries=Wv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function Wv(){return new Zr((a=>xT(a)),fh)}async function y0(a,t){const i=At(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new kC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Fm(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Qm(i)}async function _0(a,t){const i=At(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function jC(a,t){const i=At(a);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Qm(i)}function BC(a,t,i){const r=At(a),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Qm(a){a.Ca.forEach((t=>{t.next()}))}var om,tE;(tE=om||(om={})).Ma="default",tE.Cache="cache";class v0{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new so(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}class E0{constructor(t){this.key=t}}class T0{constructor(t){this.key=t}}class qC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=UT(t),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new Jv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const x=l.get(A),Q=dh(this.query,S)?S:null,J=!!x&&this.mutatedKeys.has(x.key),it=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;x&&Q?x.data.isEqual(Q.data)?J!==it&&(r.track({type:3,doc:Q}),W=!0):this.su(x,Q)||(r.track({type:2,doc:Q}),W=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!x&&Q?(r.track({type:0,doc:Q}),W=!0):x&&!Q&&(r.track({type:1,doc:x}),W=!0,(_||y)&&(p=!0)),W&&(Q?(d=d.add(Q),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(Q,J){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:W})}};return it(Q)-it(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new T0(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new E0(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Km="SyncEngine";class HC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class GC{constructor(t){this.key=t,this.hu=!1}}class FC{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zr((p=>xT(p)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(ft.comparator),this.Au=new Map,this.Ru=new Lm,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QC(a,t,i=!0){const r=I0(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await A0(r,t,i,!0),l}async function KC(a,t){const i=I0(a);await A0(i,t,!0,!1)}async function A0(a,t,i,r){const l=await dC(a.localStore,Di(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await YC(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&h0(a.remoteStore,l),p}async function YC(a,t,i,r,l){a.pu=(S,x,Q)=>(async function(it,W,ct,Et){let gt=W.view.ru(ct);gt.Cs&&(gt=await Qv(it.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,gt))));const Xt=Et&&Et.targetChanges.get(W.targetId),Jt=Et&&Et.targetMismatches.get(W.targetId)!=null,zt=W.view.applyChanges(gt,it.isPrimaryClient,Xt,Jt);return nE(it,W.targetId,zt.au),zt.snapshot})(a,S,x,Q);const c=await Qv(a.localStore,t,!0),d=new qC(t,c.Qs),p=d.ru(c.documents),_=Ql.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),y=d.applyChanges(p,a.isPrimaryClient,_);nE(a,i,y.au);const A=new HC(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function XC(a,t,i){const r=At(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!fh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await rm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&jm(r.remoteStore,l.targetId),lm(r,l.targetId)})).catch(co)):(lm(r,l.targetId),await rm(r.localStore,l.targetId,!0))}async function $C(a,t){const i=At(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),jm(i.remoteStore,r.targetId))}async function ZC(a,t,i){const r=s2(a);try{const l=await(function(d,p){const _=At(d),y=ge.now(),A=p.reduce(((Q,J)=>Q.add(J.key)),kt());let S,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let J=cs(),it=kt();return _.Ns.getEntries(Q,A).next((W=>{J=W,J.forEach(((ct,Et)=>{Et.isValidDocument()||(it=it.add(ct))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,J))).next((W=>{S=W;const ct=[];for(const Et of p){const gt=fI(Et,S.get(Et.key).overlayedDocument);gt!=null&&ct.push(new Jr(Et.key,gt,RT(gt.value.mapValue),Oi.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,ct,p)})).next((W=>{x=W;const ct=W.applyToLocalDocumentSet(S,it);return _.documentOverlayCache.saveOverlays(Q,W.batchId,ct)}))})).then((()=>({batchId:x.batchId,changes:PT(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Ee(Pt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Yl(r,l.changes),await vh(r.remoteStore)}catch(l){const c=Fm(l,"Failed to persist write");i.reject(c)}}async function S0(a,t){const i=At(a);try{const r=await cC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Zt(d.hu,14607):l.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await Yl(i,r,t)}catch(r){await co(r)}}function eE(a,t,i){const r=At(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=At(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,S)=>{for(const x of S.Sa)x.va(p)&&(y=!0)})),y&&Qm(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function JC(a,t,i){const r=At(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new Ee(ft.comparator);d=d.insert(c,an.newNoDocument(c,vt.min()));const p=kt().add(c),_=new ph(vt.min(),new Map,new Ee(Pt),d,p);await S0(r,_),r.du=r.du.remove(c),r.Au.delete(t),Ym(r)}else await rm(r.localStore,t,!1).then((()=>lm(r,t,i))).catch(co)}async function WC(a,t){const i=At(a),r=t.batch.batchId;try{const l=await uC(i.localStore,t);w0(i,r,null),b0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Yl(i,l)}catch(l){await co(l)}}async function t2(a,t,i){const r=At(a);try{const l=await(function(d,p){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Zt(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);w0(r,t,i),b0(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Yl(r,l)}catch(l){await co(l)}}function b0(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function w0(a,t,i){const r=At(a);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function lm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||R0(a,r)}))}function R0(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(jm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Ym(a))}function nE(a,t,i){for(const r of i)r instanceof E0?(a.Ru.addReference(r.key,t),e2(a,r)):r instanceof T0?(at(Km,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||R0(a,r.key)):pt(19791,{wu:r})}function e2(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(at(Km,"New document in limbo: "+i),a.Eu.add(r),Ym(a))}function Ym(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ft(he.fromString(t)),r=a.fu.next();a.Au.set(r,new GC(i)),a.du=a.du.insert(i,r),h0(a.remoteStore,new Zs(Di(hh(i.path)),r,"TargetPurposeLimboResolution",lh.ce))}}async function Yl(a,t,i){const r=At(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=km.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(x=>Z.forEach(x.Es,(Q=>A.persistence.referenceDelegate.addReference(S,x.targetId,Q))).next((()=>Z.forEach(x.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,x.targetId,Q)))))))))}catch(S){if(!ho(S))throw S;at(zm,"Failed to update sequence numbers: "+S)}for(const S of y){const x=S.targetId;if(!S.fromCache){const Q=A.Ms.get(x),J=Q.snapshotVersion,it=Q.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(x,it)}}})(r.localStore,c))}async function n2(a,t){const i=At(a);if(!i.currentUser.isEqual(t)){at(Km,"User change. New user:",t.toKey());const r=await o0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new rt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Yl(i,r.Ls)}}function i2(a,t){const i=At(a),r=i.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function I0(a){const t=At(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=S0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=i2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JC.bind(null,t),t.Pu.H_=jC.bind(null,t.eventManager),t.Pu.yu=BC.bind(null,t.eventManager),t}function s2(a){const t=At(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=t2.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return lC(this.persistence,new rC,t.initialUser,this.serializer)}Cu(t){return new a0(Pm.mi,this.serializer)}Du(t){return new gC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class r2 extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof Wc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new a0((r=>Wc.mi(r,i)),this.serializer)}}class um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n2.bind(null,this.syncEngine),await PC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zC})()}createDatastore(t){const i=yh(t.databaseInfo.databaseId),r=(function(c){return new EC(c)})(t.databaseInfo);return(function(c,d,p,_){return new bC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new RC(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>eE(this.syncEngine,i,0)),(function(){return Xv.v()?new Xv:new pC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const S=new FC(l,c,d,p,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=At(i);at(Xr,"RemoteStore shutting down."),r.Ea.add(5),await Kl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class C0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ur="FirestoreClient";class a2{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Fm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Pd(a,t){a.asyncQueue.verifyOperationInProgress(),at(ur,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await o0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function iE(a,t){a.asyncQueue.verifyOperationInProgress();const i=await o2(a);at(ur,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>Zv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>Zv(t.remoteStore,l))),a._onlineComponents=t}async function o2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){at(ur,"Using user provided OfflineComponentProvider");try{await Pd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Wa("Error using user provided cache. Falling back to memory cache: "+i),await Pd(a,new eh)}}else at(ur,"Using default OfflineComponentProvider"),await Pd(a,new r2(void 0));return a._offlineComponents}async function N0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(at(ur,"Using user provided OnlineComponentProvider"),await iE(a,a._uninitializedComponentsProvider._online)):(at(ur,"Using default OnlineComponentProvider"),await iE(a,new um))),a._onlineComponents}function l2(a){return N0(a).then((t=>t.syncEngine))}async function cm(a){const t=await N0(a),i=t.eventManager;return i.onListen=QC.bind(null,t.syncEngine),i.onUnlisten=XC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=KC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$C.bind(null,t.syncEngine),i}function u2(a,t,i={}){const r=new nr;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new C0({next:x=>{A.Nu(),d.enqueueAndForget((()=>_0(c,S)));const Q=x.docs.has(p);!Q&&x.fromCache?y.reject(new rt($.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&x.fromCache&&_&&_.source==="server"?y.reject(new rt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new v0(hh(p.path),A,{includeMetadataChanges:!0,qa:!0});return y0(c,S)})(await cm(a),a.asyncQueue,t,i,r))),r.promise}function D0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const sE=new Map;const O0="firestore.googleapis.com",rE=!0;class aE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O0,this.ssl=rE}else this.host=t.host,this.ssl=t.ssl??rE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=r0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qI)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}IR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yR;switch(r.type){case"firstParty":return new TR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=sE.get(i);r&&(at("ComponentProvider","Removing Datastore"),sE.delete(i),r.terminate())})(this),Promise.resolve()}}function c2(a,t,i,r={}){a=as(a,Eh);const l=ao(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(SE(`https://${p}`),bE("Firestore",!0)),c.host!==O0&&c.host!==p&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!Fr(_,d)&&(a._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=rn.MOCK_USER;else{y=BS(r.mockUserToken,a._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rn(S)}a._authCredentials=new _R(new mT(y,A))}}class cr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new cr(this.firestore,t,this._query)}}class Ce{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Gl(i,Ce._jsonSchema))return new Ce(t,r||null,new ft(he.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:ze("string",Ce._jsonSchemaVersion),referencePath:ze("string")};class ir extends cr{constructor(t,i,r){super(t,i,hh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ft(t))}withConverter(t){return new ir(this.firestore,t,this._path)}}function kd(a,t,...i){if(a=cn(a),gT("collection","path",t),a instanceof Eh){const r=he.fromString(t,...i);return vv(r),new ir(a,null,r)}{if(!(a instanceof Ce||a instanceof ir))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(he.fromString(t,...i));return vv(r),new ir(a.firestore,null,r)}}function El(a,t,...i){if(a=cn(a),arguments.length===1&&(t=Rm.newId()),gT("doc","path",t),a instanceof Eh){const r=he.fromString(t,...i);return _v(r),new Ce(a,null,new ft(r))}{if(!(a instanceof Ce||a instanceof ir))throw new rt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(he.fromString(t,...i));return _v(r),new Ce(a.firestore,a instanceof ir?a.converter:null,new ft(r))}}const oE="AsyncQueue";class lE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new u0(this,"async_queue_retry"),this._c=()=>{const r=Ld();r&&at(oE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;at(oE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",uE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Gm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:uE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function uE(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function cE(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class ro extends Eh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new lE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lE(t),this._firestoreClient=void 0,await t}}}function h2(a,t){const i=typeof a=="object"?a:CE(),r=typeof a=="string"?a:Yc,l=mm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=zS("firestore");c&&c2(l,...c)}return l}function Xm(a){if(a._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||f2(a),a._firestoreClient}function f2(a){const t=a._freezeSettings(),i=(function(l,c,d,p){return new kR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,D0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new a2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(en.fromBase64String(t))}catch(i){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new qn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:ze("string",qn._jsonSchemaVersion),bytes:ze("string")};class $m{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Th{constructor(t){this._methodName=t}}class Mi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:ze("string",Mi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};class xi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new xi(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:ze("string",xi._jsonSchemaVersion),vectorValues:ze("object")};const d2=/^__.*__$/;class m2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Jr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}function V0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:a})}}class Zm{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(V0(this.Ac)&&d2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class g2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||yh(t)}Cc(t,i,r,l=!1){return new Zm({Ac:t,methodName:i,Dc:r,path:tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jm(a){const t=a._freezeSettings(),i=yh(a._databaseId);return new g2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function M0(a,t,i,r,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);L0("Data must be an object, but it was:",d,r);const p=x0(r,d);let _,y;if(c.merge)_=new ii(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const x=y2(t,S,i);if(!d.contains(x))throw new rt($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);v2(A,x)||A.push(x)}_=new ii(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new m2(new Bn(p),_,y)}class Wm extends Th{_toFieldTransform(t){return new FT(t.path,new Ul)}isEqual(t){return t instanceof Wm}}class tg extends Th{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new kl(t.serializer,jT(t.serializer,this.Fc));return new FT(t.path,i)}isEqual(t){return t instanceof tg&&this.Fc===t.Fc}}function p2(a,t,i,r=!1){return eg(i,a.Cc(r?4:3,t))}function eg(a,t){if(U0(a=cn(a)))return L0("Unsupported field value:",t,a),x0(a,t);if(a instanceof Th)return(function(r,l){if(!V0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=eg(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jT(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ge.fromDate(r);return{timestampValue:Jc(l.serializer,c)}}if(r instanceof ge){const c=new ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,c)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:JT(l.serializer,r._byteString)};if(r instanceof Ce){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Um(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof xi)return(function(d,p){return{mapValue:{fields:{[bT]:{stringValue:wT},[Xc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Vm(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${oh(r)}`)})(a,t)}function x0(a,t){const i={};return _T(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(a,((r,l)=>{const c=eg(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function U0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ge||a instanceof Mi||a instanceof qn||a instanceof Ce||a instanceof Th||a instanceof xi)}function L0(a,t,i){if(!U0(i)||!pT(i)){const r=oh(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function y2(a,t,i){if((t=cn(t))instanceof $m)return t._internalPath;if(typeof t=="string")return P0(a,t);throw nh("Field path arguments must be of type string or ",a,!1,void 0,i)}const _2=new RegExp("[~\\*/\\[\\]]");function P0(a,t,i){if(t.search(_2)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new $m(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function nh(a,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new rt($.INVALID_ARGUMENT,p+a+_)}function v2(a,t){return a.some((i=>i.isEqual(t)))}class k0{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new E2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ng("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class E2 extends k0{data(){return super.data()}}function ng(a,t){return typeof t=="string"?P0(a,t):t instanceof $m?t._internalPath:t._delegate._internalPath}function T2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new rt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class sg extends ig{}function A2(a,t,...i){let r=[];t instanceof ig&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof ag)).length,p=c.filter((_=>_ instanceof rg)).length;if(d>1||d>0&&p>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)a=l._apply(a);return a}class rg extends sg{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new rg(t,i,r)}_apply(t){const i=this._parse(t);return z0(t._query,i),new cr(t.firestore,t.converter,tm(t._query,i))}_parse(t){const i=Jm(t.firestore);return(function(c,d,p,_,y,A,S){let x;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){fE(S,A);const J=[];for(const it of S)J.push(hE(_,c,it));x={arrayValue:{values:J}}}else x=hE(_,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||fE(S,A),x=p2(p,d,S,A==="in"||A==="not-in");return ke.create(y,A,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class ag extends ig{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ag(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)z0(d,_),d=tm(d,_)})(t._query,i),new cr(t.firestore,t.converter,tm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class og extends sg{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new og(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xl(c,d)})(t._query,this._field,this._direction);return new cr(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new fo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function S2(a,t="asc"){const i=t,r=ng("orderBy",a);return og._create(r,i)}class lg extends sg{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new lg(t,i,r)}_apply(t){return new cr(t.firestore,t.converter,Zc(t._query,this._limit,this._limitType))}}function b2(a){return lg._create("limit",a,"F")}function hE(a,t,i){if(typeof(i=cn(i))=="string"){if(i==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(t)&&i.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(he.fromString(i));if(!ft.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Iv(a,new ft(r))}if(i instanceof Ce)return Iv(a,i._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(i)}.`)}function fE(a,t){if(!Array.isArray(a)||a.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function z0(a,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class w2{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return $r(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((r=>Ie(r.doubleValue)));return new xi(i)}convertGeoPoint(t){return new Mi(Ie(t.latitude),Ie(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=ch(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=rr(t);return new ge(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=he.fromString(t);Zt(s0(r),9688,{name:t});const l=new Vl(r.get(1),r.get(3)),c=new ft(r.popFirst(5));return l.isEqual(i)||us(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function j0(a,t,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,r}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends k0{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(ng("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:ze("string",Gr._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class kc extends Gr{data(t={}){return super.data(t)}}class $a{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new kc(this._firestore,this._userDataWriter,r.key,r,new Tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:R2(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function R2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:a})}}function dE(a){a=as(a,Ce);const t=as(a.firestore,ro);return u2(Xm(t),a._key).then((i=>H0(t,a,i)))}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:ze("string",$a._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class B0 extends w2{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function mE(a,t,i){a=as(a,Ce);const r=as(a.firestore,ro),l=j0(a.converter,t,i);return q0(r,[M0(Jm(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Oi.none())])}function I2(a,t){const i=as(a.firestore,ro),r=El(a),l=j0(a.converter,t);return q0(i,[M0(Jm(a.firestore),"addDoc",r._key,l,a.converter!==null,{}).toMutation(r._key,Oi.exists(!1))]).then((()=>r))}function gE(a,...t){a=cn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||cE(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(cE(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,p;if(a instanceof Ce)d=as(a.firestore,ro),p=hh(a._key.path),c={next:_=>{t[r]&&t[r](H0(d,a,_))},error:t[r+1],complete:t[r+2]};else{const _=as(a,cr);d=as(_.firestore,ro),p=_._query;const y=new B0(d);c={next:A=>{t[r]&&t[r](new $a(d,y,_,A))},error:t[r+1],complete:t[r+2]},T2(a._query)}return(function(y,A,S,x){const Q=new C0(x),J=new v0(A,Q,S);return y.asyncQueue.enqueueAndForget((async()=>y0(await cm(y),J))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>_0(await cm(y),J)))}})(Xm(d),p,l,c)}function q0(a,t){return(function(r,l){const c=new nr;return r.asyncQueue.enqueueAndForget((async()=>ZC(await l2(r),l,c))),c.promise})(Xm(a),t)}function H0(a,t,i){const r=i.docs.get(t._key),l=new B0(a);return new Gr(a,l,t._key,r,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}function C2(){return new Wm("serverTimestamp")}function pE(a){return new tg("increment",a)}(function(t,i=!0){(function(l){uo=l})(oo),Za(new Qr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new ro(new vR(r.getProvider("auth-internal")),new AR(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),tr(mv,gv,t),tr(mv,gv,"esm2020")})();const N2={apiKey:"AIzaSyDCgBUGV4WWYMPVCelPFvfo3UyH5KrgWE4",authDomain:"itgonein.firebaseapp.com",projectId:"itgonein",storageBucket:"itgonein.firebasestorage.app",messagingSenderId:"869060537900",appId:"1:869060537900:web:ed227fcbe2d64a6286ab89",measurementId:"G-NTB13JDT18"},G0=IE(N2),zd=gR(G0),D2=new is,zr=h2(G0),O2=new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"),V2=()=>{const a="https://itsgonein-app.onrender.com/football-proxy",[t,i]=me.useState("DASHBOARD"),[r,l]=me.useState("TABLE"),[c,d]=me.useState(39),[p,_]=me.useState(!1),[y,A]=me.useState(null),[S,x]=me.useState(!1),[Q,J]=me.useState(!1),[it,W]=me.useState([]),[ct,Et]=me.useState([]),[gt,Xt]=me.useState([]),[Jt,zt]=me.useState([]),[C,w]=me.useState(null),[b,V]=me.useState(null),[D,L]=me.useState([]),[R,ae]=me.useState(""),_e=me.useRef(null),[H,et]=me.useState(!1),[ut,Vt]=me.useState([{id:"bellingham",name:"Bellingham",team:"Real Madrid",votes:45},{id:"saka",name:"Saka",team:"Arsenal",votes:32},{id:"kane",name:"Kane",team:"Bayern",votes:28}]),[Ht,O]=me.useState(()=>{const F=localStorage.getItem("userPredictions");return F?JSON.parse(F):{}}),[Y,nt]=me.useState({}),st=[{id:39,name:"Premier League",icon:"",color:"#3d195b",accent:"#00ff85"},{id:140,name:"La Liga",icon:"",color:"#ee8707",accent:"#ffffff"},{id:78,name:"Bundesliga",icon:"",color:"#d20515",accent:"#ffffff"},{id:135,name:"Serie A",icon:"",color:"#008fd7",accent:"#00ff85"},{id:61,name:"Ligue 1",icon:"",color:"#dae025",accent:"#12233f"},{id:88,name:"Eredivisie",icon:"",color:"#00366d",accent:"#ffffff"},{id:71,name:"Brasileiro",icon:"",color:"#fcbf00",accent:"#009c3b"},{id:94,name:"Primeira Liga",icon:"",color:"#e83838",accent:"#f5ce42"}],yt=[{id:1,tag:"RUMOR",title:"Mbapp to Liverpool? Agent spotted in London.",time:"2h ago",img:""},{id:2,tag:"VIRAL",title:"Haaland breaks another robot record.",time:"4h ago",img:""}];me.useEffect(()=>{const F=iw(zd,async Ct=>{if(A(Ct),Ct)try{const jt=El(zr,"banned_users",Ct.uid),Nt=await dE(jt);x(Nt.exists())}catch(jt){console.error(jt)}try{const jt=El(zr,"polls","week_1"),Nt=await dE(jt);if(Nt.exists()){const oe=Nt.data();Vt($t=>$t.map(ce=>({...ce,votes:oe[ce.id]||ce.votes})))}}catch(jt){console.error(jt)}}),bt=A2(kd(zr,"messages"),S2("createdAt"),b2(50)),mt=gE(bt,Ct=>{L(Ct.docs.map(jt=>({...jt.data(),id:jt.id}))),setTimeout(()=>{_e.current?.scrollIntoView({behavior:"smooth"})},100),_e.current?.scrollIntoView({behavior:"smooth"})}),Qt=gE(kd(zr,"match_votes"),Ct=>{const jt={};Ct.docs.forEach(Nt=>{jt[Nt.id]=Nt.data()}),nt(jt)});return()=>{F(),mt(),Qt()}},[]),me.useEffect(()=>{const F=async()=>{try{const Qt=await(await fetch(`${a}?type=live`)).json();Qt.response&&zt(Qt.response.map(Ct=>({id:Ct.fixture.id,home:Ct.teams.home.name,away:Ct.teams.away.name,homeScore:Ct.goals.home,awayScore:Ct.goals.away,status:Ct.fixture.status.elapsed})))}catch(mt){console.error("Ticker Error:",mt)}};F();const bt=setInterval(F,6e4);return()=>clearInterval(bt)},[]),me.useEffect(()=>{const F=st.find(mt=>mt.id===c);F&&(document.documentElement.style.setProperty("--primary",F.color),document.documentElement.style.setProperty("--accent",F.accent)),(async()=>{_(!0);try{const[mt,Qt,Ct]=await Promise.all([fetch(`${a}?league=${c}&type=standings`),fetch(`${a}?league=${c}&type=scorers`),fetch(`${a}?league=${c}&type=fixtures`)]),jt=await mt.json(),Nt=await Qt.json(),oe=await Ct.json();if(jt.response?.[0]){const $t=jt.response[0].league.standings[0];W($t.map(ce=>({rank:ce.rank,id:ce.team.id,name:ce.team.name,crest:ce.team.logo,played:ce.all.played,won:ce.all.win,draw:ce.all.draw,lost:ce.all.lose,points:ce.points,form:ce.form})))}Nt.response&&Et(Nt.response.map(($t,ce)=>({rank:ce+1,name:$t.player.name,team:$t.statistics[0].team.name,goals:$t.statistics[0].goals.total}))),oe.response&&Xt(oe.response.map($t=>({id:$t.fixture.id,homeId:$t.teams.home.id,awayId:$t.teams.away.id,status:$t.fixture.status.short,date:new Date($t.fixture.date).toLocaleDateString("en-GB",{day:"numeric",month:"short"}),time:new Date($t.fixture.date).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),home:$t.teams.home.name,homeCrest:$t.teams.home.logo,away:$t.teams.away.name,awayCrest:$t.teams.away.logo})))}catch(mt){console.error("Error loading league data:",mt)}finally{_(!1)}})()},[c]),me.useEffect(()=>{let F;return C&&b?.viewType==="match_details"&&(F=setInterval(async()=>{try{const Qt=await(await fetch(`${a}?type=match_details&match_id=${C}`)).json();Qt.response&&Qt.response.match&&(Qt.response.match.score!==b.match.score&&(O2.play().catch(()=>{}),J(!0),setTimeout(()=>J(!1),5e3)),V({...Qt.response,viewType:"match_details"}))}catch(mt){console.error(mt)}},3e4)),()=>{F&&clearInterval(F)}},[C,b?.match?.score,b?.viewType]);const St=async F=>{w(F.id),V({match:{home:F.home,homeLogo:F.homeCrest,away:F.away,awayLogo:F.awayCrest,score:"LOADING..."},viewType:"loading",history:[],stats:{homeWinPerc:0,drawPerc:0,awayWinPerc:0}});try{const mt=["SCHEDULED","TIMED","NS","TBD"].includes(F.status)?"h2h":"match_details",Ct=await(await fetch(`${a}?type=${mt}&match_id=${F.id}&t=${Date.now()}`)).json();if(console.log("API Response:",Ct),Ct.response){let jt={homeWinPerc:33,drawPerc:34,awayWinPerc:33};if(mt==="h2h"&&Ct.response.history&&Ct.response.history.length>0){let Nt=0,oe=0,$t=0,ce=0;Ct.response.history.forEach(ta=>{const je=ta.score.match(/(\d+)-(\d+)/);if(je){ce++;const ai=parseInt(je[1]),ms=parseInt(je[2]);ai>ms?Nt++:ms>ai?$t++:oe++}}),ce>0&&(jt={homeWinPerc:Math.round(Nt/ce*100),drawPerc:Math.round(oe/ce*100),awayWinPerc:Math.round($t/ce*100)})}V(Nt=>({...Nt,...Ct.response,stats:jt,viewType:mt,match:{...Nt.match,score:Ct.response.match?.score||"VS",...Ct.response.match||{}}}))}else V(jt=>({...jt,viewType:mt,match:{...jt.match,score:"VS"}}))}catch(bt){console.error("Match Center Error:",bt),V(mt=>({...mt,viewType:"error",match:{...mt.match,score:"ERROR"}}))}},Mt=async()=>{if(C){_(!0);try{const bt=await(await fetch(`${a}?type=match_details&match_id=${C}`)).json();V({...bt.response,viewType:"match_details"})}catch(F){console.error(F)}finally{_(!1)}}},ve=(F,bt)=>{const mt={...Ht,[F]:bt};if(O(mt),localStorage.setItem("userPredictions",JSON.stringify(mt)),y){let Qt=bt==="1"?"home":bt==="2"?"away":"draw";mE(El(zr,"match_votes",String(F)),{[Qt]:pE(1)},{merge:!0})}},ue=F=>{const bt=Y[F];if(!bt)return{home:0,draw:0,away:0};const mt=bt.home||0,Qt=bt.draw||0,Ct=bt.away||0,jt=mt+Qt+Ct;return jt===0?{home:0,draw:0,away:0}:{home:Math.round(mt/jt*100),draw:Math.round(Qt/jt*100),away:Math.round(Ct/jt*100)}},Pi=async F=>{H||S||(Vt(bt=>bt.map(mt=>mt.id===F?{...mt,votes:mt.votes+1}:mt)),et(!0),await mE(El(zr,"polls","week_1"),{[F]:pE(1)},{merge:!0}))},fs=async F=>{F.preventDefault(),!(!R.trim()||!y||S)&&(await I2(kd(zr,"messages"),{text:R,createdAt:C2(),uid:y.uid,photoURL:y.photoURL,displayName:y.displayName}),ae(""))},ds=async()=>{try{await bw(zd,D2)}catch(F){console.error(F)}};return M.jsxs("div",{className:"app-container",children:[M.jsxs("div",{className:"top-ticker",children:[M.jsx("div",{className:"live-badge",children:"LIVE"}),M.jsx("div",{className:"ticker-wrapper",children:M.jsx("div",{className:"ticker-content",children:Jt.length>0?M.jsxs(M.Fragment,{children:[Jt.map(F=>M.jsxs("span",{children:[F.home," ",M.jsxs("b",{className:"score",children:[F.homeScore,"-",F.awayScore]})," ",F.away," ",M.jsxs("small",{children:[F.status,"'"]})]},F.id)),Jt.map(F=>M.jsxs("span",{children:[F.home," ",M.jsxs("b",{className:"score",children:[F.homeScore,"-",F.awayScore]})," ",F.away]},`dup-${F.id}`))]}):M.jsx("span",{children:"No live matches currently in progress"})})})]}),M.jsxs("div",{className:"dashboard-grid",children:[M.jsxs("nav",{className:"side-nav",children:[M.jsxs("div",{className:"brand",onClick:()=>i("DASHBOARD"),children:["ITS",M.jsx("span",{className:"accent",children:"GONE"}),"IN."]}),M.jsxs("div",{className:"nav-group",children:[M.jsx("label",{children:"LEAGUES"}),st.map(F=>M.jsxs("div",{className:`nav-item ${c===F.id&&t==="DASHBOARD"?"active":""}`,onClick:()=>{d(F.id),i("DASHBOARD"),w(null)},children:[M.jsx("span",{className:"nav-icon",children:F.icon}),M.jsx("span",{className:"nav-text",children:F.name})]},F.id))]}),M.jsxs("div",{className:"nav-group",children:[M.jsx("label",{children:"COMMUNITY"}),M.jsx("div",{className:"nav-item",children:" Trending"})]})]}),M.jsx("main",{className:"main-feed",children:t==="DASHBOARD"?M.jsxs(M.Fragment,{children:[M.jsxs("header",{className:"feed-header",children:[M.jsxs("div",{className:"header-title",children:[M.jsx("h1",{children:st.find(F=>F.id===c)?.name}),M.jsx("span",{children:"Season 2025/26"})]}),M.jsxs("div",{className:"tabs",children:[M.jsx("button",{className:`tab-btn ${r==="TABLE"?"active":""}`,onClick:()=>l("TABLE"),children:"STANDINGS"}),M.jsx("button",{className:`tab-btn ${r==="SCORERS"?"active":""}`,onClick:()=>l("SCORERS"),children:"SCORERS"}),M.jsx("button",{className:`tab-btn ${r==="FIXTURES"?"active":""}`,onClick:()=>l("FIXTURES"),children:"FIXTURES"})]})]}),M.jsxs("div",{className:"feed-content",children:[ct.length>0&&r!=="FIXTURES"&&M.jsxs("div",{className:"spotlight-card",children:[M.jsxs("div",{className:"spotlight-info",children:[M.jsx("span",{className:"badge",children:"GOLDEN BOOT RACE"}),M.jsx("h3",{children:ct[0].name}),M.jsx("p",{children:ct[0].team})]}),M.jsxs("div",{className:"spotlight-stat",children:[M.jsx("span",{className:"big-num",children:ct[0].goals}),M.jsx("span",{className:"label",children:"GOALS"})]})]}),M.jsxs("div",{className:"data-container",children:[p&&M.jsx("div",{style:{padding:40,textAlign:"center"},children:"Loading..."}),!p&&r==="TABLE"&&M.jsxs("table",{className:"modern-table",children:[M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{children:"#"}),M.jsx("th",{children:"CLUB"}),M.jsx("th",{children:"MP"}),M.jsx("th",{children:"W/D/L"}),M.jsx("th",{children:"PTS"})]})}),M.jsx("tbody",{children:it.map(F=>M.jsxs("tr",{children:[M.jsx("td",{children:F.rank}),M.jsx("td",{children:M.jsxs("div",{className:"team-flex",children:[M.jsx("img",{src:F.crest,alt:""}),M.jsx("span",{children:F.name})]})}),M.jsx("td",{children:F.played}),M.jsxs("td",{children:[M.jsx("span",{className:"w",children:F.won}),"/",M.jsx("span",{children:F.draw}),"/",M.jsx("span",{className:"l",children:F.lost})]}),M.jsx("td",{className:"pts",children:F.points})]},F.id))})]}),!p&&r==="SCORERS"&&M.jsx("div",{className:"scorers-list",children:ct.map(F=>M.jsxs("div",{className:"list-row",children:[M.jsx("div",{className:"rank-badge",children:F.rank}),M.jsxs("div",{className:"list-info",children:[M.jsx("span",{className:"list-name",children:F.name}),M.jsx("span",{className:"list-sub",children:F.team})]}),M.jsx("div",{className:"list-stat",children:M.jsx("span",{className:"stat-val",children:F.goals})})]},F.name))}),!p&&r==="FIXTURES"&&M.jsx("div",{className:"fixtures-list",children:C?M.jsxs("div",{className:`match-center fade-in ${Q?"goal-flash":""}`,children:[M.jsxs("div",{className:"center-actions",children:[M.jsx("button",{className:"close-center",onClick:()=>w(null),children:" BACK TO FIXTURES"}),M.jsxs("button",{className:"refresh-center",onClick:Mt,disabled:p,children:[M.jsx("span",{className:"pulse-dot"}),p?"REFRESHING...":"LIVE UPDATES"]})]}),b?M.jsxs("div",{className:"center-content",children:[M.jsxs("div",{className:"center-score",children:[M.jsxs("div",{className:"c-team",children:[M.jsx("img",{src:b.match?.homeLogo,alt:""}),M.jsx("h3",{children:b.match?.home})]}),M.jsx("div",{className:"c-result",children:b.match?.score}),M.jsxs("div",{className:"c-team",children:[M.jsx("img",{src:b.match?.awayLogo,alt:""}),M.jsx("h3",{children:b.match?.away})]})]}),b.viewType==="h2h"?M.jsxs("div",{className:"h2h-container",children:[b.stats&&M.jsxs("div",{className:"dominance-meter",children:[M.jsxs("div",{className:"meter-bar",children:[M.jsx("div",{className:"segment home",style:{width:`${b.stats.homeWinPerc}%`}}),M.jsx("div",{className:"segment draw",style:{width:`${b.stats.drawPerc}%`}}),M.jsx("div",{className:"segment away",style:{width:`${b.stats.awayWinPerc}%`}})]}),M.jsxs("div",{className:"meter-labels",children:[M.jsxs("span",{children:["Win ",b.stats.homeWinPerc,"%"]}),M.jsxs("span",{children:["Draw ",b.stats.drawPerc,"%"]}),M.jsxs("span",{children:["Win ",b.stats.awayWinPerc,"%"]})]})]}),M.jsxs("div",{className:"h2h-history",children:[M.jsx("h4",{className:"section-title",children:"PREVIOUS ENCOUNTERS"}),b.history&&b.history.length>0?b.history.map((F,bt)=>{const mt=F.score.split(/(\d+\s*-\s*\d+)/),Qt=mt[0]||"",Ct=mt[1]||"",jt=mt[2]||"";return M.jsxs("div",{className:"h2h-row",children:[M.jsx("div",{className:"h-team",children:Qt}),M.jsxs("div",{className:"h-center",children:[M.jsx("span",{className:"h-date",children:F.date}),M.jsx("span",{className:"h-stadium",children:F.stadium}),M.jsx("div",{className:"h-score",children:Ct.replace(/-/g,"-")})]}),M.jsx("div",{className:"h-team away",children:jt})]},bt)}):M.jsxs("div",{className:"empty-state",children:[M.jsx("div",{style:{fontSize:"24px",marginBottom:"10px"},children:""}),M.jsx("p",{children:"Head-to-Head data unavailable."})]})]})]}):M.jsx("div",{className:"timeline",children:b.timeline?.map((F,bt)=>M.jsxs("div",{className:"timeline-item",children:[M.jsx("span",{className:"t-time",children:F.time}),M.jsx("span",{className:"t-icon",children:F.icon}),M.jsx("span",{className:"t-detail",children:F.detail})]},bt))})]}):M.jsx("p",{children:"Loading data..."})]}):gt.map(F=>{const bt=ue(F.id),mt=Ht[F.id];return M.jsxs("div",{className:"fixture-row",onClick:()=>St(F),children:[M.jsxs("div",{className:"fixture-date",children:[M.jsx("span",{className:"date",children:F.date}),M.jsx("span",{className:"time",children:F.time})]}),M.jsxs("div",{className:"fixture-center-group",children:[M.jsxs("div",{className:"fixture-matchup",children:[M.jsxs("div",{className:"team home",children:[M.jsx("span",{children:F.home}),M.jsx("img",{src:F.homeCrest,alt:""})]}),M.jsx("div",{className:"vs-badge",children:"VS"}),M.jsxs("div",{className:"team away",children:[M.jsx("img",{src:F.awayCrest,alt:""}),M.jsx("span",{children:F.away})]})]}),M.jsxs("div",{className:"prediction-wrapper",onClick:Qt=>Qt.stopPropagation(),children:[M.jsxs("div",{className:"prediction-bar",children:[M.jsx("button",{className:`pred-btn ${mt==="1"?"active":""}`,onClick:()=>ve(F.id,"1"),children:"1"}),M.jsx("button",{className:`pred-btn ${mt==="X"?"active":""}`,onClick:()=>ve(F.id,"X"),children:"X"}),M.jsx("button",{className:`pred-btn ${mt==="2"?"active":""}`,onClick:()=>ve(F.id,"2"),children:"2"})]}),mt&&M.jsxs("div",{className:"community-stats fade-in",children:[M.jsxs("div",{className:"stat-label",children:[bt.home,"%"]}),M.jsxs("div",{className:"stat-label",children:[bt.draw,"%"]}),M.jsxs("div",{className:"stat-label",children:[bt.away,"%"]})]})]})]})]},F.id)})})]})]})]}):M.jsxs("div",{className:"chat-interface",children:[M.jsx("header",{className:"feed-header",children:M.jsxs("div",{className:"header-title",children:[M.jsx("h1",{children:"Ultras Forum"}),M.jsx("span",{children:"Live Community Chat"})]})}),M.jsxs("div",{className:"chat-messages",children:[D.map(F=>M.jsxs("div",{className:`message ${F.uid===y?.uid?"sent":"received"}`,children:[M.jsx("img",{src:F.photoURL,alt:"",className:"chat-avatar"}),M.jsxs("div",{className:"message-content",children:[M.jsx("span",{className:"msg-author",children:F.displayName}),M.jsx("p",{children:F.text})]})]},F.id)),M.jsx("div",{ref:_e})]}),M.jsxs("form",{onSubmit:fs,className:"chat-input-area",children:[M.jsx("input",{value:R,onChange:F=>ae(F.target.value),placeholder:y?"Type a message...":"Login to chat",disabled:!y||S}),M.jsx("button",{type:"submit",children:"SEND"})]})]})}),M.jsxs("aside",{className:"hype-zone",children:[M.jsx("div",{className:"user-card",children:y?M.jsxs("div",{className:"logged-in",children:[M.jsx("img",{src:y.photoURL,className:"avatar-img",alt:""}),M.jsxs("div",{children:[M.jsx("h4",{children:y.displayName}),M.jsx("button",{onClick:()=>sw(zd),children:"Log Out"})]})]}):M.jsx("button",{onClick:ds,className:"google-btn",children:"Login with Google"})}),M.jsxs("div",{className:"widget-box vote-box",children:[M.jsxs("div",{className:"widget-header",children:[M.jsx("h3",{children:"POTW"}),M.jsx("span",{className:"live-dot",children:"LIVE"})]}),M.jsx("div",{className:"vote-list",children:ut.map(F=>{const bt=ut.reduce((Qt,Ct)=>Qt+Ct.votes,0),mt=bt>0?Math.round(F.votes/bt*100):0;return M.jsxs("div",{className:`vote-item ${H?"voted":""}`,onClick:()=>Pi(F.id),children:[H&&M.jsx("div",{className:"vote-bar",style:{width:`${mt}%`}}),M.jsxs("div",{className:"vote-content-row",children:[M.jsx("span",{children:F.name}),H&&M.jsxs("span",{children:[mt,"%"]})]})]},F.id)})})]}),M.jsxs("div",{className:"widget-box news-box",children:[M.jsx("h3",{children:"LATEST DROPS"}),yt.map(F=>M.jsxs("div",{className:"news-item",children:[M.jsx("div",{className:"news-icon",children:F.img}),M.jsxs("div",{className:"news-content",children:[M.jsx("span",{className:`tag ${F.tag}`,children:F.tag}),M.jsx("p",{children:F.title})]})]},F.id))]})]})]}),M.jsx("button",{className:`forum-fab ${Q?"goal-pulse":""}`,onClick:()=>i("FORUM"),children:""})]})};DS.createRoot(document.getElementById("root")).render(M.jsx(me.StrictMode,{children:M.jsx(V2,{})}));
