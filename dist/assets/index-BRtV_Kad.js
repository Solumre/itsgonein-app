(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ed={exports:{}},ml={};var V_;function AS(){if(V_)return ml;V_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var M_;function SS(){return M_||(M_=1,Ed.exports=AS()),Ed.exports}var j=SS(),Td={exports:{}},Et={};var x_;function bS(){if(x_)return Et;x_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,$={};function ft(O,K,et){this.props=O,this.context=K,this.refs=$,this.updater=et||tt}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function vt(){}vt.prototype=ft.prototype;function mt(O,K,et){this.props=O,this.context=K,this.refs=$,this.updater=et||tt}var jt=mt.prototype=new vt;jt.constructor=mt,it(jt,ft.prototype),jt.isPureReactComponent=!0;var ne=Array.isArray;function Ut(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,K,et){var rt=et.ref;return{$$typeof:a,type:O,key:K,ref:rt!==void 0?rt:null,props:et}}function V(O,K){return I(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function ie(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function de(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ut,Ut):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,et,rt,pt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Nt=!1;if(O===null)Nt=!0;else switch(At){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(O.$$typeof){case a:case t:Nt=!0;break;case A:return Nt=O._init,H(Nt(O._payload),K,et,rt,pt)}}if(Nt)return pt=pt(O),Nt=rt===""?"."+ie(O,0):rt,ne(pt)?(et="",Nt!=null&&(et=Nt.replace(w,"$&/")+"/"),H(pt,K,et,"",function(zt){return zt})):pt!=null&&(N(pt)&&(pt=V(pt,et+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Nt)),K.push(pt)),1;Nt=0;var ye=rt===""?".":rt+":";if(ne(O))for(var F=0;F<O.length;F++)rt=O[F],At=ye+ie(rt,F),Nt+=H(rt,K,et,At,pt);else if(F=Y(O),typeof F=="function")for(O=F.call(O),F=0;!(rt=O.next()).done;)rt=rt.value,At=ye+ie(rt,F++),Nt+=H(rt,K,et,At,pt);else if(At==="object"){if(typeof O.then=="function")return H(de(O),K,et,rt,pt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function nt(O,K,et){if(O==null)return O;var rt=[],pt=0;return H(O,rt,"","",function(At){return K.call(et,At,pt++)}),rt}function ut(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Rt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:nt,forEach:function(O,K,et){nt(O,function(){K.apply(this,arguments)},et)},count:function(O){var K=0;return nt(O,function(){K++}),K},toArray:function(O){return nt(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=b,Et.Children=Gt,Et.Component=ft,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=mt,Et.StrictMode=r,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,K,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=it({},O.props),pt=O.key;if(K!=null)for(At in K.key!==void 0&&(pt=""+K.key),K)!S.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(rt[At]=K[At]);var At=arguments.length-2;if(At===1)rt.children=et;else if(1<At){for(var Nt=Array(At),ye=0;ye<At;ye++)Nt[ye]=arguments[ye+2];rt.children=Nt}return I(O.type,pt,rt)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,K,et){var rt,pt={},At=null;if(K!=null)for(rt in K.key!==void 0&&(At=""+K.key),K)S.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=K[rt]);var Nt=arguments.length-2;if(Nt===1)pt.children=et;else if(1<Nt){for(var ye=Array(Nt),F=0;F<Nt;F++)ye[F]=arguments[F+2];pt.children=ye}if(O&&O.defaultProps)for(rt in Nt=O.defaultProps,Nt)pt[rt]===void 0&&(pt[rt]=Nt[rt]);return I(O,At,pt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:p,render:O}},Et.isValidElement=N,Et.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},Et.memo=function(O,K){return{$$typeof:v,type:O,compare:K===void 0?null:K}},Et.startTransition=function(O){var K=C.T,et={};C.T=et;try{var rt=O(),pt=C.S;pt!==null&&pt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ut,Rt)}catch(At){Rt(At)}finally{K!==null&&et.types!==null&&(K.types=et.types),C.T=K}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(O){return C.H.use(O)},Et.useActionState=function(O,K,et){return C.H.useActionState(O,K,et)},Et.useCallback=function(O,K){return C.H.useCallback(O,K)},Et.useContext=function(O){return C.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},Et.useEffect=function(O,K){return C.H.useEffect(O,K)},Et.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(O,K,et){return C.H.useImperativeHandle(O,K,et)},Et.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},Et.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},Et.useMemo=function(O,K){return C.H.useMemo(O,K)},Et.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},Et.useReducer=function(O,K,et){return C.H.useReducer(O,K,et)},Et.useRef=function(O){return C.H.useRef(O)},Et.useState=function(O){return C.H.useState(O)},Et.useSyncExternalStore=function(O,K,et){return C.H.useSyncExternalStore(O,K,et)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.3",Et}var U_;function fm(){return U_||(U_=1,Td.exports=bS()),Td.exports}var Ae=fm(),Ad={exports:{}},gl={},Sd={exports:{}},bd={};var L_;function wS(){return L_||(L_=1,(function(a){function t(H,nt){var ut=H.length;H.push(nt);t:for(;0<ut;){var Rt=ut-1>>>1,Gt=H[Rt];if(0<l(Gt,nt))H[Rt]=nt,H[ut]=Gt,ut=Rt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var nt=H[0],ut=H.pop();if(ut!==nt){H[0]=ut;t:for(var Rt=0,Gt=H.length,O=Gt>>>1;Rt<O;){var K=2*(Rt+1)-1,et=H[K],rt=K+1,pt=H[rt];if(0>l(et,ut))rt<Gt&&0>l(pt,et)?(H[Rt]=pt,H[rt]=ut,Rt=rt):(H[Rt]=et,H[K]=ut,Rt=K);else if(rt<Gt&&0>l(pt,ut))H[Rt]=pt,H[rt]=ut,Rt=rt;else break t}}return nt}function l(H,nt){var ut=H.sortIndex-nt.sortIndex;return ut!==0?ut:H.id-nt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var y=[],v=[],A=1,b=null,M=3,Y=!1,tt=!1,it=!1,$=!1,ft=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function jt(H){for(var nt=i(v);nt!==null;){if(nt.callback===null)r(v);else if(nt.startTime<=H)r(v),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(v)}}function ne(H){if(it=!1,jt(H),!tt)if(i(y)!==null)tt=!0,Ut||(Ut=!0,U());else{var nt=i(v);nt!==null&&de(ne,nt.startTime-H)}}var Ut=!1,C=-1,S=5,I=-1;function V(){return $?!0:!(a.unstable_now()-I<S)}function N(){if($=!1,Ut){var H=a.unstable_now();I=H;var nt=!0;try{t:{tt=!1,it&&(it=!1,vt(C),C=-1),Y=!0;var ut=M;try{e:{for(jt(H),b=i(y);b!==null&&!(b.expirationTime>H&&V());){var Rt=b.callback;if(typeof Rt=="function"){b.callback=null,M=b.priorityLevel;var Gt=Rt(b.expirationTime<=H);if(H=a.unstable_now(),typeof Gt=="function"){b.callback=Gt,jt(H),nt=!0;break e}b===i(y)&&r(y),jt(H)}else r(y);b=i(y)}if(b!==null)nt=!0;else{var O=i(v);O!==null&&de(ne,O.startTime-H),nt=!1}}break t}finally{b=null,M=ut,Y=!1}nt=void 0}}finally{nt?U():Ut=!1}}}var U;if(typeof mt=="function")U=function(){mt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=N,U=function(){ie.postMessage(null)}}else U=function(){ft(N,0)};function de(H,nt){C=ft(function(){H(a.unstable_now())},nt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_next=function(H){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ut=M;M=nt;try{return H()}finally{M=ut}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=M;M=H;try{return nt()}finally{M=ut}},a.unstable_scheduleCallback=function(H,nt,ut){var Rt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Rt+ut:Rt):ut=Rt,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ut+Gt,H={id:A++,callback:nt,priorityLevel:H,startTime:ut,expirationTime:Gt,sortIndex:-1},ut>Rt?(H.sortIndex=ut,t(v,H),i(y)===null&&H===i(v)&&(it?(vt(C),C=-1):it=!0,de(ne,ut-Rt))):(H.sortIndex=Gt,t(y,H),tt||Y||(tt=!0,Ut||(Ut=!0,U()))),H},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(H){var nt=M;return function(){var ut=M;M=nt;try{return H.apply(this,arguments)}finally{M=ut}}}})(bd)),bd}var P_;function RS(){return P_||(P_=1,Sd.exports=wS()),Sd.exports}var wd={exports:{}},en={};var k_;function IS(){if(k_)return en;k_=1;var a=fm();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,A)},en.flushSync=function(y){var v=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=v,r.p=A,r.d.f()}},en.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},en.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},en.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:M,fetchPriority:Y}):A==="script"&&r.d.X(y,{crossOrigin:b,integrity:M,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},en.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},en.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin);r.d.L(y,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},en.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=p(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},en.requestFormReset=function(y){r.d.r(y)},en.unstable_batchedUpdates=function(y,v){return y(v)},en.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.3",en}var z_;function CS(){if(z_)return wd.exports;z_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),wd.exports=IS(),wd.exports}var j_;function NS(){if(j_)return gl;j_=1;var a=RS(),t=fm(),i=CS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,M=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ft:return"Profiler";case $:return"StrictMode";case ne:return"Suspense";case Ut:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case mt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var de=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Rt=[],Gt=-1;function O(e){return{current:e}}function K(e){0>Gt||(e.current=Rt[Gt],Rt[Gt]=null,Gt--)}function et(e,n){Gt++,Rt[Gt]=e.current,e.current=n}var rt=O(null),pt=O(null),At=O(null),Nt=O(null);function ye(e,n){switch(et(At,n),et(pt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?e_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=e_(n),e=n_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),et(rt,e)}function F(){K(rt),K(pt),K(At)}function zt(e){e.memoizedState!==null&&et(Nt,e);var n=rt.current,s=n_(n,e.type);n!==s&&(et(pt,e),et(rt,s))}function Bt(e){pt.current===e&&(K(rt),K(pt)),Nt.current===e&&(K(Nt),cl._currentValue=ut)}var Pe,he;function Lt(e){if(Pe===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Pe=n&&n[1]||"",he=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+e+he}var Fe=!1;function on(e,n){if(!e||Fe)return"";Fe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){z=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),k=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Fe=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Lt(s):""}function Kt(e,n){switch(e.tag){case 26:case 27:case 5:return Lt(e.type);case 16:return Lt("Lazy");case 13:return e.child!==n&&n!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return on(e.type,!1);case 11:return on(e.type.render,!1);case 1:return on(e.type,!0);case 31:return Lt("Activity");default:return""}}function me(e){try{var n="",s=null;do n+=Kt(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var we=Object.prototype.hasOwnProperty,ke=a.unstable_scheduleCallback,fs=a.unstable_cancelCallback,Th=a.unstable_shouldYield,Yl=a.unstable_requestPaint,ln=a.unstable_now,ur=a.unstable_getCurrentPriorityLevel,fo=a.unstable_ImmediatePriority,mo=a.unstable_UserBlockingPriority,ds=a.unstable_NormalPriority,Ah=a.unstable_LowPriority,Kl=a.unstable_IdlePriority,Xl=a.log,Zl=a.unstable_setDisableYieldValue,Gn=null,Qe=null;function Nn(e){if(typeof Xl=="function"&&Zl(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Gn,e)}catch{}}var _e=Math.clz32?Math.clz32:$l,Jl=Math.log,ta=Math.LN2;function $l(e){return e>>>=0,e===0?32:31-(Jl(e)/ta|0)|0}var li=256,cr=262144,Re=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ui(o):(g&=E,g!==0?h=ui(g):s||(s=E&~e,s!==0&&(h=ui(s))))):(E=o&~f,E!==0?h=ui(E):g!==0?h=ui(g):s||(s=o&~e,s!==0&&(h=ui(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Sh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(){var e=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),e}function hi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,k=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-_e(s),X=1<<G;E[G]=0,R[G]=-1;var z=k[G];if(z!==null)for(k[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}s&=~X}o!==0&&fr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function fr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function go(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-_e(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function po(e,n){var s=n&-n;return s=(s&42)!==0?1:dr(s),(s&(e.suspendedLanes|n))!==0?0:s}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:w_(e.type))}function Qn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Yn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Yn,Be="__reactProps$"+Yn,fi="__reactContainer$"+Yn,ea="__reactEvents$"+Yn,wh="__reactListeners$"+Yn,eu="__reactHandles$"+Yn,nu="__reactResources$"+Yn,di="__reactMarker$"+Yn;function na(e){delete e[Ie],delete e[Be],delete e[ea],delete e[wh],delete e[eu]}function mi(e){var n=e[Ie];if(n)return n;for(var s=e.parentNode;s;){if(n=s[fi]||s[Ie]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=u_(e);e!==null;){if(s=e[Ie])return s;e=u_(e)}return n}e=s,s=e.parentNode}return null}function Dn(e){if(e=e[Ie]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function En(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function gi(e){var n=e[nu];return n||(n=e[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(e){e[di]=!0}var yo=new Set,_o={};function pi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(_o[e]=n,e=0;e<n.length;e++)yo.add(n[e])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function iu(e){return we.call(To,e)?!0:we.call(Eo,e)?!1:vo.test(e)?To[e]=!0:(Eo[e]=!0,!1)}function ia(e,n,s){if(iu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Tn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ne(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ms(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ao(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xt(e){if(!e._valueTracker){var n=ms(e)?"checked":"value";e._valueTracker=Ao(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ms(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function fn(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?So(e,g,qe(n)):s!=null?So(e,g,qe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+qe(E):e.removeAttribute("name")}function su(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(e);return}s=s!=null?""+qe(s):"",n=n!=null?""+qe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Xt(e)}function So(e,n,s){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function gs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+qe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ru(e,n,s){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qe(s):""}function ps(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(de(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=qe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Xt(e)}function dn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||au.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wo(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&bo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&bo(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return ys.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Ro=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,vi=null;function pr(e){var n=Dn(e);if(n&&(e=n.stateNode)){var s=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(sa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Be]||null;if(!h)throw Error(r(90));sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&mr(o)}break t;case"textarea":ru(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&gs(e,!!s.multiple,n,!1)}}}var oa=!1;function vs(e,n,s){if(oa)return e(n,s);oa=!0;try{var o=e(n);return o}finally{if(oa=!1,(_s!==null||vi!==null)&&(tc(),_s&&(n=_s,e=vi,vi=_s=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Xn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Be]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Vn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){yr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{yr=!1}var Ei=null,Io=null,_r=null;function Co(){if(_r)return _r;var e,n=Io,s=n.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return _r=h.slice(e,1<o?1-o:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Zn(){return!1}function Ye(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Zn,this.isPropagationStopped=Zn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ye(ji),Es=b({},ji,{view:0,detail:0}),No=Ye(Es),Ts,la,Ai,ua=b({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(Ts=e.screenX-Ai.screenX,la=e.screenY-Ai.screenY):la=Ts=0,Ai=e),Ts)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Do=Ye(ua),Er=b({},ua,{dataTransfer:0}),lu=Ye(Er),uu=b({},Es,{relatedTarget:0}),Tr=Ye(uu),Oo=b({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),cu=Ye(Oo),ca=b({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hu=Ye(ca),fu=b({},ji,{data:0}),Si=Ye(fu),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gu[e])?!!n[e]:!1}function As(){return pu}var un=b({},Es,{key:function(e){if(e.key){var n=du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yu=Ye(un),_u=b({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Ye(_u),u=b({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),m=Ye(u),_=b({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ye(_),L=b({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ye(L),W=b({},ji,{newState:0,oldState:0}),St=Ye(W),ve=[9,13,27,32],Ft=Vn&&"CompositionEvent"in window,ue=null;Vn&&"documentMode"in document&&(ue=document.documentMode);var Mn=Vn&&"TextEvent"in window&&!ue,bi=Vn&&(!Ft||ue&&8<ue&&11>=ue),Jn=" ",$n=!1;function Ar(e,n){switch(e){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function Q0(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:($n=!0,Jn);case"textInput":return e=n.data,e===Jn&&$n?null:e;default:return null}}function Y0(e,n){if(fa)return e==="compositionend"||!Ft&&Ar(e,n)?(e=Co(),_r=Io=Ei=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!K0[e.type]:n==="textarea"}function dg(e,n,s,o){_s?vi?vi.push(o):vi=[o]:_s=o,n=oc(n,"onChange"),0<n.length&&(s=new Ti("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Vo=null,Mo=null;function X0(e){Xy(e,0)}function vu(e){var n=En(e);if(mr(n))return e}function mg(e,n){if(e==="change")return n}var gg=!1;if(Vn){var Rh;if(Vn){var Ih="oninput"in document;if(!Ih){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Ih=typeof pg.oninput=="function"}Rh=Ih}else Rh=!1;gg=Rh&&(!document.documentMode||9<document.documentMode)}function yg(){Vo&&(Vo.detachEvent("onpropertychange",_g),Mo=Vo=null)}function _g(e){if(e.propertyName==="value"&&vu(Mo)){var n=[];dg(n,Mo,e,On(e)),vs(X0,n)}}function Z0(e,n,s){e==="focusin"?(yg(),Vo=n,Mo=s,Vo.attachEvent("onpropertychange",_g)):e==="focusout"&&yg()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(Mo)}function $0(e,n){if(e==="click")return vu(n)}function W0(e,n){if(e==="input"||e==="change")return vu(n)}function tA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:tA;function xo(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!we.call(n,h)||!An(e[h],n[h]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,n){var s=vg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=vg(s)}}function Tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=_i(e.document)}return n}function Ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var eA=Vn&&"documentMode"in document&&11>=document.documentMode,da=null,Nh=null,Uo=null,Dh=!1;function Sg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Dh||da==null||da!==_i(o)||(o=da,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&xo(Uo,o)||(Uo=o,o=oc(Nh,"onSelect"),0<o.length&&(n=new Ti("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=da)))}function Sr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ma={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Oh={},bg={};Vn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function br(e){if(Oh[e])return Oh[e];if(!ma[e])return e;var n=ma[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in bg)return Oh[e]=n[s];return e}var wg=br("animationend"),Rg=br("animationiteration"),Ig=br("animationstart"),nA=br("transitionrun"),iA=br("transitionstart"),sA=br("transitioncancel"),Cg=br("transitionend"),Ng=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Wn(e,n){Ng.set(e,n),pi(n,[e])}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],ga=0,Mh=0;function Tu(){for(var e=ga,n=Mh=ga=0;n<e;){var s=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Dg(s,h,f)}}function Au(e,n,s,o){xn[ga++]=e,xn[ga++]=n,xn[ga++]=s,xn[ga++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,s,o){return Au(e,n,s,o),Su(e)}function wr(e,n){return Au(e,null,null,n),Su(e)}function Dg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Su(e){if(50<il)throw il=0,Gf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function rA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,s,o){return new rA(e,n,s,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var s=e.alternate;return s===null?(s=Sn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Og(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Uh(e)&&(g=1);else if(typeof e=="string")g=cS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Sn(31,s,n,h),e.elementType=I,e.lanes=f,e;case it:return Rr(s.children,h,f,n);case $:g=8,h|=24;break;case ft:return e=Sn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case ne:return e=Sn(13,s,n,h),e.elementType=ne,e.lanes=f,e;case Ut:return e=Sn(19,s,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case vt:g=9;break t;case jt:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rr(e,n,s,o){return e=Sn(7,e,o,n),e.lanes=s,e}function Lh(e,n,s){return e=Sn(6,e,null,n),e.lanes=s,e}function Vg(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Ph(e,n,s){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mg=new WeakMap;function Un(e,n){if(typeof e=="object"&&e!==null){var s=Mg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:me(n)},Mg.set(e,n),n)}return{value:e,source:n,stack:me(n)}}var ya=[],_a=0,wu=null,Lo=0,Ln=[],Pn=0,Ss=null,wi=1,Ri="";function Hi(e,n){ya[_a++]=Lo,ya[_a++]=wu,wu=e,Lo=n}function xg(e,n,s){Ln[Pn++]=wi,Ln[Pn++]=Ri,Ln[Pn++]=Ss,Ss=e;var o=wi;e=Ri;var h=32-_e(o)-1;o&=~(1<<h),s+=1;var f=32-_e(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,wi=1<<32-_e(n)+h|s<<h|o,Ri=f+e}else wi=1<<f|s<<h|o,Ri=e}function kh(e){e.return!==null&&(Hi(e,1),xg(e,1,0))}function zh(e){for(;e===wu;)wu=ya[--_a],ya[_a]=null,Lo=ya[--_a],ya[_a]=null;for(;e===Ss;)Ss=Ln[--Pn],Ln[Pn]=null,Ri=Ln[--Pn],Ln[Pn]=null,wi=Ln[--Pn],Ln[Pn]=null}function Ug(e,n){Ln[Pn++]=wi,Ln[Pn++]=Ri,Ln[Pn++]=Ss,wi=n.id,Ri=n.overflow,Ss=e}var Ke=null,ae=null,Pt=!1,bs=null,kn=!1,jh=Error(r(519));function ws(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Un(n,e)),jh}function Lg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ie]=e,n[Be]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<rl.length;s++)Ct(rl[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),su(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ps(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Wy(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||ws(e,!0)}function Pg(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ke=Ke.return}}function va(e){if(e!==Ke)return!1;if(!Pt)return Pg(e),Pt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||rd(e.type,e.memoizedProps)),s=!s),s&&ae&&ws(e),Pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=l_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=l_(e)}else n===27?(n=ae,zs(e.type)?(e=cd,cd=null,ae=e):ae=n):ae=Ke?jn(e.stateNode.nextSibling):null;return!0}function Ir(){ae=Ke=null,Pt=!1}function Bh(){var e=bs;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),bs=null),e}function Po(e){bs===null?bs=[e]:bs.push(e)}var qh=O(null),Cr=null,Gi=null;function Rs(e,n,s){et(qh,n._currentValue),n._currentValue=s}function Fi(e){e._currentValue=qh.current,K(qh)}function Hh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Gh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Hh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Hh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ea(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;An(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Nt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Gh(n,e,s,o),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){Cr=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return kg(Cr,e)}function Iu(e,n){return Cr===null&&Nr(e),kg(e,n)}function kg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Gi===null){if(e===null)throw Error(r(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return s}var aA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},oA=a.unstable_scheduleCallback,lA=a.unstable_NormalPriority,De={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new aA,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&oA(lA,function(){e.controller.abort()})}var zo=null,Qh=0,Ta=0,Aa=null;function uA(e,n){if(zo===null){var s=zo=[];Qh=0,Ta=Zf(),Aa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Qh++,n.then(zg,zg),n}function zg(){if(--Qh===0&&zo!==null){Aa!==null&&(Aa.status="fulfilled");var e=zo;zo=null,Ta=0,Aa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function cA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var jg=H.S;H.S=function(e,n){Sy=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&uA(e,n),jg!==null&&jg(e,n)};var Dr=O(null);function Yh(){var e=Dr.current;return e!==null?e:se.pooledCache}function Cu(e,n){n===null?et(Dr,Dr.current):et(Dr,n.pool)}function Bg(){var e=Yh();return e===null?null:{parent:De._currentValue,pool:e}}var Sa=Error(r(460)),Kh=Error(r(474)),Nu=Error(r(542)),Du={then:function(){}};function qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Kn,Kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e}throw Vr=n,Sa}}function Or(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vr=s,Sa):s}}var Vr=null;function Gg(){if(Vr===null)throw Error(r(459));var e=Vr;return Vr=null,e}function Fg(e){if(e===Sa||e===Nu)throw Error(r(483))}var ba=null,jo=0;function Ou(e){var n=jo;return jo+=1,ba===null&&(ba=[]),Hg(ba,e,n)}function Bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qg(e){function n(x,D){if(e){var P=x.deletions;P===null?(x.deletions=[D],x.flags|=16):P.push(D)}}function s(x,D){if(!e)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function o(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function h(x,D){return x=qi(x,D),x.index=0,x.sibling=null,x}function f(x,D,P){return x.index=P,e?(P=x.alternate,P!==null?(P=P.index,P<D?(x.flags|=67108866,D):P):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,P,Q){return D===null||D.tag!==6?(D=Lh(P,x.mode,Q),D.return=x,D):(D=h(D,P),D.return=x,D)}function R(x,D,P,Q){var ct=P.type;return ct===it?G(x,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Or(ct)===D.type)?(D=h(D,P.props),Bo(D,P),D.return=x,D):(D=bu(P.type,P.key,P.props,null,x.mode,Q),Bo(D,P),D.return=x,D)}function k(x,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Ph(P,x.mode,Q),D.return=x,D):(D=h(D,P.children||[]),D.return=x,D)}function G(x,D,P,Q,ct){return D===null||D.tag!==7?(D=Rr(P,x.mode,Q,ct),D.return=x,D):(D=h(D,P),D.return=x,D)}function X(x,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Lh(""+D,x.mode,P),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return P=bu(D.type,D.key,D.props,null,x.mode,P),Bo(P,D),P.return=x,P;case tt:return D=Ph(D,x.mode,P),D.return=x,D;case S:return D=Or(D),X(x,D,P)}if(de(D)||U(D))return D=Rr(D,x.mode,P,null),D.return=x,D;if(typeof D.then=="function")return X(x,Ou(D),P);if(D.$$typeof===mt)return X(x,Iu(x,D),P);Vu(x,D)}return null}function z(x,D,P,Q){var ct=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(x,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:return P.key===ct?R(x,D,P,Q):null;case tt:return P.key===ct?k(x,D,P,Q):null;case S:return P=Or(P),z(x,D,P,Q)}if(de(P)||U(P))return ct!==null?null:G(x,D,P,Q,null);if(typeof P.then=="function")return z(x,D,Ou(P),Q);if(P.$$typeof===mt)return z(x,D,Iu(x,P),Q);Vu(x,P)}return null}function q(x,D,P,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(P)||null,E(D,x,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return x=x.get(Q.key===null?P:Q.key)||null,R(D,x,Q,ct);case tt:return x=x.get(Q.key===null?P:Q.key)||null,k(D,x,Q,ct);case S:return Q=Or(Q),q(x,D,P,Q,ct)}if(de(Q)||U(Q))return x=x.get(P)||null,G(D,x,Q,ct,null);if(typeof Q.then=="function")return q(x,D,P,Ou(Q),ct);if(Q.$$typeof===mt)return q(x,D,P,Iu(D,Q),ct);Vu(D,Q)}return null}function ot(x,D,P,Q){for(var ct=null,qt=null,lt=D,wt=D=0,Ot=null;lt!==null&&wt<P.length;wt++){lt.index>wt?(Ot=lt,lt=null):Ot=lt.sibling;var Ht=z(x,lt,P[wt],Q);if(Ht===null){lt===null&&(lt=Ot);break}e&&lt&&Ht.alternate===null&&n(x,lt),D=f(Ht,D,wt),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht,lt=Ot}if(wt===P.length)return s(x,lt),Pt&&Hi(x,wt),ct;if(lt===null){for(;wt<P.length;wt++)lt=X(x,P[wt],Q),lt!==null&&(D=f(lt,D,wt),qt===null?ct=lt:qt.sibling=lt,qt=lt);return Pt&&Hi(x,wt),ct}for(lt=o(lt);wt<P.length;wt++)Ot=q(lt,x,wt,P[wt],Q),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?wt:Ot.key),D=f(Ot,D,wt),qt===null?ct=Ot:qt.sibling=Ot,qt=Ot);return e&&lt.forEach(function(Gs){return n(x,Gs)}),Pt&&Hi(x,wt),ct}function dt(x,D,P,Q){if(P==null)throw Error(r(151));for(var ct=null,qt=null,lt=D,wt=D=0,Ot=null,Ht=P.next();lt!==null&&!Ht.done;wt++,Ht=P.next()){lt.index>wt?(Ot=lt,lt=null):Ot=lt.sibling;var Gs=z(x,lt,Ht.value,Q);if(Gs===null){lt===null&&(lt=Ot);break}e&&lt&&Gs.alternate===null&&n(x,lt),D=f(Gs,D,wt),qt===null?ct=Gs:qt.sibling=Gs,qt=Gs,lt=Ot}if(Ht.done)return s(x,lt),Pt&&Hi(x,wt),ct;if(lt===null){for(;!Ht.done;wt++,Ht=P.next())Ht=X(x,Ht.value,Q),Ht!==null&&(D=f(Ht,D,wt),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return Pt&&Hi(x,wt),ct}for(lt=o(lt);!Ht.done;wt++,Ht=P.next())Ht=q(lt,x,wt,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&lt.delete(Ht.key===null?wt:Ht.key),D=f(Ht,D,wt),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return e&&lt.forEach(function(TS){return n(x,TS)}),Pt&&Hi(x,wt),ct}function ee(x,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:t:{for(var ct=P.key;D!==null;){if(D.key===ct){if(ct=P.type,ct===it){if(D.tag===7){s(x,D.sibling),Q=h(D,P.props.children),Q.return=x,x=Q;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Or(ct)===D.type){s(x,D.sibling),Q=h(D,P.props),Bo(Q,P),Q.return=x,x=Q;break t}s(x,D);break}else n(x,D);D=D.sibling}P.type===it?(Q=Rr(P.props.children,x.mode,Q,P.key),Q.return=x,x=Q):(Q=bu(P.type,P.key,P.props,null,x.mode,Q),Bo(Q,P),Q.return=x,x=Q)}return g(x);case tt:t:{for(ct=P.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(x,D.sibling),Q=h(D,P.children||[]),Q.return=x,x=Q;break t}else{s(x,D);break}else n(x,D);D=D.sibling}Q=Ph(P,x.mode,Q),Q.return=x,x=Q}return g(x);case S:return P=Or(P),ee(x,D,P,Q)}if(de(P))return ot(x,D,P,Q);if(U(P)){if(ct=U(P),typeof ct!="function")throw Error(r(150));return P=ct.call(P),dt(x,D,P,Q)}if(typeof P.then=="function")return ee(x,D,Ou(P),Q);if(P.$$typeof===mt)return ee(x,D,Iu(x,P),Q);Vu(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(x,D.sibling),Q=h(D,P),Q.return=x,x=Q):(s(x,D),Q=Lh(P,x.mode,Q),Q.return=x,x=Q),g(x)):s(x,D)}return function(x,D,P,Q){try{jo=0;var ct=ee(x,D,P,Q);return ba=null,ct}catch(lt){if(lt===Sa||lt===Nu)throw lt;var qt=Sn(29,lt,null,x.mode);return qt.lanes=Q,qt.return=x,qt}}}var Mr=Qg(!0),Yg=Qg(!1),Is=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Su(e),Dg(e,null,s),n}return Au(e,o,n,s),Su(e)}function qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}function Jh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $h=!1;function Ho(){if($h){var e=Aa;if(e!==null)throw e}}function Go(e,n,s,o){$h=!1;var h=e.updateQueue;Is=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,k=R.next;R.next=null,g===null?f=k:g.next=k,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=k:E.next=k,G.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,G=k=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Dt&z)===z:(o&z)===z){z!==0&&z===Ta&&($h=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,dt=E;z=n;var ee=s;switch(dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){X=ot.call(ee,X,z);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,z=typeof ot=="function"?ot.call(ee,X,z):ot,z==null)break t;X=b({},X,z);break t;case 2:Is=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(k=G=q,R=X):G=G.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=X),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),xs|=g,e.lanes=g,e.memoizedState=X}}function Kg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Xg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Kg(s[e],n)}var wa=O(null),Mu=O(0);function Zg(e,n){e=ts,et(Mu,e),et(wa,n),ts=e|n.baseLanes}function Wh(){et(Mu,ts),et(wa,wa.current)}function tf(){ts=Mu.current,K(wa),K(Mu)}var bn=O(null),zn=null;function Ds(e){var n=e.alternate;et(Ee,Ee.current&1),et(bn,e),zn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(zn=e)}function ef(e){et(Ee,Ee.current),et(bn,e),zn===null&&(zn=e)}function Jg(e){e.tag===22?(et(Ee,Ee.current),et(bn,e),zn===null&&(zn=e)):Os()}function Os(){et(Ee,Ee.current),et(bn,bn.current)}function wn(e){K(bn),zn===e&&(zn=null),K(Ee)}var Ee=O(0);function xu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ld(s)||ud(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,bt=null,Wt=null,Oe=null,Uu=!1,Ra=!1,xr=!1,Lu=0,Fo=0,Ia=null,hA=0;function ge(){throw Error(r(321))}function nf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!An(e[s],n[s]))return!1;return!0}function sf(e,n,s,o,h,f){return Qi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?xp:vf,xr=!1,f=s(o,h),xr=!1,Ra&&(f=Wg(n,s,o,h)),$g(e),f}function $g(e){H.H=Ko;var n=Wt!==null&&Wt.next!==null;if(Qi=0,Oe=Wt=bt=null,Uu=!1,Fo=0,Ia=null,n)throw Error(r(300));e===null||Ve||(e=e.dependencies,e!==null&&Ru(e)&&(Ve=!0))}function Wg(e,n,s,o){bt=e;var h=0;do{if(Ra&&(Ia=null),Fo=0,Ra=!1,25<=h)throw Error(r(301));if(h+=1,Oe=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Up,f=n(s,o)}while(Ra);return f}function fA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(bt.flags|=1024),n}function rf(){var e=Lu!==0;return Lu=0,e}function af(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function of(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}Qi=0,Oe=Wt=bt=null,Ra=!1,Fo=Lu=0,Ia=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?bt.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Te(){if(Wt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Oe===null?bt.memoizedState:Oe.next;if(n!==null)Oe=n,Wt=e;else{if(e===null)throw bt.alternate===null?Error(r(467)):Error(r(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Oe===null?bt.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Fo;return Fo+=1,Ia===null&&(Ia=[]),e=Hg(Ia,e,n),n=bt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?xp:vf),e}function ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===mt)return Xe(e)}throw Error(r(438,String(e)))}function lf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Yi(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=Te();return uf(n,Wt,e)}function uf(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,k=n,G=!1;do{var X=k.lane&-536870913;if(X!==k.lane?(Dt&X)===X:(Qi&X)===X){var z=k.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),X===Ta&&(G=!0);else if((Qi&z)===z){k=k.next,z===Ta&&(G=!0);continue}else X={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=X,g=f):R=R.next=X,bt.lanes|=z,xs|=z;X=k.action,xr&&s(f,X),f=k.hasEagerState?k.eagerState:s(f,X)}else z={lane:X,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,bt.lanes|=X,xs|=X;k=k.next}while(k!==null&&k!==n);if(R===null?g=f:R.next=E,!An(f,e.memoizedState)&&(Ve=!0,G&&(s=Aa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cf(e){var n=Te(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function tp(e,n,s){var o=bt,h=Te(),f=Pt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!An((Wt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ve=!0),h=h.queue,df(ip.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Oe!==null&&Oe.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},np.bind(null,o,h,s,n),null),se===null)throw Error(r(349));f||(Qi&127)!==0||ep(o,n,s)}return s}function ep(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Pu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function np(e,n,s,o){n.value=s,n.getSnapshot=o,sp(n)&&rp(e)}function ip(e,n,s){return s(function(){sp(n)&&rp(e)})}function sp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!An(e,s)}catch{return!0}}function rp(e){var n=wr(e,2);n!==null&&_n(n,e,2)}function hf(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),xr){Nn(!0);try{s()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},n}function ap(e,n,s,o){return e.baseState=s,uf(e,Wt,typeof o=="function"?o:Yi)}function dA(e,n,s,o,h){if(qu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,op(n,f)):(f.next=s.next,n.pending=s.next=f)}}function op(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,o),R=H.S;R!==null&&R(g,E),lp(e,n,E)}catch(k){ff(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),lp(e,n,f)}catch(k){ff(e,n,k)}}function lp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){up(e,n,o)},function(o){return ff(e,n,o)}):up(e,n,s)}function up(e,n,s){n.status="fulfilled",n.value=s,cp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,op(e,s)))}function ff(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,cp(n),n=n.next;while(n!==o)}e.action=null}function cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function hp(e,n){return n}function fp(e,n){if(Pt){var s=se.formState;if(s!==null){t:{var o=bt;if(Pt){if(ae){e:{for(var h=ae,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=jn(h.nextSibling),o=h.data==="F!";break t}}ws(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:n},s.queue=o,s=Op.bind(null,bt,o),o.dispatch=s,o=hf(!1),f=_f.bind(null,bt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=dA.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function dp(e){var n=Te();return mp(n,Wt,e)}function mp(e,n,s){if(n=uf(e,n,hp)[0],e=zu(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(g){throw g===Sa?Nu:g}else o=n;n=Te();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Ca(9,{destroy:void 0},mA.bind(null,h,s),null)),[o,f,e]}function mA(e,n){e.action=n}function gp(e){var n=Te(),s=Wt;if(s!==null)return mp(n,s,e);Te(),n=n.memoizedState,s=Te();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ca(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Pu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function pp(){return Te().memoizedState}function ju(e,n,s,o){var h=cn();bt.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},s,o===void 0?null:o)}function Bu(e,n,s,o){var h=Te();o=o===void 0?null:o;var f=h.memoizedState.inst;Wt!==null&&o!==null&&nf(o,Wt.memoizedState.deps)?h.memoizedState=Ca(n,f,s,o):(bt.flags|=e,h.memoizedState=Ca(1|n,f,s,o))}function yp(e,n){ju(8390656,8,e,n)}function df(e,n){Bu(2048,8,e,n)}function gA(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Pu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function _p(e){var n=Te().memoizedState;return gA({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function vp(e,n){return Bu(4,2,e,n)}function Ep(e,n){return Bu(4,4,e,n)}function Tp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,s){s=s!=null?s.concat([e]):null,Bu(4,4,Tp.bind(null,n,e),s)}function mf(){}function Sp(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&nf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function bp(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&nf(n,o[1]))return o[0];if(o=e(),xr){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[o,n],o}function gf(e,n,s){return s===void 0||(Qi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=wy(),bt.lanes|=e,xs|=e,s)}function wp(e,n,s,o){return An(s,n)?s:wa.current!==null?(e=gf(e,s,o),An(e,n)||(Ve=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Dt&261930)===0?(Ve=!0,e.memoizedState=s):(e=wy(),bt.lanes|=e,xs|=e,n)}function Rp(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,_f(e,!1,n,s);try{var R=h(),k=H.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=cA(R,o);Yo(e,n,G,Cn(e))}else Yo(e,n,o,Cn(e))}catch(X){Yo(e,n,{then:function(){},status:"rejected",reason:X},Cn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function pA(){}function pf(e,n,s,o){if(e.tag!==5)throw Error(r(476));var h=Ip(e).queue;Rp(e,h,n,ut,s===null?pA:function(){return Cp(e),s(o)})}function Ip(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cp(e){var n=Ip(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},Cn())}function yf(){return Xe(cl)}function Np(){return Te().memoizedState}function Dp(){return Te().memoizedState}function yA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Cn();e=Cs(s);var o=Ns(n,e,s);o!==null&&(_n(o,n,s),qo(o,n,s)),n={cache:Fh()},e.payload=n;return}n=n.return}}function _A(e,n,s){var o=Cn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},qu(e)?Vp(n,s):(s=xh(e,n,s,o),s!==null&&(_n(s,e,o),Mp(s,n,o)))}function Op(e,n,s){var o=Cn();Yo(e,n,s,o)}function Yo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(qu(e))Vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,An(E,g))return Au(e,n,h,0),se===null&&Tu(),!1}catch{}if(s=xh(e,n,h,o),s!==null)return _n(s,e,o),Mp(s,n,o),!0}return!1}function _f(e,n,s,o){if(o={lane:2,revertLane:Zf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qu(e)){if(n)throw Error(r(479))}else n=xh(e,s,o,2),n!==null&&_n(n,e,2)}function qu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Vp(e,n){Ra=Uu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Mp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}var Ko={readContext:Xe,use:ku,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};Ko.useEffectEvent=ge;var xp={readContext:Xe,use:ku,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:yp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ju(4194308,4,Tp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var o=e();if(xr){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=cn();if(s!==void 0){var h=s(n);if(xr){Nn(!0);try{s(n)}finally{Nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=_A.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=hf(e);var n=e.queue,s=Op.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:mf,useDeferredValue:function(e,n){var s=cn();return gf(s,e,n)},useTransition:function(){var e=hf(!1);return e=Rp.bind(null,bt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=cn();if(Pt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),se===null)throw Error(r(349));(Dt&127)!==0||ep(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,yp(ip.bind(null,o,f,e),[e]),o.flags|=2048,Ca(9,{destroy:void 0},np.bind(null,o,f,s,n),null),s},useId:function(){var e=cn(),n=se.identifierPrefix;if(Pt){var s=Ri,o=wi;s=(o&~(1<<32-_e(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Lu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=hA++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yf,useFormState:fp,useActionState:fp,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=_f.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:lf,useCacheRefresh:function(){return cn().memoizedState=yA.bind(null,bt)},useEffectEvent:function(e){var n=cn(),s={impl:e};return n.memoizedState=s,function(){if((Qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},vf={readContext:Xe,use:ku,useCallback:Sp,useContext:Xe,useEffect:df,useImperativeHandle:Ap,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:bp,useReducer:zu,useRef:pp,useState:function(){return zu(Yi)},useDebugValue:mf,useDeferredValue:function(e,n){var s=Te();return wp(s,Wt.memoizedState,e,n)},useTransition:function(){var e=zu(Yi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:yf,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var s=Te();return ap(s,Wt,e,n)},useMemoCache:lf,useCacheRefresh:Dp};vf.useEffectEvent=_p;var Up={readContext:Xe,use:ku,useCallback:Sp,useContext:Xe,useEffect:df,useImperativeHandle:Ap,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:bp,useReducer:cf,useRef:pp,useState:function(){return cf(Yi)},useDebugValue:mf,useDeferredValue:function(e,n){var s=Te();return Wt===null?gf(s,e,n):wp(s,Wt.memoizedState,e,n)},useTransition:function(){var e=cf(Yi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:yf,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var s=Te();return Wt!==null?ap(s,Wt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Dp};Up.useEffectEvent=_p;function Ef(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Cn(),h=Cs(o);h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,o),n!==null&&(_n(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Cn(),h=Cs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,o),n!==null&&(_n(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Cn(),o=Cs(s);o.tag=2,n!=null&&(o.callback=n),n=Ns(e,o,s),n!==null&&(_n(n,e,s),qo(n,e,s))}};function Lp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!xo(s,o)||!xo(h,f):!0}function Pp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Tf.enqueueReplaceState(n,n.state,null)}function Ur(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function kp(e){Eu(e)}function zp(e){console.error(e)}function jp(e){Eu(e)}function Hu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Bp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(e,n,s){return s=Cs(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(e,n)},s}function qp(e){return e=Cs(e),e.tag=3,e}function Hp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Bp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Bp(n,s,o),typeof h!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function vA(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ea(n,s,h,!0),s=bn.current,s!==null){switch(s.tag){case 31:case 13:return zn===null?ec():s.alternate===null&&pe===0&&(pe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Yf(e,o,h)),!1;case 22:return s.flags|=65536,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Yf(e,o,h)),!1}throw Error(r(435,s.tag))}return Yf(e,o,h),ec(),!1}if(Pt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==jh&&(e=Error(r(422),{cause:o}),Po(Un(e,s)))):(o!==jh&&(n=Error(r(423),{cause:o}),Po(Un(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Un(o,s),h=Af(e.stateNode,o,h),Jh(e,h),pe!==4&&(pe=2)),!1;var f=Error(r(520),{cause:o});if(f=Un(f,s),nl===null?nl=[f]:nl.push(f),pe!==4&&(pe=2),n===null)return!0;o=Un(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Af(s.stateNode,o,e),Jh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Us===null||!Us.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=qp(h),Hp(h,e,s,o),Jh(s,h),!1}s=s.return}while(s!==null);return!1}var Sf=Error(r(461)),Ve=!1;function Ze(e,n,s,o){n.child=e===null?Yg(n,null,s,o):Mr(n,e.child,s,o)}function Gp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Nr(n),o=sf(e,n,s,g,f,h),E=rf(),e!==null&&!Ve?(af(e,n,h),Ki(e,n,h)):(Pt&&E&&kh(n),n.flags|=1,Ze(e,n,o,h),n.child)}function Fp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Qp(e,n,f,o,h)):(e=bu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Of(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:xo,s(g,o)&&e.ref===n.ref)return Ki(e,n,h)}return n.flags|=1,e=qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Qp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(xo(f,o)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=o=f,Of(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,Ki(e,n,h)}return bf(e,n,s,o,h)}function Yp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Kp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?Zg(n,f):Wh(),Jg(n);else return o=n.lanes=536870912,Kp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Cu(n,f.cachePool),Zg(n,f),Os(),n.memoizedState=null):(e!==null&&Cu(n,null),Wh(),Os());return Ze(e,n,h,s),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kp(e,n,s,o,h){var f=Yh();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Cu(n,null),Wh(),Jg(n),e!==null&&Ea(e,n,o,!0),n.childLanes=h,null}function Gu(e,n){return n=Qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Xp(e,n,s){return Mr(n,e.child,null,s),e=Gu(n,n.pendingProps),e.flags|=2,wn(n),n.memoizedState=null,e}function EA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=Gu(n,o),n.lanes=536870912,Xo(null,e);if(ef(n),(e=ae)?(e=o_(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Ke=n,ae=null)):e=null,e===null)throw ws(n);return n.lanes=536870912,null}return Gu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ef(n),h)if(n.flags&256)n.flags&=-257,n=Xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ve||Ea(e,n,s,!1),h=(s&e.childLanes)!==0,Ve||h){if(o=se,o!==null&&(g=po(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,wr(e,g),_n(o,e,g),Sf;ec(),n=Xp(e,n,s)}else e=f.treeContext,ae=jn(g.nextSibling),Ke=n,Pt=!0,bs=null,kn=!1,e!==null&&Ug(n,e),n=Gu(n,o),n.flags|=4096;return n}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function bf(e,n,s,o,h){return Nr(n),s=sf(e,n,s,o,void 0,h),o=rf(),e!==null&&!Ve?(af(e,n,h),Ki(e,n,h)):(Pt&&o&&kh(n),n.flags|=1,Ze(e,n,s,h),n.child)}function Zp(e,n,s,o,h,f){return Nr(n),n.updateQueue=null,s=Wg(n,o,s,h),$g(e),o=rf(),e!==null&&!Ve?(af(e,n,f),Ki(e,n,f)):(Pt&&o&&kh(n),n.flags|=1,Ze(e,n,s,f),n.child)}function Jp(e,n,s,o,h){if(Nr(n),n.stateNode===null){var f=pa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Xe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Xh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Xe(g):pa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Ef(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Tf.enqueueReplaceState(f,f.state,null),Go(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ur(s,E);f.props=R;var k=f.context,G=s.contextType;g=pa,typeof G=="object"&&G!==null&&(g=Xe(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&Pp(n,f,o,g),Is=!1;var z=n.memoizedState;f.state=z,Go(n,o,f,h),Ho(),k=n.memoizedState,E||z!==k||Is?(typeof X=="function"&&(Ef(n,s,X,o),k=n.memoizedState),(R=Is||Lp(n,s,R,o,z,k,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Zh(e,n),g=n.memoizedProps,G=Ur(s,g),f.props=G,X=n.pendingProps,z=f.context,k=s.contextType,R=pa,typeof k=="object"&&k!==null&&(R=Xe(k)),E=s.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==R)&&Pp(n,f,o,R),Is=!1,z=n.memoizedState,f.state=z,Go(n,o,f,h),Ho();var q=n.memoizedState;g!==X||z!==q||Is||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof E=="function"&&(Ef(n,s,E,o),q=n.memoizedState),(G=Is||Lp(n,s,G,o,z,q,R)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Fu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Mr(n,e.child,null,h),n.child=Mr(n,null,s,h)):Ze(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Ki(e,n,h),e}function $p(e,n,s,o){return Ir(),n.flags|=256,Ze(e,n,s,o),n.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:Bg()}}function If(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=In),e}function Wp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Ds(n):Os(),(e=ae)?(e=o_(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Ke=n,ae=null)):e=null,e===null)throw ws(n);return ud(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Os(),h=n.mode,E=Qu({mode:"hidden",children:E},h),o=Rr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Rf(s),o.childLanes=If(e,g,s),n.memoizedState=wf,Xo(null,o)):(Ds(n),Cf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ds(n),n.flags&=-257,n=Nf(e,n,s)):n.memoizedState!==null?(Os(),n.child=e.child,n.flags|=128,n=null):(Os(),E=o.fallback,h=n.mode,o=Qu({mode:"visible",children:o.children},h),E=Rr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Mr(n,e.child,null,s),o=n.child,o.memoizedState=Rf(s),o.childLanes=If(e,g,s),n.memoizedState=wf,n=Xo(null,o));else if(Ds(n),ud(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(r(419)),o.stack="",o.digest=g,Po({value:o,source:null,stack:null}),n=Nf(e,n,s)}else if(Ve||Ea(e,n,s,!1),g=(s&e.childLanes)!==0,Ve||g){if(g=se,g!==null&&(o=po(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,wr(e,o),_n(g,e,o),Sf;ld(E)||ec(),n=Nf(e,n,s)}else ld(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ae=jn(E.nextSibling),Ke=n,Pt=!0,bs=null,kn=!1,e!==null&&Ug(n,e),n=Cf(n,o.children),n.flags|=4096);return n}return h?(Os(),E=o.fallback,h=n.mode,R=e.child,k=R.sibling,o=qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=qi(k,E):(E=Rr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Xo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Rf(s):(h=E.cachePool,h!==null?(R=De._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Bg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=If(e,g,s),n.memoizedState=wf,Xo(e.child,o)):(Ds(n),s=e.child,e=s.sibling,s=qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Cf(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function Nf(e,n,s){return Mr(n,e.child,null,s),e=Cf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ty(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hh(e.return,n,s)}function Df(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ey(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ee.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(Ee,g),Ze(e,n,o,s),o=Pt?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,s,n);else if(e.tag===19)ty(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&xu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Df(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Df(n,!0,s,null,f,o);break;case"together":Df(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ki(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ea(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function TA(e,n,s){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),Rs(n,De,e.memoizedState.cache),Ir();break;case 27:case 5:zt(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ds(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wp(e,n,s):(Ds(n),e=Ki(e,n,s),e!==null?e.sibling:null);Ds(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ea(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ey(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,Yp(e,n,s,n.pendingProps);case 24:Rs(n,De,e.memoizedState.cache)}return Ki(e,n,s)}function ny(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Of(e,s)&&(n.flags&128)===0)return Ve=!1,TA(e,n,s);Ve=(e.flags&131072)!==0}else Ve=!1,Pt&&(n.flags&1048576)!==0&&xg(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Or(n.elementType),n.type=e,typeof e=="function")Uh(e)?(o=Ur(e,o),n.tag=1,n=Jp(null,n,e,o,s)):(n.tag=0,n=bf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===jt){n.tag=11,n=Gp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Fp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(r(306,n,""))}}return n;case 0:return bf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ur(o,n.pendingProps),Jp(e,n,o,h,s);case 3:t:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Zh(e,n),Go(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Rs(n,De,o),o!==f.cache&&Gh(n,[De],s,!0),Ho(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$p(e,n,o,s);break t}else if(o!==h){h=Un(Error(r(424)),n),Po(h),n=$p(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=jn(e.firstChild),Ke=n,Pt=!0,bs=null,kn=!0,s=Yg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ir(),o===h){n=Ki(e,n,s);break t}Ze(e,n,o,s)}n=n.child}return n;case 26:return Fu(e,n),e===null?(s=d_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,e=n.pendingProps,o=lc(At.current).createElement(s),o[Ie]=n,o[Be]=e,Je(o,s,e),Ce(o),n.stateNode=o):n.memoizedState=d_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return zt(n),e===null&&Pt&&(o=n.stateNode=c_(n.type,n.pendingProps,At.current),Ke=n,kn=!0,h=ae,zs(n.type)?(cd=h,ae=jn(o.firstChild)):ae=h),Ze(e,n,n.pendingProps.children,s),Fu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=ae)&&(o=JA(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,Ke=n,ae=jn(o.firstChild),kn=!1,h=!0):h=!1),h||ws(n)),zt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,rd(h,f)?o=null:g!==null&&rd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=sf(e,n,fA,null,null,s),cl._currentValue=h),Fu(e,n),Ze(e,n,o,s),n.child;case 6:return e===null&&Pt&&((e=s=ae)&&(s=$A(s,n.pendingProps,kn),s!==null?(n.stateNode=s,Ke=n,ae=null,e=!0):e=!1),e||ws(n)),null;case 13:return Wp(e,n,s);case 4:return ye(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Mr(n,null,o,s):Ze(e,n,o,s),n.child;case 11:return Gp(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Rs(n,n.type,o.value),Ze(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Nr(n),h=Xe(h),o=o(h),n.flags|=1,Ze(e,n,o,s),n.child;case 14:return Fp(e,n,n.type,n.pendingProps,s);case 15:return Qp(e,n,n.type,n.pendingProps,s);case 19:return ey(e,n,s);case 31:return EA(e,n,s);case 22:return Yp(e,n,s,n.pendingProps);case 24:return Nr(n),o=Xe(De),e===null?(h=Yh(),h===null&&(h=se,f=Fh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Xh(n),Rs(n,De,h)):((e.lanes&s)!==0&&(Zh(e,n),Go(n,null,null,s),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,De,o)):(o=f.cache,Rs(n,De,o),o!==h.cache&&Gh(n,[De],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Xi(e){e.flags|=4}function Vf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ny())e.flags|=8192;else throw Vr=Du,Kh}else e.flags&=-16777217}function iy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!__(n))if(Ny())e.flags|=8192;else throw Vr=Du,Kh}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wl():536870912,e.lanes|=n,Va|=n)}function Zo(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function AA(e,n,s){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(De),F(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(va(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bh())),oe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Xi(n),f!==null?(oe(n),iy(n,f)):(oe(n),Vf(n,h,null,o,s))):f?f!==e.memoizedState?(Xi(n),oe(n),iy(n,f)):(oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(n),oe(n),Vf(n,h,e,o,s)),null;case 27:if(Bt(n),s=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return oe(n),null}e=rt.current,va(n)?Lg(n):(e=c_(h,o,s),n.stateNode=e,Xi(n))}return oe(n),null;case 5:if(Bt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return oe(n),null}if(f=rt.current,va(n))Lg(n);else{var g=lc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ie]=n,f[Be]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(n)}}return oe(n),Vf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=At.current,va(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Wy(e.nodeValue,s)),e||ws(n,!0)}else e=lc(e).createTextNode(o),e[Ie]=n,n.stateNode=e}return oe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=va(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ie]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),e=!1}else s=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return oe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ie]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Yu(n,n.updateQueue),oe(n),null);case 4:return F(),e===null&&td(n.stateNode.containerInfo),oe(n),null;case 10:return Fi(n.type),oe(n),null;case 19:if(K(Ee),o=n.memoizedState,o===null)return oe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=xu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Og(s,e),s=s.sibling;return et(Ee,Ee.current&1|2),Pt&&Hi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ln()>$u&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=xu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return oe(n),null}else 2*ln()-o.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,s=Ee.current,et(Ee,h?s&1|2:s&1),Pt&&Hi(n,o.treeForkCount),e):(oe(n),null);case 22:case 23:return wn(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),s=n.updateQueue,s!==null&&Yu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Dr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Fi(De),oe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function SA(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(De),F(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Bt(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Ee),null;case 4:return F(),null;case 10:return Fi(n.type),null;case 22:case 23:return wn(n),tf(),e!==null&&K(Dr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(De),null;case 25:return null;default:return null}}function sy(e,n){switch(zh(n),n.tag){case 3:Fi(De),F();break;case 26:case 27:case 5:Bt(n);break;case 4:F();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:K(Ee);break;case 10:Fi(n.type);break;case 22:case 23:wn(n),tf(),e!==null&&K(Dr);break;case 24:Fi(De)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Jt(n,n.return,E)}}function Vs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,k=E;try{k()}catch(G){Jt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Jt(n,n.return,G)}}function ry(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Xg(n,s)}catch(o){Jt(e,e.return,o)}}}function ay(e,n,s){s.props=Ur(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Jt(e,n,o)}}function $o(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Jt(e,n,h)}}function Ii(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Jt(e,n,h)}else s.current=null}function oy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Jt(e,e.return,h)}}function Mf(e,n,s){try{var o=e.stateNode;FA(o,e.type,s,n),o[Be]=n}catch(h){Jt(e,e.return,h)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zs(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Kn));else if(o!==4&&(o===27&&zs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Uf(e,n,s),e=e.sibling;e!==null;)Uf(e,n,s),e=e.sibling}function Ku(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ku(e,n,s),e=e.sibling;e!==null;)Ku(e,n,s),e=e.sibling}function uy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,s),n[Ie]=e,n[Be]=s}catch(f){Jt(e,e.return,f)}}var Zi=!1,Me=!1,Lf=!1,cy=typeof WeakSet=="function"?WeakSet:Set,He=null;function bA(e,n){if(e=e.containerInfo,id=gc,e=Ag(e),Ch(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,k=0,G=0,X=e,z=null;e:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(R=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===e)break e;if(z===s&&++k===h&&(E=g),z===f&&++G===o&&(R=g),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:e,selectionRange:s},gc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Ur(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Jt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)od(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function hy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:$i(e,s),o&4&&Jo(5,s);break;case 1:if($i(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Jt(s,s.return,g)}else{var h=Ur(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(s,s.return,g)}}o&64&&ry(s),o&512&&$o(s,s.return);break;case 3:if($i(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Xg(e,n)}catch(g){Jt(s,s.return,g)}}break;case 27:n===null&&o&4&&uy(s);case 26:case 5:$i(e,s),n===null&&o&4&&oy(s),o&512&&$o(s,s.return);break;case 12:$i(e,s);break;case 31:$i(e,s),o&4&&my(e,s);break;case 13:$i(e,s),o&4&&gy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=MA.bind(null,s),WA(e,s))));break;case 22:if(o=s.memoizedState!==null||Zi,!o){n=n!==null&&n.memoizedState!==null||Me,h=Zi;var f=Me;Zi=o,(Me=n)&&!f?Wi(e,s,(s.subtreeFlags&8772)!==0):$i(e,s),Zi=h,Me=f}break;case 30:break;default:$i(e,s)}}function fy(e){var n=e.alternate;n!==null&&(e.alternate=null,fy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,mn=!1;function Ji(e,n,s){for(s=s.child;s!==null;)dy(e,n,s),s=s.sibling}function dy(e,n,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Gn,s)}catch{}switch(s.tag){case 26:Me||Ii(s,n),Ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Me||Ii(s,n);var o=ce,h=mn;zs(s.type)&&(ce=s.stateNode,mn=!1),Ji(e,n,s),ol(s.stateNode),ce=o,mn=h;break;case 5:Me||Ii(s,n);case 6:if(o=ce,h=mn,ce=null,Ji(e,n,s),ce=o,mn=h,ce!==null)if(mn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(s.stateNode)}catch(f){Jt(s,n,f)}else try{ce.removeChild(s.stateNode)}catch(f){Jt(s,n,f)}break;case 18:ce!==null&&(mn?(e=ce,r_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ja(e)):r_(ce,s.stateNode));break;case 4:o=ce,h=mn,ce=s.stateNode.containerInfo,mn=!0,Ji(e,n,s),ce=o,mn=h;break;case 0:case 11:case 14:case 15:Vs(2,s,n),Me||Vs(4,s,n),Ji(e,n,s);break;case 1:Me||(Ii(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ay(s,n,o)),Ji(e,n,s);break;case 21:Ji(e,n,s);break;case 22:Me=(o=Me)||s.memoizedState!==null,Ji(e,n,s),Me=o;break;default:Ji(e,n,s)}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(s){Jt(n,n.return,s)}}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(s){Jt(n,n.return,s)}}function wA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cy),n;default:throw Error(r(435,e.tag))}}function Xu(e,n){var s=wA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=xA.bind(null,e,o);o.then(h,h)}})}function gn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(zs(E.type)){ce=E.stateNode,mn=!1;break t}break;case 5:ce=E.stateNode,mn=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(ce===null)throw Error(r(160));dy(f,g,h),ce=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var ti=null;function py(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),o&4&&(Vs(3,e,e.return),Jo(3,e),Vs(5,e,e.return));break;case 1:gn(n,e),pn(e),o&512&&(Me||s===null||Ii(s,s.return)),o&64&&Zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ti;if(gn(n,e),pn(e),o&512&&(Me||s===null||Ii(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,s),f[Ie]=e,Ce(f),o=f;break t;case"link":var g=p_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;case"meta":if(g=p_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ie]=e,Ce(f),o=f}e.stateNode=o}else y_(h,e.type,e.stateNode);else e.stateNode=g_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?y_(h,e.type,e.stateNode):g_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,s.memoizedProps)}break;case 27:gn(n,e),pn(e),o&512&&(Me||s===null||Ii(s,s.return)),s!==null&&o&4&&Mf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(gn(n,e),pn(e),o&512&&(Me||s===null||Ii(s,s.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(ot){Jt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Mf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Lf=!0);break;case 6:if(gn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){Jt(e,e.return,ot)}}break;case 3:if(hc=null,h=ti,ti=uc(n.containerInfo),gn(n,e),ti=h,pn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(ot){Jt(e,e.return,ot)}Lf&&(Lf=!1,yy(e));break;case 4:o=ti,ti=uc(e.stateNode.containerInfo),gn(n,e),pn(e),ti=o;break;case 12:gn(n,e),pn(e);break;case 31:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ju=ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,k=Zi,G=Me;if(Zi=k||h,Me=G||R,gn(n,e),Me=G,Zi=k,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Zi||Me||Lr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){Jt(R,R.return,ot)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Jt(R,R.return,ot)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?a_(q,!0):a_(R.stateNode,!1)}catch(ot){Jt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Xu(e,s))));break;case 19:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ly(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=xf(e);Ku(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(dn(g,""),s.flags&=-33);var E=xf(e);Ku(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,k=xf(e);Uf(e,k,R);break;default:throw Error(r(161))}}catch(G){Jt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $i(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hy(e,n.alternate,n),n=n.sibling}function Lr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Vs(4,n,n.return),Lr(n);break;case 1:Ii(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ay(n,n.return,s),Lr(n);break;case 27:ol(n.stateNode);case 26:case 5:Ii(n,n.return),Lr(n);break;case 22:n.memoizedState===null&&Lr(n);break;case 30:Lr(n);break;default:Lr(n)}e=e.sibling}}function Wi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,s),Jo(4,f);break;case 1:if(Wi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Jt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Kg(R[h],E)}catch(k){Jt(o,o.return,k)}}s&&g&64&&ry(f),$o(f,f.return);break;case 27:uy(f);case 26:case 5:Wi(h,f,s),s&&o===null&&g&4&&oy(f),$o(f,f.return);break;case 12:Wi(h,f,s);break;case 31:Wi(h,f,s),s&&g&4&&my(h,f);break;case 13:Wi(h,f,s),s&&g&4&&gy(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,s),$o(f,f.return);break;case 30:break;default:Wi(h,f,s)}n=n.sibling}}function Pf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ko(s))}function kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e))}function ei(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_y(e,n,s,o),n=n.sibling}function _y(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,s,o),h&2048&&Jo(9,n);break;case 1:ei(e,n,s,o);break;case 3:ei(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e)));break;case 12:if(h&2048){ei(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Jt(n,n.return,R)}}else ei(e,n,s,o);break;case 31:ei(e,n,s,o);break;case 13:ei(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ei(e,n,s,o):Wo(e,n):f._visibility&2?ei(e,n,s,o):(f._visibility|=2,Na(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Pf(g,n);break;case 24:ei(e,n,s,o),h&2048&&kf(n.alternate,n);break;default:ei(e,n,s,o)}}function Na(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:Na(f,g,E,R,h),Jo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Na(f,g,E,R,h):Wo(f,g):(G._visibility|=2,Na(f,g,E,R,h)),h&&k&2048&&Pf(g.alternate,g);break;case 24:Na(f,g,E,R,h),h&&k&2048&&kf(g.alternate,g);break;default:Na(f,g,E,R,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Wo(s,o),h&2048&&Pf(o.alternate,o);break;case 24:Wo(s,o),h&2048&&kf(o.alternate,o);break;default:Wo(s,o)}n=n.sibling}}var tl=8192;function Da(e,n,s){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)vy(e,n,s),e=e.sibling}function vy(e,n,s){switch(e.tag){case 26:Da(e,n,s),e.flags&tl&&e.memoizedState!==null&&hS(s,ti,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,s);break;case 3:case 4:var o=ti;ti=uc(e.stateNode.containerInfo),Da(e,n,s),ti=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Da(e,n,s),tl=o):Da(e,n,s));break;default:Da(e,n,s)}}function Ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,Ay(o,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&Vs(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):el(e);break;default:el(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,Ay(o,e)}Ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Vs(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function Ay(e,n){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:Vs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ko(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,He=o;else t:for(s=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(fy(o),o===s){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var RA={getCacheForType:function(e){var n=Xe(De),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Xe(De).controller.signal}},IA=typeof WeakMap=="function"?WeakMap:Map,Qt=0,se=null,It=null,Dt=0,Zt=0,Rn=null,Ms=!1,Oa=!1,zf=!1,ts=0,pe=0,xs=0,Pr=0,jf=0,In=0,Va=0,nl=null,yn=null,Bf=!1,Ju=0,Sy=0,$u=1/0,Wu=null,Us=null,ze=0,Ls=null,Ma=null,es=0,qf=0,Hf=null,by=null,il=0,Gf=null;function Cn(){return(Qt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?Zf():tu()}function wy(){if(In===0)if((Dt&536870912)===0||Pt){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),In=e}else In=536870912;return e=bn.current,e!==null&&(e.flags|=32),In}function _n(e,n,s){(e===se&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Ps(e,Dt,In,!1)),hr(e,s),((Qt&2)===0||e!==se)&&(e===se&&((Qt&2)===0&&(Pr|=s),pe===4&&Ps(e,Dt,In,!1)),Ci(e))}function Ry(e,n,s){if((Qt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Fn(e,n),h=o?DA(e,n):Qf(e,n,!0),f=o;do{if(h===0){Oa&&!o&&Ps(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!CA(s)){h=Qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=nl;var R=E.current.memoizedState.isDehydrated;if(R&&(xa(E,g).flags|=256),g=Qf(E,g,!1),g!==2){if(zf&&!R){E.errorRecoveryDisabledLanes|=f,Pr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){xa(e,0),Ps(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ps(o,n,In,!Ms);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Ju+300-ln(),10<h)){if(Ps(o,n,In,!Ms),ci(o,0,!0)!==0)break t;es=n,o.timeoutHandle=i_(Iy.bind(null,o,s,yn,Wu,Bf,n,In,Pr,Va,Ms,f,"Throttled",-0,0),h);break t}Iy(o,s,yn,Wu,Bf,n,In,Pr,Va,Ms,f,null,-0,0)}}break}while(!0);Ci(e)}function Iy(e,n,s,o,h,f,g,E,R,k,G,X,z,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},vy(n,f,X);var ot=(f&62914560)===f?Ju-ln():(f&4194048)===f?Sy-ln():0;if(ot=fS(X,ot),ot!==null){es=f,e.cancelPendingCommit=ot(Uy.bind(null,e,n,f,s,o,h,g,E,R,G,X,null,z,q)),Ps(e,f,g,!k);return}}Uy(e,n,f,s,o,h,g,E,R)}function CA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ps(e,n,s,o){n&=~jf,n&=~Pr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&fr(e,s,n)}function tc(){return(Qt&6)===0?(sl(0),!1):!0}function Ff(){if(It!==null){if(Zt===0)var e=It.return;else e=It,Gi=Cr=null,of(e),ba=null,jo=0,e=It;for(;e!==null;)sy(e.alternate,e),e=e.return;It=null}}function xa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,KA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),es=0,Ff(),se=e,It=s=qi(e.current,null),Dt=n,Zt=0,Rn=null,Ms=!1,Oa=Fn(e,n),zf=!1,Va=In=jf=Pr=xs=pe=0,yn=nl=null,Bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return ts=n,Tu(),s}function Cy(e,n){bt=null,H.H=Ko,n===Sa||n===Nu?(n=Gg(),Zt=3):n===Kh?(n=Gg(),Zt=4):Zt=n===Sf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,It===null&&(pe=1,Hu(e,Un(n,e.current)))}function Ny(){var e=bn.current;return e===null?!0:(Dt&4194048)===Dt?zn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===zn:!1}function Dy(){var e=H.H;return H.H=Ko,e===null?Ko:e}function Oy(){var e=H.A;return H.A=RA,e}function ec(){pe=4,Ms||(Dt&4194048)!==Dt&&bn.current!==null||(Oa=!0),(xs&134217727)===0&&(Pr&134217727)===0||se===null||Ps(se,Dt,In,!1)}function Qf(e,n,s){var o=Qt;Qt|=2;var h=Dy(),f=Oy();(se!==e||Dt!==n)&&(Wu=null,xa(e,n)),n=!1;var g=pe;t:do try{if(Zt!==0&&It!==null){var E=It,R=Rn;switch(Zt){case 8:Ff(),g=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var k=Zt;if(Zt=0,Rn=null,Ua(e,E,R,k),s&&Oa){g=0;break t}break;default:k=Zt,Zt=0,Rn=null,Ua(e,E,R,k)}}NA(),g=pe;break}catch(G){Cy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Gi=Cr=null,Qt=o,H.H=h,H.A=f,It===null&&(se=null,Dt=0,Tu()),g}function NA(){for(;It!==null;)Vy(It)}function DA(e,n){var s=Qt;Qt|=2;var o=Dy(),h=Oy();se!==e||Dt!==n?(Wu=null,$u=ln()+500,xa(e,n)):Oa=Fn(e,n);t:do try{if(Zt!==0&&It!==null){n=It;var f=Rn;e:switch(Zt){case 1:Zt=0,Rn=null,Ua(e,n,f,1);break;case 2:case 9:if(qg(f)){Zt=0,Rn=null,My(n);break}n=function(){Zt!==2&&Zt!==9||se!==e||(Zt=7),Ci(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:qg(f)?(Zt=0,Rn=null,My(n)):(Zt=0,Rn=null,Ua(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?__(g):E.stateNode.complete){Zt=0,Rn=null;var R=E.sibling;if(R!==null)It=R;else{var k=E.return;k!==null?(It=k,nc(k)):It=null}break e}}Zt=0,Rn=null,Ua(e,n,f,5);break;case 6:Zt=0,Rn=null,Ua(e,n,f,6);break;case 8:Ff(),pe=6;break t;default:throw Error(r(462))}}OA();break}catch(G){Cy(e,G)}while(!0);return Gi=Cr=null,H.H=o,H.A=h,Qt=s,It!==null?0:(se=null,Dt=0,Tu(),pe)}function OA(){for(;It!==null&&!Th();)Vy(It)}function Vy(e){var n=ny(e.alternate,e,ts);e.memoizedProps=e.pendingProps,n===null?nc(e):It=n}function My(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Zp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Zp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:of(n);default:sy(s,n),n=It=Og(n,ts),n=ny(s,n,ts)}e.memoizedProps=e.pendingProps,n===null?nc(e):It=n}function Ua(e,n,s,o){Gi=Cr=null,of(n),ba=null,jo=0;var h=n.return;try{if(vA(e,h,n,s,Dt)){pe=1,Hu(e,Un(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;pe=1,Hu(e,Un(s,e.current)),It=null;return}n.flags&32768?(Pt||o===1?e=!0:Oa||(Dt&536870912)!==0?e=!1:(Ms=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),xy(n,e)):nc(n)}function nc(e){var n=e;do{if((n.flags&32768)!==0){xy(n,Ms);return}e=n.return;var s=AA(n.alternate,n,ts);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);pe===0&&(pe=5)}function xy(e,n){do{var s=SA(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);pe=6,It=null}function Uy(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do ic();while(ze!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Mh,bh(e,s,f,g,E,R),e===se&&(It=se=null,Dt=0),Ma=n,Ls=e,es=s,qf=f,Hf=h,by=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,UA(ds,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,g=Qt,Qt|=4;try{bA(e,n,s)}finally{Qt=g,nt.p=h,H.T=o}}ze=1,Ly(),Py(),ky()}}function Ly(){if(ze===1){ze=0;var e=Ls,n=Ma,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{py(n,e);var f=sd,g=Ag(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Tg(E.ownerDocument.documentElement,E)){if(R!==null&&Ch(E)){var k=R.start,G=R.end;if(G===void 0&&(G=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),ot=E.textContent.length,dt=Math.min(R.start,ot),ee=R.end===void 0?dt:Math.min(R.end,ot);!q.extend&&dt>ee&&(g=ee,ee=dt,dt=g);var x=Eg(E,dt),D=Eg(E,ee);if(x&&D&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=X.createRange();P.setStart(x.node,x.offset),q.removeAllRanges(),dt>ee?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}gc=!!id,sd=id=null}finally{Qt=h,nt.p=o,H.T=s}}e.current=n,ze=2}}function Py(){if(ze===2){ze=0;var e=Ls,n=Ma,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{hy(e,n.alternate,n)}finally{Qt=h,nt.p=o,H.T=s}}ze=3}}function ky(){if(ze===4||ze===3){ze=0,Yl();var e=Ls,n=Ma,s=es,o=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Ma=Ls=null,zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Us=null),ki(s),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=h}}(es&3)!==0&&ic(),Ci(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Gf?il++:(il=0,Gf=e):il=0,sl(0)}}function zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ko(n)))}function ic(){return Ly(),Py(),ky(),jy()}function jy(){if(ze!==5)return!1;var e=Ls,n=qf;qf=0;var s=ki(es),o=H.T,h=nt.p;try{nt.p=32>s?32:s,H.T=null,s=Hf,Hf=null;var f=Ls,g=es;if(ze=0,Ma=Ls=null,es=0,(Qt&6)!==0)throw Error(r(331));var E=Qt;if(Qt|=4,Ty(f.current),_y(f,f.current,g,s),Qt=E,sl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Gn,f)}catch{}return!0}finally{nt.p=h,H.T=o,zy(e,n)}}function By(e,n,s){n=Un(s,n),n=Af(e.stateNode,n,2),e=Ns(e,n,2),e!==null&&(hr(e,2),Ci(e))}function Jt(e,n,s){if(e.tag===3)By(e,e,s);else for(;n!==null;){if(n.tag===3){By(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Us===null||!Us.has(o))){e=Un(s,e),s=qp(2),o=Ns(n,s,2),o!==null&&(Hp(s,o,n,e),hr(o,2),Ci(o));break}}n=n.return}}function Yf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new IA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(zf=!0,h.add(s),e=VA.bind(null,e,n,s),n.then(e,e))}function VA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(Dt&s)===s&&(pe===4||pe===3&&(Dt&62914560)===Dt&&300>ln()-Ju?(Qt&2)===0&&xa(e,0):jf|=s,Va===Dt&&(Va=0)),Ci(e)}function qy(e,n){n===0&&(n=Wl()),e=wr(e,n),e!==null&&(hr(e,n),Ci(e))}function MA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),qy(e,s)}function xA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),qy(e,s)}function UA(e,n){return ke(e,n)}var sc=null,La=null,Kf=!1,rc=!1,Xf=!1,ks=0;function Ci(e){e!==La&&e.next===null&&(La===null?sc=La=e:La=La.next=e),rc=!0,Kf||(Kf=!0,PA())}function sl(e,n){if(!Xf&&rc){Xf=!0;do for(var s=!1,o=sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Qy(o,f))}else f=Dt,f=ci(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fn(o,f)||(s=!0,Qy(o,f));o=o.next}while(s);Xf=!1}}function LA(){Hy()}function Hy(){rc=Kf=!1;var e=0;ks!==0&&YA()&&(e=ks);for(var n=ln(),s=null,o=sc;o!==null;){var h=o.next,f=Gy(o,n);f===0?(o.next=null,s===null?sc=h:s.next=h,h===null&&(La=s)):(s=o,(e!==0||(f&3)!==0)&&(rc=!0)),o=h}ze!==0&&ze!==5||sl(e),ks!==0&&(ks=0)}function Gy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_e(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Sh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=se,s=Dt,s=ci(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&fs(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Fn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&fs(o),ki(s)){case 2:case 8:s=mo;break;case 32:s=ds;break;case 268435456:s=Kl;break;default:s=ds}return o=Fy.bind(null,e),s=ke(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&fs(o),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ic()&&e.callbackNode!==s)return null;var o=Dt;return o=ci(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ry(e,o,n),Gy(e,ln()),e.callbackNode!=null&&e.callbackNode===s?Fy.bind(null,e):null)}function Qy(e,n){if(ic())return null;Ry(e,n,!0)}function PA(){XA(function(){(Qt&6)!==0?ke(fo,LA):Hy()})}function Zf(){if(ks===0){var e=Ta;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),ks=e}return ks}function Yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Ky(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function kA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Yy((h[Be]||null).action),g=o.submitter;g&&(n=(n=g[Be]||null)?Yy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ti("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ks!==0){var R=g?Ky(h,g):new FormData(h);pf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Ky(h,g):new FormData(h),pf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Jf=0;Jf<Vh.length;Jf++){var $f=Vh[Jf],zA=$f.toLowerCase(),jA=$f[0].toUpperCase()+$f.slice(1);Wn(zA,"on"+jA)}Wn(wg,"onAnimationEnd"),Wn(Rg,"onAnimationIteration"),Wn(Ig,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(nA,"onTransitionRun"),Wn(iA,"onTransitionStart"),Wn(sA,"onTransitionCancel"),Wn(Cg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Xy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(G){Eu(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(G){Eu(G)}h.currentTarget=null,f=R}}}}function Ct(e,n){var s=n[ea];s===void 0&&(s=n[ea]=new Set);var o=e+"__bubble";s.has(o)||(Zy(n,e,2,!1),s.add(o))}function Wf(e,n,s){var o=0;n&&(o|=4),Zy(s,e,o,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[ac]){e[ac]=!0,yo.forEach(function(s){s!=="selectionchange"&&(BA.has(s)||Wf(s,!1,e),Wf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ac]||(n[ac]=!0,Wf("selectionchange",!1,n))}}function Zy(e,n,s,o){switch(w_(n)){case 2:var h=gS;break;case 8:h=pS;break;default:h=gd}s=h.bind(null,n,s,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ed(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=mi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}vs(function(){var k=f,G=On(s),X=[];t:{var z=Ng.get(e);if(z!==void 0){var q=Ti,ot=e;switch(e){case"keypress":if(vr(s)===0)break t;case"keydown":case"keyup":q=yu;break;case"focusin":ot="focus",q=Tr;break;case"focusout":ot="blur",q=Tr;break;case"beforeblur":case"afterblur":q=Tr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case wg:case Rg:case Ig:q=cu;break;case Cg:q=T;break;case"scroll":case"scrollend":q=No;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bi;break;case"toggle":case"beforetoggle":q=St}var dt=(n&4)!==0,ee=!dt&&(e==="scroll"||e==="scrollend"),x=dt?z!==null?z+"Capture":null:z;dt=[];for(var D=k,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||x===null||(Q=Xn(D,x),Q!=null&&dt.push(al(D,Q,P))),ee)break;D=D.return}0<dt.length&&(z=new q(z,ot,null,s,G),X.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&s!==Ro&&(ot=s.relatedTarget||s.fromElement)&&(mi(ot)||ot[fi]))break t;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=k,ot=ot?mi(ot):null,ot!==null&&(ee=c(ot),dt=ot.tag,ot!==ee||dt!==5&&dt!==27&&dt!==6)&&(ot=null)):(q=null,ot=k),q!==ot)){if(dt=Do,Q="onMouseLeave",x="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Bi,Q="onPointerLeave",x="onPointerEnter",D="pointer"),ee=q==null?z:En(q),P=ot==null?z:En(ot),z=new dt(Q,D+"leave",q,s,G),z.target=ee,z.relatedTarget=P,Q=null,mi(G)===k&&(dt=new dt(x,D+"enter",ot,s,G),dt.target=P,dt.relatedTarget=ee,Q=dt),ee=Q,q&&ot)e:{for(dt=qA,x=q,D=ot,P=0,Q=x;Q;Q=dt(Q))P++;Q=0;for(var ct=D;ct;ct=dt(ct))Q++;for(;0<P-Q;)x=dt(x),P--;for(;0<Q-P;)D=dt(D),Q--;for(;P--;){if(x===D||D!==null&&x===D.alternate){dt=x;break e}x=dt(x),D=dt(D)}dt=null}else dt=null;q!==null&&Jy(X,z,q,dt,!1),ot!==null&&ee!==null&&Jy(X,ee,ot,dt,!0)}}t:{if(z=k?En(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var qt=mg;else if(fg(z))if(gg)qt=W0;else{qt=J0;var lt=Z0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&ra(k.elementType)&&(qt=mg):qt=$0;if(qt&&(qt=qt(e,k))){dg(X,qt,s,G);break t}lt&&lt(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&So(z,"number",z.value)}switch(lt=k?En(k):window,e){case"focusin":(fg(lt)||lt.contentEditable==="true")&&(da=lt,Nh=k,Uo=null);break;case"focusout":Uo=Nh=da=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,Sg(X,s,G);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":Sg(X,s,G)}var wt;if(Ft)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else fa?Ar(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(bi&&s.locale!=="ko"&&(fa||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&fa&&(wt=Co()):(Ei=G,Io="value"in Ei?Ei.value:Ei.textContent,fa=!0)),lt=oc(k,Ot),0<lt.length&&(Ot=new Si(Ot,e,null,s,G),X.push({event:Ot,listeners:lt}),wt?Ot.data=wt:(wt=ha(s),wt!==null&&(Ot.data=wt)))),(wt=Mn?Q0(e,s):Y0(e,s))&&(Ot=oc(k,"onBeforeInput"),0<Ot.length&&(lt=new Si("onBeforeInput","beforeinput",null,s,G),X.push({event:lt,listeners:Ot}),lt.data=wt)),kA(X,e,k,s,G)}Xy(X,n)})}function al(e,n,s){return{instance:e,listener:n,currentTarget:s}}function oc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(e,s),h!=null&&o.unshift(al(e,h,f)),h=Xn(e,n),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function qA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||k===null||(R=k,h?(k=Xn(s,f),k!=null&&g.unshift(al(s,k,R))):h||(k=Xn(s,f),k!=null&&g.push(al(s,k,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var HA=/\r\n?/g,GA=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(HA,`
`).replace(GA,"")}function Wy(e,n){return n=$y(n),$y(e)===n}function te(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(e,""+o);break;case"className":Tn(e,"class",o);break;case"tabIndex":Tn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,s,o);break;case"style":wo(e,o,f);break;case"data":if(n!=="object"){Tn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=aa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=aa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=aa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ia(e,"popover",o);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ou.get(s)||s,ia(e,s,o))}}function nd(e,n,s,o,h,f){switch(s){case"style":wo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ia(e,s,o)}}}function Je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(e,n,f,g,s,null)}}h&&te(e,n,"srcSet",s.srcSet,s,null),o&&te(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,R=null,k=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":k=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:te(e,n,o,G,s,null)}}su(e,f,E,R,k,g,h,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:te(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?gs(e,!!o,n,!1):s!=null&&gs(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:te(e,n,g,E,s,null)}ps(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":te(e,n,R,o,s,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)Ct(rl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(o=s[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(e,n,k,o,s,null)}return;default:if(ra(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&nd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&te(e,n,E,o,s,null))}function FA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,k=null,G=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||te(e,n,q,null,o,X)}}for(var z in o){var q=o[z];if(X=s[z],o.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==X&&te(e,n,z,q,o,X)}}sa(e,g,E,R,k,G,f,h);return;case"select":q=g=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||te(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&te(e,n,h,f,o,R)}n=E,s=g,o=q,z!=null?gs(e,!!s,z,!1):!!o!=!!s&&(n!=null?gs(e,!!s,n,!0):gs(e,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&te(e,n,g,h,o,f)}ru(e,z,q);return;case"option":for(var ot in s)z=s[ot],s.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:te(e,n,ot,null,o,z));for(R in o)z=o[R],q=s[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":te(e,n,R,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)z=s[dt],s.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&te(e,n,dt,null,o,z);for(k in o)if(z=o[k],q=s[k],o.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:te(e,n,k,z,o,q)}return;default:if(ra(n)){for(var ee in s)z=s[ee],s.hasOwnProperty(ee)&&z!==void 0&&!o.hasOwnProperty(ee)&&nd(e,n,ee,void 0,o,z);for(G in o)z=o[G],q=s[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||nd(e,n,G,z,o,q);return}}for(var x in s)z=s[x],s.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&te(e,n,x,null,o,z);for(X in o)z=o[X],q=s[X],!o.hasOwnProperty(X)||z===q||z==null&&q==null||te(e,n,X,z,o,q)}function t_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&t_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],k=R.startTime;if(k>E)break;var G=R.transferSize,X=R.initiatorType;G&&t_(X)&&(R=R.responseEnd,g+=G*(R<E?1:(E-k)/(R-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var id=null,sd=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function e_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function YA(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,XA=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch(ZA)}:i_;function ZA(e){setTimeout(function(){throw e})}function zs(e){return e==="head"}function r_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ol(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ol(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ol(e.ownerDocument.body);s=h}while(s);ja(n)}function a_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":od(s),na(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function JA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function $A(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=jn(e.nextSibling),e===null))return null;return e}function o_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function WA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var cd=null;function l_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return jn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function u_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function c_(e,n,s){switch(n=lc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var Bn=new Map,h_=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ns=nt.d;nt.d={f:tS,r:eS,D:nS,C:iS,L:sS,m:rS,X:oS,S:aS,M:lS};function tS(){var e=ns.f(),n=tc();return e||n}function eS(e){var n=Dn(e);n!==null&&n.tag===5&&n.type==="form"?Cp(n):ns.r(e)}var Pa=typeof document>"u"?null:document;function f_(e,n,s){var o=Pa;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),h_.has(h)||(h_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Ce(n),o.head.appendChild(n)))}}function nS(e){ns.D(e),f_("dns-prefetch",e,null)}function iS(e,n){ns.C(e,n),f_("preconnect",e,n)}function sS(e,n,s){ns.L(e,n,s);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+fn(s.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=za(e)}Bn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ll(f))||n==="script"&&o.querySelector(ul(f))||(n=o.createElement("link"),Je(n,"link",e),Ce(n),o.head.appendChild(n)))}}function rS(e,n){ns.m(e,n);var s=Pa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Bn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Bn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ul(f)))return}o=s.createElement("link"),Je(o,"link",e),Ce(o),s.head.appendChild(o)}}}function aS(e,n,s){ns.S(e,n,s);var o=Pa;if(o&&e){var h=gi(o).hoistableStyles,f=ka(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ll(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Bn.get(f))&&hd(e,s);var R=g=o.createElement("link");Ce(R),Je(R,"link",e),R._p=new Promise(function(k,G){R.onload=k,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function oS(e,n){ns.X(e,n);var s=Pa;if(s&&e){var o=gi(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=b({src:e,async:!0},n),(n=Bn.get(h))&&fd(e,n),f=s.createElement("script"),Ce(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function lS(e,n){ns.M(e,n);var s=Pa;if(s&&e){var o=gi(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&fd(e,n),f=s.createElement("script"),Ce(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function d_(e,n,s,o){var h=(h=At.current)?uc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=gi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var f=gi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ll(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Bn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bn.set(e,s),f||uS(h,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(s),s=gi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ka(e){return'href="'+fn(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function m_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function uS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",s),Ce(n),e.head.appendChild(n))}function za(e){return'[src="'+fn(e)+'"]'}function ul(e){return"script[async]"+e}function g_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fn(s.href)+'"]');if(o)return n.instance=o,Ce(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ce(o),Je(o,"style",h),cc(o,s.precedence,e),n.instance=o;case"stylesheet":h=ka(s.href);var f=e.querySelector(ll(h));if(f)return n.state.loading|=4,n.instance=f,Ce(f),f;o=m_(s),(h=Bn.get(h))&&hd(o,h),f=(e.ownerDocument||e).createElement("link"),Ce(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Je(f,"link",o),n.state.loading|=4,cc(f,s.precedence,e),n.instance=f;case"script":return f=za(s.src),(h=e.querySelector(ul(f)))?(n.instance=h,Ce(h),h):(o=s,(h=Bn.get(f))&&(o=b({},s),fd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,cc(o,s.precedence,e));return n.instance}function cc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hc=null;function p_(e,n,s){if(hc===null){var o=new Map,h=hc=new Map;h.set(s,o)}else h=hc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[di]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function y_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function cS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function __(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ka(o.href),f=n.querySelector(ll(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=fc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ce(f);return}f=n.ownerDocument||n,o=m_(o),(h=Bn.get(h))&&hd(o,h),f=f.createElement("link"),Ce(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Je(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=fc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var dd=0;function fS(e,n){return e.stylesheets&&e.count===0&&mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&dd===0&&(dd=62500*QA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>dd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,n.forEach(dS,e),dc=null,fc.call(e))}function dS(e,n){if(!(n.state.loading&4)){var s=dc.get(e);if(s)var o=s.get(null);else{s=new Map,dc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=fc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function mS(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function v_(e,n,s,o,h,f,g,E,R,k,G,X){return e=new mS(e,n,s,g,R,k,G,X,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=Fh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Xh(f),e}function E_(e){return e?(e=pa,e):pa}function T_(e,n,s,o,h,f){h=E_(h),o.context===null?o.context=h:o.pendingContext=h,o=Cs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ns(e,o,n),s!==null&&(_n(s,e,n),qo(s,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function md(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function S_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&_n(n,e,67108864),md(e,67108864)}}function b_(e){if(e.tag===13||e.tag===31){var n=Cn();n=dr(n);var s=wr(e,n);s!==null&&_n(s,e,n),md(e,n)}}var gc=!0;function gS(e,n,s,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,gd(e,n,s,o)}finally{nt.p=f,H.T=h}}function pS(e,n,s,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,gd(e,n,s,o)}finally{nt.p=f,H.T=h}}function gd(e,n,s,o){if(gc){var h=pd(o);if(h===null)ed(e,n,o,pc,s),R_(e,o);else if(_S(h,e,n,s,o))o.stopPropagation();else if(R_(e,o),n&4&&-1<yS.indexOf(e)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-_e(g);E.entanglements[1]|=R,g&=~R}Ci(f),(Qt&6)===0&&($u=ln()+500,sl(0))}}break;case 31:case 13:E=wr(f,2),E!==null&&_n(E,f,2),tc(),md(f,2)}if(f=pd(o),f===null&&ed(e,n,o,pc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ed(e,n,o,null,s)}}function pd(e){return e=On(e),yd(e)}var pc=null;function yd(e){if(pc=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pc=e,null}function w_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case fo:return 2;case mo:return 8;case ds:case Ah:return 32;case Kl:return 268435456;default:return 32}default:return 32}}var _d=!1,js=null,Bs=null,qs=null,hl=new Map,fl=new Map,Hs=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(e,n){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function _S(e,n,s,o,h){switch(n){case"focusin":return js=dl(js,e,n,s,o,h),!0;case"dragenter":return Bs=dl(Bs,e,n,s,o,h),!0;case"mouseover":return qs=dl(qs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,e,n,s,o,h)),!0}return!1}function I_(e){var n=mi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Qn(e.priority,function(){b_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Qn(e.priority,function(){b_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=pd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ro=o,s.target.dispatchEvent(o),Ro=null}else return n=Dn(s),n!==null&&S_(n),e.blockedOn=s,!1;n.shift()}return!0}function C_(e,n,s){yc(e)&&s.delete(n)}function vS(){_d=!1,js!==null&&yc(js)&&(js=null),Bs!==null&&yc(Bs)&&(Bs=null),qs!==null&&yc(qs)&&(qs=null),hl.forEach(C_),fl.forEach(C_)}function _c(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vS)))}var vc=null;function N_(e){vc!==e&&(vc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){vc===e&&(vc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(yd(o||s)===null)continue;break}var f=Dn(s);f!==null&&(e.splice(n,3),n-=3,pf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ja(e){function n(R){return _c(R,e)}js!==null&&_c(js,e),Bs!==null&&_c(Bs,e),qs!==null&&_c(qs,e),hl.forEach(n),fl.forEach(n);for(var s=0;s<Hs.length;s++){var o=Hs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Hs.length&&(s=Hs[0],s.blockedOn===null);)I_(s),s.blockedOn===null&&Hs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Be]||null;if(typeof f=="function")g||N_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Be]||null)E=g.formAction;else if(yd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),N_(s)}}}function D_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function vd(e){this._internalRoot=e}Ec.prototype.render=vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=Cn();T_(s,o,e,n,null,null)},Ec.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;T_(e.current,2,null,e,null,null),tc(),n[fi]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=tu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Hs.length&&n!==0&&n<Hs[s].priority;s++);Hs.splice(s,0,e),s===0&&I_(e)}};var O_=t.version;if(O_!=="19.2.3")throw Error(r(527,O_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var ES={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Gn=Tc.inject(ES),Qe=Tc}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",h=kp,f=zp,g=jp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=v_(e,1,!1,null,null,s,o,null,h,f,g,D_),e[fi]=n.current,td(e),new vd(n)},gl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,h="",f=kp,g=zp,E=jp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=v_(e,1,!0,n,s??null,o,h,R,f,g,E,D_),n.context=E_(null),s=n.current,o=Cn(),o=dr(o),h=Cs(o),h.callback=null,Ns(s,h,o),s=o,n.current.lanes=s,hr(n,s),Ci(n),e[fi]=n.current,td(e),new Ec(n)},gl.version="19.2.3",gl}var B_;function DS(){if(B_)return Ad.exports;B_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ad.exports=NS(),Ad.exports}var OS=DS();const VS=()=>{};var q_={};const EE=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},MS=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},TE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,y=l+2<a.length,v=y?a[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let M=(p&15)<<2|v>>6,Y=v&63;y||(Y=64,d||(M=64)),r.push(i[A],i[b],i[M],i[Y])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(EE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):MS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const b=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||v==null||b==null)throw new xS;const M=c<<2|p>>4;if(r.push(M),v!==64){const Y=p<<4&240|v>>2;if(r.push(Y),b!==64){const tt=v<<6&192|b;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class xS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(a){const t=EE(a);return TE.encodeByteArray(t,!0)},kc=function(a){return US(a).replace(/\./g,"")},AE=function(a){try{return TE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function LS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PS=()=>LS().__FIREBASE_DEFAULTS__,kS=()=>{if(typeof process>"u"||typeof q_>"u")return;const a=q_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},zS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&AE(a[1]);return t&&JSON.parse(t)},nh=()=>{try{return VS()||PS()||kS()||zS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},SE=a=>nh()?.emulatorHosts?.[a],jS=a=>{const t=SE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},bE=()=>nh()?.config,wE=a=>nh()?.[`_${a}`];class BS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function so(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RE(a){return(await fetch(a,{credentials:"include"})).ok}function qS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[kc(JSON.stringify(i)),kc(JSON.stringify(d)),""].join(".")}const El={};function HS(){const a={prod:[],emulator:[]};for(const t of Object.keys(El))El[t]?a.emulator.push(t):a.prod.push(t);return a}function GS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let H_=!1;function IE(a,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||El[a]===t||El[a]||H_)return;El[a]=t;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=HS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,Y){M.setAttribute("width","24"),M.setAttribute("id",Y),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{H_=!0,d()},M}function A(M,Y){M.setAttribute("id",Y),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function b(){const M=GS(r),Y=i("text"),tt=document.getElementById(Y)||document.createElement("span"),it=i("learnmore"),$=document.getElementById(it)||document.createElement("a"),ft=i("preprendIcon"),vt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;p(mt),A($,it);const jt=v();y(vt,ft),mt.append(vt,tt,$,jt),document.body.appendChild(mt)}c?(tt.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function QS(){const a=nh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function XS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZS(){const a=an();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function JS(){return!QS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $S(){try{return typeof indexedDB=="object"}catch{return!1}}function WS(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const t1="FirebaseError";class hs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=t1,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?e1(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new hs(l,p,r)}}function e1(a,t){return a.replace(n1,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const n1=/\{\$([^}]+)}/g;function i1(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Gr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=t[l];if(G_(c)&&G_(d)){if(!Gr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function G_(a){return a!==null&&typeof a=="object"}function kl(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function s1(a,t){const i=new r1(a,t);return i.subscribe.bind(i)}class r1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");a1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a1(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Rd(){}function hn(a){return a&&a._delegate?a._delegate:a}class Fr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const kr="[DEFAULT]";class o1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new BS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(u1(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l1(a){return a===kr?void 0:a}function u1(a){return a.instantiationMode==="EAGER"}class c1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new o1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Vt||(Vt={}));const h1={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},f1=Vt.INFO,d1={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},m1=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=d1[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dm{constructor(t){this.name=t,this._logLevel=f1,this._logHandler=m1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?h1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const g1=(a,t)=>t.some(i=>a instanceof i);let F_,Q_;function p1(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y1(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,Bd=new WeakMap,NE=new WeakMap,Id=new WeakMap,mm=new WeakMap;function _1(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Zs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&CE.set(i,a)}).catch(()=>{}),mm.set(t,a),t}function v1(a){if(Bd.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Bd.set(a,t)}let qd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Bd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||NE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function E1(a){qd=a(qd)}function T1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Cd(this),t,...i);return NE.set(r,t.sort?t.sort():[t]),Zs(r)}:y1().includes(a)?function(...t){return a.apply(Cd(this),t),Zs(CE.get(this))}:function(...t){return Zs(a.apply(Cd(this),t))}}function A1(a){return typeof a=="function"?T1(a):(a instanceof IDBTransaction&&v1(a),g1(a,p1())?new Proxy(a,qd):a)}function Zs(a){if(a instanceof IDBRequest)return _1(a);if(Id.has(a))return Id.get(a);const t=A1(a);return t!==a&&(Id.set(a,t),mm.set(t,a)),t}const Cd=a=>mm.get(a);function S1(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=Zs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Zs(d.result),y.oldVersion,y.newVersion,Zs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const b1=["get","getKey","getAll","getAllKeys","count"],w1=["put","add","delete","clear"],Nd=new Map;function Y_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Nd.get(t))return Nd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=w1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||b1.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&y.done]))[0]};return Nd.set(t,c),c}E1(a=>({...a,get:(t,i,r)=>Y_(t,i)||a.get(t,i,r),has:(t,i)=>!!Y_(t,i)||a.has(t,i)}));class R1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(I1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function I1(a){return a.getComponent()?.type==="VERSION"}const Hd="@firebase/app",K_="0.14.6";const os=new dm("@firebase/app"),C1="@firebase/app-compat",N1="@firebase/analytics-compat",D1="@firebase/analytics",O1="@firebase/app-check-compat",V1="@firebase/app-check",M1="@firebase/auth",x1="@firebase/auth-compat",U1="@firebase/database",L1="@firebase/data-connect",P1="@firebase/database-compat",k1="@firebase/functions",z1="@firebase/functions-compat",j1="@firebase/installations",B1="@firebase/installations-compat",q1="@firebase/messaging",H1="@firebase/messaging-compat",G1="@firebase/performance",F1="@firebase/performance-compat",Q1="@firebase/remote-config",Y1="@firebase/remote-config-compat",K1="@firebase/storage",X1="@firebase/storage-compat",Z1="@firebase/firestore",J1="@firebase/ai",$1="@firebase/firestore-compat",W1="firebase",tb="12.6.0";const Gd="[DEFAULT]",eb={[Hd]:"fire-core",[C1]:"fire-core-compat",[D1]:"fire-analytics",[N1]:"fire-analytics-compat",[V1]:"fire-app-check",[O1]:"fire-app-check-compat",[M1]:"fire-auth",[x1]:"fire-auth-compat",[U1]:"fire-rtdb",[L1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[k1]:"fire-fn",[z1]:"fire-fn-compat",[j1]:"fire-iid",[B1]:"fire-iid-compat",[q1]:"fire-fcm",[H1]:"fire-fcm-compat",[G1]:"fire-perf",[F1]:"fire-perf-compat",[Q1]:"fire-rc",[Y1]:"fire-rc-compat",[K1]:"fire-gcs",[X1]:"fire-gcs-compat",[Z1]:"fire-fst",[$1]:"fire-fst-compat",[J1]:"fire-vertex","fire-js":"fire-js",[W1]:"fire-js-all"};const zc=new Map,nb=new Map,Fd=new Map;function X_(a,t){try{a.container.addComponent(t)}catch(i){os.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Za(a){const t=a.name;if(Fd.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;Fd.set(t,a);for(const i of zc.values())X_(i,a);for(const i of nb.values())X_(i,a);return!0}function gm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function ni(a){return a==null?!1:a.settings!==void 0}const ib={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Pl("app","Firebase",ib);class sb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const ro=tb;function DE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Gd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Js.create("bad-app-name",{appName:String(l)});if(i||(i=bE()),!i)throw Js.create("no-options");const c=zc.get(l);if(c){if(Gr(i,c.options)&&Gr(r,c.config))return c;throw Js.create("duplicate-app",{appName:l})}const d=new c1(l);for(const y of Fd.values())d.addComponent(y);const p=new sb(i,r,d);return zc.set(l,p),p}function OE(a=Gd){const t=zc.get(a);if(!t&&a===Gd&&bE())return DE();if(!t)throw Js.create("no-app",{appName:a});return t}function $s(a,t,i){let r=eb[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}Za(new Fr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const rb="firebase-heartbeat-database",ab=1,Rl="firebase-heartbeat-store";let Dd=null;function VE(){return Dd||(Dd=S1(rb,ab,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Js.create("idb-open",{originalErrorMessage:a.message})})),Dd}async function ob(a){try{const i=(await VE()).transaction(Rl),r=await i.objectStore(Rl).get(ME(a));return await i.done,r}catch(t){if(t instanceof hs)os.warn(t.message);else{const i=Js.create("idb-get",{originalErrorMessage:t?.message});os.warn(i.message)}}}async function Z_(a,t){try{const r=(await VE()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(t,ME(a)),await r.done}catch(i){if(i instanceof hs)os.warn(i.message);else{const r=Js.create("idb-set",{originalErrorMessage:i?.message});os.warn(r.message)}}}function ME(a){return`${a.name}!${a.options.appId}`}const lb=1024,ub=30;class cb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>ub){const l=db(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:i,unsentEntries:r}=hb(this._heartbeatsCache.heartbeats),l=kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return os.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function hb(a,t=lb){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),$_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class fb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $S()?WS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ob(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function $_(a){return kc(JSON.stringify({version:2,heartbeats:a})).length}function db(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function mb(a){Za(new Fr("platform-logger",t=>new R1(t),"PRIVATE")),Za(new Fr("heartbeat",t=>new cb(t),"PRIVATE")),$s(Hd,K_,a),$s(Hd,K_,"esm2020"),$s("fire-js","")}mb("");var gb="firebase",pb="12.7.0";$s(gb,pb,"app");function xE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yb=xE,UE=new Pl("auth","Firebase",xE());const jc=new dm("@firebase/auth");function _b(a,...t){jc.logLevel<=Vt.WARN&&jc.warn(`Auth (${ro}): ${a}`,...t)}function Cc(a,...t){jc.logLevel<=Vt.ERROR&&jc.error(`Auth (${ro}): ${a}`,...t)}function Li(a,...t){throw ym(a,...t)}function ri(a,...t){return ym(a,...t)}function pm(a,t,i){const r={...yb(),[t]:i};return new Pl("auth","Firebase",r).create(t,{appName:a.name})}function qr(a){return pm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vb(a,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Li(a,"argument-error"),pm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ym(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return UE.create(a,...t)}function yt(a,t,...i){if(!a)throw ym(t,...i)}function rs(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Cc(t),new Error(t)}function ls(a,t){a||rs(t)}function Qd(){return typeof self<"u"&&self.location?.href||""}function Eb(){return W_()==="http:"||W_()==="https:"}function W_(){return typeof self<"u"&&self.location?.protocol||null}function Tb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Eb()||KS()||"connection"in navigator)?navigator.onLine:!0}function Ab(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ls(i>t,"Short delay should be less than long delay!"),this.isMobile=FS()||XS()}get(){return Tb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _m(a,t){ls(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class LE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wb=new zl(3e4,6e4);function vm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function ao(a,t,i,r,l={}){return PE(a,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=kl({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:y,...c};return YS()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&so(a.emulatorConfig.host)&&(v.credentials="include"),LE.fetch()(await kE(a,a.config.apiHost,i,p),v)})}async function PE(a,t,i){a._canInitEmulator=!1;const r={...Sb,...t};try{const l=new Ib(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ac(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ac(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ac(a,"user-disabled",d);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw pm(a,A,v);Li(a,A)}}catch(l){if(l instanceof hs)throw l;Li(a,"network-request-failed",{message:String(l)})}}async function Rb(a,t,i,r,l={}){const c=await ao(a,t,i,r,l);return"mfaPendingCredential"in c&&Li(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function kE(a,t,i,r){const l=`${t}${i}?${r}`,c=a,d=c.config.emulator?_m(a.config,l):`${a.config.apiScheme}://${l}`;return bb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Ib{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),wb.get())})}}function Ac(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ri(a,t,r);return l.customData._tokenResponse=i,l}async function Cb(a,t){return ao(a,"POST","/v1/accounts:delete",t)}async function Bc(a,t){return ao(a,"POST","/v1/accounts:lookup",t)}function Tl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Nb(a,t=!1){const i=hn(a),r=await i.getIdToken(t),l=Em(r);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Tl(Od(l.auth_time)),issuedAtTime:Tl(Od(l.iat)),expirationTime:Tl(Od(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Od(a){return Number(a)*1e3}function Em(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const l=AE(i);return l?JSON.parse(l):(Cc("Failed to decode base64 JWT payload"),null)}catch(l){return Cc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function tv(a){const t=Em(a);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Il(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof hs&&Db(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function Db({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class Ob{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qc(a){const t=a.auth,i=await a.getIdToken(),r=await Il(a,Bc(t,{idToken:i}));yt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?zE(l.providerUserInfo):[],d=Mb(a.providerData,c),p=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,v=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Yd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(a,A)}async function Vb(a){const t=hn(a);await qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Mb(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function zE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function xb(a,t){const i=await PE(a,{},async()=>{const r=kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await kE(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return a.emulatorConfig&&so(a.emulatorConfig.host)&&(y.credentials="include"),LE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Ub(a,t){return ao(a,"POST","/v2/accounts:revokeToken",vm(a,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=tv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await xb(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Fa;return r&&(yt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Fs(a,t){yt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Ob(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Yd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Il(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Nb(this,t)}reload(){return Vb(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await qc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(qr(this.auth));const t=await this.getIdToken();return await Il(this,Cb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:M,isAnonymous:Y,providerData:tt,stsTokenManager:it}=i;yt(b&&it,t,"internal-error");const $=Fa.fromJSON(this.name,it);yt(typeof b=="string",t,"internal-error"),Fs(r,t.name),Fs(l,t.name),yt(typeof M=="boolean",t,"internal-error"),yt(typeof Y=="boolean",t,"internal-error"),Fs(c,t.name),Fs(d,t.name),Fs(p,t.name),Fs(y,t.name),Fs(v,t.name),Fs(A,t.name);const ft=new ii({uid:b,auth:t,email:l,emailVerified:M,displayName:r,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:$,createdAt:v,lastLoginAt:A});return tt&&Array.isArray(tt)&&(ft.providerData=tt.map(vt=>({...vt}))),y&&(ft._redirectEventId=y),ft}static async _fromIdTokenResponse(t,i,r=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new ii({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await qc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?zE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(r);const y=new ii({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Yd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const ev=new Map;function as(a){ls(a instanceof Function,"Expected a class definition");let t=ev.get(a);return t?(ls(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,ev.set(a,t),t)}class jE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}jE.type="NONE";const nv=jE;function Nc(a,t,i){return`firebase:${a}:${t}:${i}`}class Qa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Bc(this.auth,{idToken:t}).catch(()=>{});return i?ii._fromGetAccountInfoResponse(this.auth,i,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Qa(as(nv),t,r);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||as(nv);const d=Nc(r,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let b;if(typeof A=="string"){const M=await Bc(t,{idToken:A}).catch(()=>{});if(!M)break;b=await ii._fromGetAccountInfoResponse(t,M,A)}else b=ii._fromJSON(t,A);v!==c&&(p=b),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Qa(c,t,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Qa(c,t,r))}}function iv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(GE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(QE(t))return"Blackberry";if(YE(t))return"Webos";if(qE(t))return"Safari";if((t.includes("chrome/")||HE(t))&&!t.includes("edge/"))return"Chrome";if(FE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function BE(a=an()){return/firefox\//i.test(a)}function qE(a=an()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function HE(a=an()){return/crios\//i.test(a)}function GE(a=an()){return/iemobile/i.test(a)}function FE(a=an()){return/android/i.test(a)}function QE(a=an()){return/blackberry/i.test(a)}function YE(a=an()){return/webos/i.test(a)}function Tm(a=an()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Lb(a=an()){return Tm(a)&&!!window.navigator?.standalone}function Pb(){return ZS()&&document.documentMode===10}function KE(a=an()){return Tm(a)||FE(a)||YE(a)||QE(a)||/windows phone/i.test(a)||GE(a)}function XE(a,t=[]){let i;switch(a){case"Browser":i=iv(an());break;case"Worker":i=`${iv(an())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${r}`}class kb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function zb(a,t={}){return ao(a,"GET","/v2/passwordPolicy",vm(a,t))}const jb=6;class Bb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class qb{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sv(this),this.idTokenSubscription=new sv(this),this.beforeStateQueue=new kb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=as(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Bc(this,{idToken:t}),r=await ii._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ab()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(qr(this));const i=t?hn(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zb(this),i=new Bb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ub(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&as(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[as(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=XE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_b(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ih(a){return hn(a)}class sv{constructor(t){this.auth=t,this.observer=null,this.addObserver=s1(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hb(a){Am=a}function Gb(a){return Am.loadJS(a)}function Fb(){return Am.gapiScript}function Qb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function Yb(a,t){const i=gm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Gr(c,t??{}))return l;Li(l,"already-initialized")}return i.initialize({options:t})}function Kb(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(as);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function Xb(a,t,i){const r=ih(a);yt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=ZE(t),{host:d,port:p}=Zb(t),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){yt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),yt(Gr(v,r.config.emulator)&&Gr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,so(d)?(RE(`${c}//${d}${y}`),IE("Auth",!0)):Jb()}function ZE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function Zb(a){const t=ZE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:rv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:rv(d)}}}function rv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function Jb(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class JE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return rs("not implemented")}_getIdTokenResponse(t){return rs("not implemented")}_linkToIdToken(t,i){return rs("not implemented")}_getReauthenticationResolver(t){return rs("not implemented")}}async function Ya(a,t){return Rb(a,"POST","/v1/accounts:signInWithIdp",vm(a,t))}const $b="http://localhost";class Qr extends JE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Li("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Qr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ya(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:$b,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=kl(i)}return t}}class Sm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jl extends Sm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qs extends jl{constructor(){super("facebook.com")}static credential(t){return Qr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class ss extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qr._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ss.credential(i,r)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";class Ys extends jl{constructor(){super("github.com")}static credential(t){return Qr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";class Ks extends jl{constructor(){super("twitter.com")}static credential(t,i){return Qr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ks.credential(i,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";class Ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ii._fromIdTokenResponse(t,r,l),d=av(r);return new Ja({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=av(r);return new Ja({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function av(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Hc extends hs{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Hc(t,i,r,l)}}function $E(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(a,c,t,r):c})}async function Wb(a,t,i=!1){const r=await Il(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ja._forOperation(a,"link",r)}async function tw(a,t,i=!1){const{auth:r}=a;if(ni(r.app))return Promise.reject(qr(r));const l="reauthenticate";try{const c=await Il(a,$E(r,l,t,a),i);yt(c.idToken,r,"internal-error");const d=Em(c.idToken);yt(d,r,"internal-error");const{sub:p}=d;return yt(a.uid===p,r,"user-mismatch"),Ja._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Li(r,"user-mismatch"),c}}async function ew(a,t,i=!1){if(ni(a.app))return Promise.reject(qr(a));const r="signIn",l=await $E(a,r,t),c=await Ja._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}function nw(a,t,i,r){return hn(a).onIdTokenChanged(t,i,r)}function iw(a,t,i){return hn(a).beforeAuthStateChanged(t,i)}function sw(a,t,i,r){return hn(a).onAuthStateChanged(t,i,r)}function rw(a){return hn(a).signOut()}const Gc="__sak";class WE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const aw=1e3,ow=10;class tT extends WE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Pb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,ow):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}tT.type="LOCAL";const lw=tT;class eT extends WE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}eT.type="SESSION";const nT=eT;function uw(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new sh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),y=await uw(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];function bm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class cw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=bm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const M=b;if(M.data.eventId===v)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function hw(a){Di().location.href=a}function iT(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function fw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dw(){return navigator?.serviceWorker?.controller||null}function mw(){return iT()?self:null}const sT="firebaseLocalStorageDb",gw=1,Fc="firebaseLocalStorage",rT="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(a,t){return a.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function pw(){const a=indexedDB.deleteDatabase(sT);return new Bl(a).toPromise()}function Kd(){const a=indexedDB.open(sT,gw);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Fc,{keyPath:rT})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Fc)?t(r):(r.close(),await pw(),t(await Kd()))})})}async function ov(a,t,i){const r=rh(a,!0).put({[rT]:t,value:i});return new Bl(r).toPromise()}async function yw(a,t){const i=rh(a,!1).get(t),r=await new Bl(i).toPromise();return r===void 0?null:r.value}function lv(a,t){const i=rh(a,!0).delete(t);return new Bl(i).toPromise()}const _w=800,vw=3;class aT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>vw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(mw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fw(),!this.activeServiceWorker)return;this.sender=new cw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kd();return await ov(t,Gc,"1"),await lv(t,Gc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>ov(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>yw(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>lv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=rh(l,!1).getAll();return new Bl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aT.type="LOCAL";const Ew=aT;new zl(3e4,6e4);function oT(a,t){return t?as(t):(yt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class wm extends JE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Tw(a){return ew(a.auth,new wm(a),a.bypassAuthState)}function Aw(a){const{auth:t,user:i}=a;return yt(i,t,"internal-error"),tw(i,new wm(a),a.bypassAuthState)}async function Sw(a){const{auth:t,user:i}=a;return yt(i,t,"internal-error"),Wb(i,new wm(a),a.bypassAuthState)}class lT{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Tw;case"linkViaPopup":case"linkViaRedirect":return Sw;case"reauthViaPopup":case"reauthViaRedirect":return Aw;default:Li(this.auth,"internal-error")}}resolve(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bw=new zl(2e3,1e4);async function ww(a,t,i){if(ni(a.app))return Promise.reject(ri(a,"operation-not-supported-in-this-environment"));const r=ih(a);vb(a,t,Sm);const l=oT(r,i);return new jr(r,"signInViaPopup",t,l).executeNotNull()}class jr extends lT{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,jr.currentPopupAction&&jr.currentPopupAction.cancel(),jr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const t=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,bw.get())};t()}}jr.currentPopupAction=null;const Rw="pendingRedirect",Dc=new Map;class Iw extends lT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const r=await Cw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cw(a,t){const i=Ow(t),r=Dw(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function Nw(a,t){Dc.set(a._key(),t)}function Dw(a){return as(a._redirectPersistence)}function Ow(a){return Nc(Rw,a.config.apiKey,a.name)}async function Vw(a,t,i=!1){if(ni(a.app))return Promise.reject(qr(a));const r=ih(a),l=oT(r,t),d=await new Iw(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const Mw=600*1e3;class xw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!uT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ri(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Mw&&this.cachedEventUids.clear(),this.cachedEventUids.has(uv(t))}saveEventToCache(t){this.cachedEventUids.add(uv(t)),this.lastProcessedEventTime=Date.now()}}function uv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function uT({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function Uw(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(a);default:return!1}}async function Lw(a,t={}){return ao(a,"GET","/v1/projects",t)}const Pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kw=/^https?/;async function zw(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Lw(a);for(const i of t)try{if(jw(i))return}catch{}Li(a,"unauthorized-domain")}function jw(a){const t=Qd(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!kw.test(i))return!1;if(Pw.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const Bw=new zl(3e4,6e4);function cv(){const a=Di().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function qw(a){return new Promise((t,i)=>{function r(){cv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cv(),i(ri(a,"network-request-failed"))},timeout:Bw.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)r();else{const l=Qb("iframefcb");return Di()[l]=()=>{gapi.load?r():i(ri(a,"network-request-failed"))},Gb(`${Fb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Oc=null,t})}let Oc=null;function Hw(a){return Oc=Oc||qw(a),Oc}const Gw=new zl(5e3,15e3),Fw="__/auth/iframe",Qw="emulator/auth/iframe",Yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xw(a){const t=a.config;yt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?_m(t,Qw):`https://${a.config.authDomain}/${Fw}`,r={apiKey:t.apiKey,appName:a.name,v:ro},l=Kw.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${kl(r).slice(1)}`}async function Zw(a){const t=await Hw(a),i=Di().gapi;return yt(i,a,"internal-error"),t.open({where:document.body,url:Xw(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ri(a,"network-request-failed"),p=Di().setTimeout(()=>{c(d)},Gw.get());function y(){Di().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const Jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$w=500,Ww=600,tR="_blank",eR="http://localhost";class hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nR(a,t,i,r=$w,l=Ww){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...Jw,width:r.toString(),height:l.toString(),top:c,left:d},v=an().toLowerCase();i&&(p=HE(v)?tR:i),BE(v)&&(t=t||eR,y.scrollbars="yes");const A=Object.entries(y).reduce((M,[Y,tt])=>`${M}${Y}=${tt},`,"");if(Lb(v)&&p!=="_self")return iR(t||"",p),new hv(null);const b=window.open(t||"",p,A);yt(b,a,"popup-blocked");try{b.focus()}catch{}return new hv(b)}function iR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const sR="__/auth/handler",rR="emulator/auth/handler",aR=encodeURIComponent("fac");async function fv(a,t,i,r,l,c){yt(a.config.authDomain,a,"auth-domain-config-required"),yt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:ro,eventId:l};if(t instanceof Sm){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",i1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof jl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await a._getAppCheckToken(),v=y?`#${aR}=${encodeURIComponent(y)}`:"";return`${oR(a)}?${kl(p).slice(1)}${v}`}function oR({config:a}){return a.emulator?_m(a,rR):`https://${a.authDomain}/${sR}`}const Vd="webStorageSupport";class lR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nT,this._completeRedirectFn=Vw,this._overrideRedirectResult=Nw}async _openPopup(t,i,r,l){ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await fv(t,i,r,Qd(),l);return nR(t,c,bm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await fv(t,i,r,Qd(),l);return hw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ls(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Zw(t),r=new xw(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Vd,{type:Vd},l=>{const c=l?.[0]?.[Vd];c!==void 0&&i(!!c),Li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=zw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return KE()||qE()||Tm()}}const uR=lR;var dv="@firebase/auth",mv="1.12.0";class cR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fR(a){Za(new Fr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XE(a)},v=new qb(r,l,c,y);return Kb(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Za(new Fr("auth-internal",t=>{const i=ih(t.getProvider("auth").getImmediate());return(r=>new cR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(dv,mv,hR(a)),$s(dv,mv,"esm2020")}const dR=300,mR=wE("authIdTokenMaxAge")||dR;let gv=null;const gR=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>mR)return;const l=i?.token;gv!==l&&(gv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function pR(a=OE()){const t=gm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=Yb(a,{popupRedirectResolver:uR,persistence:[Ew,lw,nT]}),r=wE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=gR(c.toString());iw(i,d,()=>d(i.currentUser)),nw(i,p=>d(p))}}const l=SE("auth");return l&&Xb(i,`http://${l}`),i}function yR(){return document.getElementsByTagName("head")?.[0]??document}Hb({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const c=ri("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",yR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fR("Browser");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,cT;(function(){var a;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,U){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],w;w=S+(U^I&(N^U))+V[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(I^N))+V[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(I^N^U)+V[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(N^(I|~U))+V[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<S;)if(V[N++]=C[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[S++]=this.g[I]>>>V&255;return C};function c(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==S||(I[N]=U,V=!1)}this.g=I}var p={};function y(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return $(v(-C));const S=[];let I=1;for(let V=0;C>=I;V++)S[V]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return $(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(S,8));let V=b;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+N),S);N<8?(N=v(Math.pow(S,N)),V=V.j(N).add(v(w))):(V=V.j(I),V=V.add(v(w)))}return V}var b=y(0),M=y(1),Y=y(16777216);a=d.prototype,a.m=function(){if(it(this))return-$(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(it(this))return"-"+$(this).toString(C);const S=v(Math.pow(C,6));var I=this;let V="";for(;;){const N=jt(I,S).g;I=ft(I,N.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,tt(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function it(C){return C.h==-1}a.l=function(C){return C=ft(this,C),it(C)?-1:tt(C)?0:1};function $(C){const S=C.g.length,I=[];for(let V=0;V<S;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}a.abs=function(){return it(this)?$(this):this},a.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=S;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=w>>>16,U&=65535,w&=65535,I[N]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,S){return C.add($(S))}a.j=function(C){if(tt(this)||tt(C))return b;if(it(this))return it(C)?$(this).j($(C)):$($(this).j(C));if(it(C))return $(this.j($(C)));if(this.l(Y)<0&&C.l(Y)<0)return v(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,w=this.i(V)&65535,ie=C.i(N)>>>16,de=C.i(N)&65535;I[2*V+2*N]+=w*de,vt(I,2*V+2*N),I[2*V+2*N+1]+=U*de,vt(I,2*V+2*N+1),I[2*V+2*N+1]+=w*ie,vt(I,2*V+2*N+1),I[2*V+2*N+2]+=U*ie,vt(I,2*V+2*N+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function vt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function mt(C,S){this.g=C,this.h=S}function jt(C,S){if(tt(S))throw Error("division by zero");if(tt(C))return new mt(b,b);if(it(C))return S=jt($(C),S),new mt($(S.g),$(S.h));if(it(S))return S=jt(C,$(S)),new mt($(S.g),S.h);if(C.g.length>30){if(it(C)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(C)<=0;)I=ne(I),V=ne(V);var N=Ut(I,1),U=Ut(V,1);for(V=Ut(V,2),I=Ut(I,2);!tt(V);){var w=U.add(V);w.l(C)<=0&&(N=N.add(I),U=w),V=Ut(V,1),I=Ut(I,1)}return S=ft(C,N.j(S)),new mt(N,S)}for(N=b;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=v(I),w=U.j(S);it(w)||w.l(C)>0;)I-=V,U=v(I),w=U.j(S);tt(U)&&(U=M),N=N.add(U),C=ft(C,w)}return new mt(N,C)}a.B=function(C){return jt(this,C).h},a.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},a.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},a.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function ne(C){const S=C.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Ut(C,S){const I=S>>5;S%=32;const V=C.g.length-I,N=[];for(let U=0;U<V;U++)N[U]=S>0?C.i(U+I)>>>S|C.i(U+I+1)<<32-S:C.i(U+I);return new d(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Ws=d}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hT,pl,fT,Vc,Xd,dT,mT,gT;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var _=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var W=Array(arguments.length-2),St=2;St<arguments.length;St++)W[St-2]=arguments[St];return m.prototype[L].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let W=0;W<B;W++)u[_+W]=L[W]}else u.push(L)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,_){const T=mt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new it(()=>new jt,u=>u.reset());class jt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Ut=!1,C=new vt,S=()=>{const u=Promise.resolve(void 0);ne=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(_){$(_)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ie,N),ie.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Gt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<K.length;B++)_=K[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=At(u,m,T,L);return W>-1?(m=u[W],_||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function pt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function At(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),ye={};function F(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)F(u,m[B],_,T,L);return null}return _=me(_),u&&u[de]?u.J(m,_,p(T)?!!T.capture:!1,L):zt(u,m,_,!1,T,L)}function zt(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let St=on(u);if(St||(u[Nt]=St=new rt(u)),_=St.add(m,_,T,W,B),_.proxy)return _;if(T=Bt(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Lt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Bt(){function u(_){return m.call(u.src,u.listener,_)}const m=Fe;return u}function Pe(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Pe(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=me(_),u&&u[de]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=At(m,_,T,L),_>-1&&(ut(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=on(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,_,T,L)),(_=u>-1?m[u]:null)&&he(_))}function he(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])pt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Lt(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=on(m))?(pt(_,u),_.h==0&&(_.src=null,m[Nt]=null)):ut(u)}}}function Lt(u){return u in ye?ye[u]:ye[u]="on"+u}function Fe(u,m){if(u.da)u=!0;else{m=new ie(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&he(u),u=_.call(T,m)}return u}function on(u){return u=u[Nt],u instanceof rt?u:null}var Kt="__closure_events_fn_"+(Math.random()*1e9>>>0);function me(u){return typeof u=="function"?u:(u[Kt]||(u[Kt]=function(m){return u.handleEvent(m)}),u[Kt])}function we(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}b(we,V),we.prototype[de]=!0,we.prototype.removeEventListener=function(u,m,_,T){Pe(this,u,m,_,T)};function ke(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),et(m,L)}L=!0;let B,W;if(_)for(W=_.length-1;W>=0;W--)B=m.g=_[W],L=fs(B,T,!0,m)&&L;if(B=m.g=u,L=fs(B,T,!0,m)&&L,L=fs(B,T,!1,m)&&L,_)for(W=0;W<_.length;W++)B=m.g=_[W],L=fs(B,T,!1,m)&&L}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ut(_[T]);delete u.g[m],u.h--}}this.G=null},we.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},we.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function fs(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==_){const St=W.listener,ve=W.ha||W.src;W.fa&&pt(u.i,W),L=St.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function Th(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Yl(u){u.g=Th(()=>{u.g=null,u.i&&(u.i=!1,Yl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){V.call(this),this.h=u,this.g={}}b(ur,V);var fo=[];function mo(u){Rt(u.g,function(m,_){this.g.hasOwnProperty(_)&&he(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),mo(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,Ah=d.JSON.parse,Kl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Xl(){}function Zl(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){N.call(this,"d")}b(Qe,N);function Nn(){N.call(this,"c")}b(Nn,N);var _e={},Jl=null;function ta(){return Jl=Jl||new we}_e.Ia="serverreachability";function $l(u){N.call(this,_e.Ia,u)}b($l,N);function li(u){const m=ta();ke(m,new $l(m))}_e.STAT_EVENT="statevent";function cr(u,m){N.call(this,_e.STAT_EVENT,u),this.stat=m}b(cr,N);function Re(u){const m=ta();ke(m,new cr(m,u))}_e.Ja="timingevent";function ui(u,m){N.call(this,_e.Ja,u),this.size=m}b(ui,N);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Sh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var W="",St=B.split("&");for(let Ft=0;Ft<St.length;Ft++){var ve=St[Ft].split("=");if(ve.length>1){const ue=ve[0];ve=ve[1];const Mn=ue.split("_");W=Mn.length>=2&&Mn[1]=="type"?W+(ue+"="+ve+"&"):W+(ue+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+W})}function Wl(u,m,_,T,L,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+W})}function hi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+bh(u,_)+(T?" "+T:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function bh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ds(B)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function dr(){}b(dr,Xl),dr.prototype.g=function(){return new XMLHttpRequest},po=new dr;function ki(u){return encodeURIComponent(String(u))}function tu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Qn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Ie={},Be={};function fi(u,m,_){u.M=1,u.A=mr(Ne(m)),u.u=_,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),di(u),u.B=Ne(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ra(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Yn,u.g=gu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new ln(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(fo[0]=L.toString()),L=fo);for(let B=0;B<L.length;B++){const W=F(_,L[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),Sh(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Zn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Zn(this.g),ve=this.g.ya(),Ft=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||St!=4||ve==7||(ve==8||Ft<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var _=wh(this);if(this.o=m==200,Wl(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,Re(12),En(this),Dn(this);break t}}if(this.R){u=!0;let ue;for(;!this.K&&this.C<_.length;)if(ue=nu(this,_),ue==Be){St==4&&(this.m=4,Re(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Ie){this.m=4,Re(15),hi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,ue,null),gi(this,ue);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,Re(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,_,"[Invalid Chunked Response]"),En(this),Dn(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Oo(W),W.P=!0,Re(11))}}else hi(this.i,this.l,_,null),gi(this,_);St==4&&En(this),this.o&&!this.K&&(St==4?hu(this.j,this):(this.o=!1,di(this)))}else ji(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),En(this),Dn(this)}}}catch{}};function wh(u){if(!eu(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let _="";const T=m.length,L=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function nu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Be:(_=Number(m.substring(_,T)),isNaN(_)?Ie:(T+=1,T+_>m.length?Be:(m=m.slice(T,T+_),u.C=T+_,m)))}Qn.prototype.cancel=function(){this.K=!0,En(this)};function di(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(v(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(li(),Re(17)),En(this),this.m=2,Dn(this)):na(this,this.T-u)};function Dn(u){u.j.I==0||u.K||hu(u.j,u)}function En(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||yi(_.h,u))){if(!u.L&&yi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ca(_),Ts(_);else break t;Tr(_),Re(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ci(v(_.Va,_),6e3));pi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Si(_,11)}else if((u.L||_.g==u)&&ca(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Ft=L[m];const ue=Ft[0];if(!(ue<=_.K))if(_.K=ue,Ft=Ft[1],_.I==2)if(Ft[0]=="c"){_.M=Ft[1],_.ba=Ft[2];const Mn=Ft[3];Mn!=null&&(_.ka=Mn,_.j.info("VER="+_.ka));const bi=Ft[4];bi!=null&&(_.za=bi,_.j.info("SVER="+_.za));const Jn=Ft[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(T=1.5*Jn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const $n=u.g;if($n){const Ar=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var B=T.h;B.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vo(B,B.h),B.h=null))}if(T.G){const ha=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(T.wa=ha,Xt(T.J,T.G,ha))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var W=u;if(T.na=mu(T,T.L?T.ba:null,T.W),W.L){Eo(T.h,W);var St=W,ve=T.O;ve&&(St.H=ve),St.D&&(mi(St),di(St)),T.g=W}else uu(T);_.i.length>0&&Ai(_)}else Ft[0]!="stop"&&Ft[0]!="close"||Si(_,7);else _.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Si(_,7):No(_):Ft[0]!="noop"&&_.l&&_.l.qa(Ft),_.A=0)}}li(4)}catch{}}var Ce=class{constructor(u,m){this.g=u,this.map=m}};function yo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vo(u,m){u.g?u.g.add(m):u.h=m}function Eo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yo.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Y(u.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,ms(this,u.u),this.h=u.h,Ao(this,ou(u.i)),this.m=u.m):u&&(m=String(u).match(iu))?(this.l=!1,qe(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),ms(this,m[4]),this.h=_i(m[5]||"",!0),Ao(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gr(m,sa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gr(m,sa,!0),"@"),u.push(ki(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(gr(_,_.charAt(0)=="/"?So:su,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",gr(_,ru)),u.join("")},Tn.prototype.resolve=function(u){const m=Ne(this);let _=!!u.j;_?qe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ms(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const St=L[W++];St=="."?T&&W==L.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==L.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?Ao(m,ou(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ne(u){return new Tn(u)}function qe(u,m,_){u.j=_?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ao(u,m,_){m instanceof ps?(u.i=m,aa(u.i,u.l)):(_||(m=gr(m,gs)),u.i=new ps(m,u.l))}function Xt(u,m,_){u.i.set(m,_)}function mr(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,su=/[#\?:]/g,So=/[#\?]/g,gs=/[#\?@]/g,ru=/#/g;function ps(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=ps.prototype,a.add=function(u,m){dn(this),this.i=null,u=ys(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function au(u,m){dn(u),m=ys(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bo(u,m){return dn(u),m=ys(u,m),u.g.has(m)}a.forEach=function(u,m){dn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function wo(u,m){dn(u);let _=[];if(typeof m=="string")bo(u,m)&&(_=_.concat(u.g.get(ys(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return dn(this),this.i=null,u=ys(this,u),bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=wo(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,_){au(u,m),_.length>0&&(u.i=null,u.g.set(ys(u,m),Y(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=ki(_);_=wo(this,_);for(let B=0;B<_.length;B++){let W=L;_[B]!==""&&(W+="="+ki(_[B])),u.push(W)}}return this.i=u.join("&")};function ou(u){const m=new ps;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ys(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(au(this,T),ra(this,L,_))},u)),u.j=m}function Kn(u,m){const _=new Fn;if(d.Image){const T=new Image;T.onload=A(On,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(On,_,"TestLoadImage: error",!1,m,T),T.onabort=A(On,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(On,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ro(u,m){const _=new Fn,T=new AbortController,L=setTimeout(()=>{T.abort(),On(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?On(_,"TestPingServer: ok",!0,m):On(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),On(_,"TestPingServer: error",!1,m)})}function On(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function _s(){this.g=new Kl}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(vi,Xl),vi.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,m){we.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(pr,we),a=pr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Xn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vs(this):Xn(this),this.readyState==3&&oa(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,vs(this))},a.Na=function(u){this.g&&(this.response=u,vs(this))},a.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Xn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return Rt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function yr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Vn(_),typeof u=="string"?_!=null&&ki(_):Xt(u,m,_))}function $t(u){we.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($t,we);var Ei=/^https?$/i,Io=["POST","PUT"];a=$t.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){_r(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of _)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){_r(this,B)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Co(u),zi(u)}function Co(u){u.A||(u.A=!0,ke(u,"complete"),ke(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ke(this,"complete"),ke(this,"abort"),zi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),$t.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},a.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ke(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let W=String(u.D).match(iu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ei.test(W?W.toLowerCase():"")}_=T}if(_)ke(u,"complete"),ke(u,"success");else{u.o=6;try{var L=Zn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Co(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||ke(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ah(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=tu(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Gt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Es(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(u&&u.concurrentRequestLimit),this.Ba=new _s,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Es.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,T){Re(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=mu(this,null,this.W),Ai(this)};function No(u){if(la(u),u.I==3){var m=u.V++,_=Ne(u.J);if(Xt(_,"SID",u.M),Xt(_,"RID",m),Xt(_,"TYPE","terminate"),Er(u,_),m=new Qn(u,u.j,m),m.M=2,m.A=mr(Ne(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=gu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}du(u)}function Ts(u){u.g&&(Oo(u),u.g.cancel(),u.g=null)}function la(u){Ts(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!_o(u.h)&&!u.m){u.m=!0;var m=u.Ea;ne||S(),Ut||(ne(),Ut=!0),C.add(m,u),u.D=0}}function ua(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(v(u.Ea,u,m),fu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Qn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=lu(this,L,m),_=Ne(this.J),Xt(_,"RID",u),Xt(_,"CVER",22),this.G&&Xt(_,"X-HTTP-Session-Id",this.G),Er(this,_),B&&(this.R?m="headers="+ki(Vn(B))+"&"+m:this.u&&yr(_,this.u,B)),vo(this.h,L),this.Ra&&Xt(_,"TYPE","init"),this.S?(Xt(_,"$req",m),Xt(_,"SID","null"),L.U=!0,fi(L,_,null)):fi(L,_,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||_o(this.h)||Do(this))};function Do(u,m){var _;m?_=m.l:_=u.V++;const T=Ne(u.J);Xt(T,"SID",u.M),Xt(T,"RID",_),Xt(T,"AID",u.K),Er(u,T),u.u&&u.o&&yr(T,u.u,u.o),_=new Qn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=lu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vo(u.h,_),fi(_,T,m)}function Er(u,m){u.H&&Rt(u.H,function(_,T){Xt(m,T,_)}),u.l&&Rt({},function(_,T){Xt(m,T,_)})}function lu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const ve=["count="+_];St==-1?_>0?(St=L[0].g,ve.push("ofs="+St)):St=0:ve.push("ofs="+St);let Ft=!0;for(let ue=0;ue<_;ue++){var B=L[ue].g;const Mn=L[ue].map;if(B-=St,B<0)St=Math.max(0,L[ue].g-100),Ft=!1;else try{B="req"+B+"_"||"";try{var W=Mn instanceof Map?Mn:Object.entries(Mn);for(const[bi,Jn]of W){let $n=Jn;p(Jn)&&($n=ds(Jn)),ve.push(B+bi+"="+encodeURIComponent($n))}}catch(bi){throw ve.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{T&&T(Mn)}}if(Ft){W=ve.join("&");break t}}W=void 0}return u=u.i.splice(0,_),m.G=u,W}function uu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ne||S(),Ut||(ne(),Ut=!0),C.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(v(u.Da,u),fu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Ts(this),cu(this))};function Oo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function cu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=mr(Ne(m)),_.u=null,_.R=!0,ea(_,u)}a.Va=function(){this.C!=null&&(this.C=null,Ts(this),Tr(this),Re(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function hu(u,m){var _=null;if(u.g==m){ca(u),Oo(u),u.g=null;var T=2}else if(yi(u.h,m))_=m.G,Eo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ta(),ke(T,new ui(T,_)),Ai(u)}else uu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ua(u,m)||T==2&&Tr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function fu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),T=u.Ua;const L=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(T,"https"),mr(T),L?Kn(T.toString(),_):Ro(T.toString(),_)}else Re(2);u.I=0,u.l&&u.l.pa(m),du(u),la(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function du(u){if(u.I=0,u.ja=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function mu(u,m,_){var T=_ instanceof Tn?Ne(_):new Tn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ms(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Tn(null);T&&qe(B,T),m&&(B.g=m),L&&ms(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Xt(T,_,m),Xt(T,"VER",u.ka),Er(u,T),T}function gu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new vi({ab:_})):new $t(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}a=pu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function As(){}As.prototype.g=function(u,m){return new un(u,m)};function un(u,m){we.call(this),this.g=new Es(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}b(un,we),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){No(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ds(u),u=_);m.i.push(new Ce(m.Ya++,u)),m.I==3&&Ai(m)},un.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,un.Z.N.call(this)};function yu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(yu,Qe);function _u(){Nn.call(this),this.status=1}b(_u,Nn);function Bi(u){this.g=u}b(Bi,pu),Bi.prototype.ra=function(){ke(this.g,"a")},Bi.prototype.qa=function(u){ke(this.g,new yu(u))},Bi.prototype.pa=function(u){ke(this.g,new _u)},Bi.prototype.oa=function(){ke(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,gT=function(){return new As},mT=function(){return ta()},dT=_e,Xd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Vc=fr,go.COMPLETE="complete",fT=go,Zl.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",we.prototype.listen=we.prototype.J,pl=Zl,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,hT=$t}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const yv="@firebase/firestore",_v="4.9.3";class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let oo="12.7.0";const Yr=new dm("@firebase/firestore");function Ba(){return Yr.logLevel}function at(a,...t){if(Yr.logLevel<=Vt.DEBUG){const i=t.map(Rm);Yr.debug(`Firestore (${oo}): ${a}`,...i)}}function us(a,...t){if(Yr.logLevel<=Vt.ERROR){const i=t.map(Rm);Yr.error(`Firestore (${oo}): ${a}`,...i)}}function $a(a,...t){if(Yr.logLevel<=Vt.WARN){const i=t.map(Rm);Yr.warn(`Firestore (${oo}): ${a}`,...i)}}function Rm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function gt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,pT(a,r,i)}function pT(a,t,i){let r=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw us(r),new Error(r)}function Yt(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||pT(t,l,r)}function Tt(a,t){return a}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends hs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class yT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _R{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class vR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ER{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new tr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new tr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new yT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class TR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new TR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Im{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=bR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Mt(a,t){return a<t?-1:a>t?1:0}function Zd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return Md(l)===Md(c)?Mt(l,c):Md(l)?1:-1}return Mt(a.length,t.length)}const wR=55296,RR=57343;function Md(a){const t=a.charCodeAt(0);return t>=wR&&t<=RR}function Wa(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const Ev="__name__";class Ni{constructor(t,i,r){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&gt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Ni.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const r=Ni.isNumericId(t),l=Ni.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):Zd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ws.fromString(t.substring(4,t.length-2))}}class re extends Ni{construct(t,i,r){return new re(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const IR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ni{construct(t,i,r){return new We(t,i,r)}static isValidIdentifier(t){return IR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new We([Ev])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new st(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new st(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new st(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(re.fromString(t))}static fromName(t){return new ht(re.fromString(t).popFirst(5))}static empty(){return new ht(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new re(t.slice()))}}function _T(a,t,i){if(!i)throw new st(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function CR(a,t,i,r){if(t===!0&&r===!0)throw new st(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Tv(a){if(!ht.isDocumentKey(a))throw new st(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Av(a){if(ht.isDocumentKey(a))throw new st(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function vT(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function ah(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":gt(12329,{type:typeof a})}function Oi(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new st(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ah(a);throw new st(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Le(a,t){const i={typeString:a};return t&&(i.value=t),i}function ql(a,t){if(!vT(a))throw new st(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new st(Z.INVALID_ARGUMENT,i);return!0}const Sv=-62135596800,bv=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*bv);return new le(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Sv)throw new st(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ql(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Sv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Le("string",le._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new le(0,0))}static max(){return new _t(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cl=-1;function NR(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(r===1e9?new le(i+1,0):new le(i,r));return new nr(l,ht.empty(),t)}function DR(a){return new nr(a.readTime,a.key,Cl)}class nr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new nr(_t.min(),ht.empty(),Cl)}static max(){return new nr(_t.max(),ht.empty(),Cl)}}function OR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(a.documentKey,t.documentKey),i!==0?i:Mt(a.largestBatchId,t.largestBatchId))}const VR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==VR)throw a;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((A=>{d[v]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new J(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function xR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(a){return a.name==="IndexedDbTransactionError"}class oh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}oh.ce=-1;const Cm=-1;function lh(a){return a==null}function Qc(a){return a===0&&1/a==-1/0}function UR(a){return typeof a=="number"&&Number.isInteger(a)&&!Qc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const ET="";function LR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=wv(t)),t=PR(a.get(i),t);return wv(t)}function PR(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case ET:i+="";break;default:i+=c}}return i}function wv(a){return a+ET+""}function Rv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Zr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function TT(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class fe{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new fe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new $e(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(t){return new Iv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class Iv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new si([])}unionWith(t){let i=new je(We.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new si(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class AT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new AT("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const kR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(a){if(Yt(!!a,39018),typeof a=="string"){let t=0;const i=kR.exec(a);if(Yt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Se(a.seconds),nanos:Se(a.nanos)}}function Se(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function sr(a){return typeof a=="string"?tn.fromBase64String(a):tn.fromUint8Array(a)}const ST="server_timestamp",bT="__type__",wT="__previous_value__",RT="__local_write_time__";function Nm(a){return(a?.mapValue?.fields||{})[bT]?.stringValue===ST}function uh(a){const t=a.mapValue.fields[wT];return Nm(t)?uh(t):t}function Nl(a){const t=ir(a.mapValue.fields[RT].timestampValue);return new le(t.seconds,t.nanos)}class zR{constructor(t,i,r,l,c,d,p,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const Yc="(default)";class Dl{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}const IT="__type__",jR="__max__",wc={mapValue:{}},CT="__vector__",Kc="value";function rr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Nm(a)?4:qR(a)?9007199254740991:BR(a)?10:11:gt(28295,{value:a})}function Pi(a,t){if(a===t)return!0;const i=rr(a);if(i!==rr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Nl(a).isEqual(Nl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ir(l.timestampValue),p=ir(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return sr(l.bytesValue).isEqual(sr(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return Se(l.geoPointValue.latitude)===Se(c.geoPointValue.latitude)&&Se(l.geoPointValue.longitude)===Se(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Se(l.integerValue)===Se(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Se(l.doubleValue),p=Se(c.doubleValue);return d===p?Qc(d)===Qc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Wa(a.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Rv(d)!==Rv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Pi(d[y],p[y])))return!1;return!0})(a,t);default:return gt(52216,{left:a})}}function Ol(a,t){return(a.values||[]).find((i=>Pi(i,t)))!==void 0}function to(a,t){if(a===t)return 0;const i=rr(a),r=rr(t);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Se(c.integerValue||c.doubleValue),y=Se(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,t);case 3:return Cv(a.timestampValue,t.timestampValue);case 4:return Cv(Nl(a),Nl(t));case 5:return Zd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=sr(c),y=sr(d);return p.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const A=Mt(p[v],y[v]);if(A!==0)return A}return Mt(p.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(Se(c.latitude),Se(d.latitude));return p!==0?p:Mt(Se(c.longitude),Se(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return Nv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},v=p[Kc]?.arrayValue,A=y[Kc]?.arrayValue,b=Mt(v?.values?.length||0,A?.values?.length||0);return b!==0?b:Nv(v,A)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===wc.mapValue&&d===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const M=Zd(y[b],A[b]);if(M!==0)return M;const Y=to(p[y[b]],v[A[b]]);if(Y!==0)return Y}return Mt(y.length,A.length)})(a.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Cv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Mt(a,t);const i=ir(a),r=ir(t),l=Mt(i.seconds,r.seconds);return l!==0?l:Mt(i.nanos,r.nanos)}function Nv(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=to(i[l],r[l]);if(c)return c}return Mt(i.length,r.length)}function eo(a){return Jd(a)}function Jd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=ir(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return sr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ht.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Jd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Jd(i.fields[d])}`;return l+"}"})(a.mapValue):gt(61005,{value:a})}function Mc(a){switch(rr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uh(a);return t?16+Mc(t):16;case 5:return 2*a.stringValue.length;case 6:return sr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Mc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Zr(r.fields,((c,d)=>{l+=c.length+Mc(d)})),l})(a.mapValue);default:throw gt(13486,{value:a})}}function Dv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function $d(a){return!!a&&"integerValue"in a}function Dm(a){return!!a&&"arrayValue"in a}function Ov(a){return!!a&&"nullValue"in a}function Vv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function xc(a){return!!a&&"mapValue"in a}function BR(a){return(a?.mapValue?.fields||{})[IT]?.stringValue===CT}function Al(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Zr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Al(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Al(a.arrayValue.values[i]);return t}return{...a}}function qR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(i)}setAll(t){let i=We.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Al(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Zr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new qn(Al(this.value))}}function NT(a){const t=[];return Zr(a.fields,((i,r)=>{const l=new We([i]);if(xc(r)){const c=NT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new si(t)}class rn{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new rn(t,0,_t.min(),_t.min(),_t.min(),qn.empty(),0)}static newFoundDocument(t,i,r,l){return new rn(t,1,i,_t.min(),r,l,0)}static newNoDocument(t,i){return new rn(t,2,i,_t.min(),_t.min(),qn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,_t.min(),_t.min(),qn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(t,i){this.position=t,this.inclusive=i}}function Mv(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?r=ht.comparator(ht.fromName(d.referenceValue),i.key):r=to(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function xv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Pi(a.position[i],t.position[i]))return!1;return!0}class Vl{constructor(t,i="asc"){this.field=t,this.dir=i}}function HR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class DT{}class Ue extends DT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new FR(t,i,r):i==="array-contains"?new KR(t,r):i==="in"?new XR(t,r):i==="not-in"?new ZR(t,r):i==="array-contains-any"?new JR(t,r):new Ue(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new QR(t,r):new YR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&rr(this.value)===rr(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends DT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new oi(t,i)}matches(t){return OT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OT(a){return a.op==="and"}function VT(a){return GR(a)&&OT(a)}function GR(a){for(const t of a.filters)if(t instanceof oi)return!1;return!0}function Wd(a){if(a instanceof Ue)return a.field.canonicalString()+a.op.toString()+eo(a.value);if(VT(a))return a.filters.map((t=>Wd(t))).join(",");{const t=a.filters.map((i=>Wd(i))).join(",");return`${a.op}(${t})`}}function MT(a,t){return a instanceof Ue?(function(r,l){return l instanceof Ue&&r.op===l.op&&r.field.isEqual(l.field)&&Pi(r.value,l.value)})(a,t):a instanceof oi?(function(r,l){return l instanceof oi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&MT(d,l.filters[p])),!0):!1})(a,t):void gt(19439)}function xT(a){return a instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(a):a instanceof oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(xT).join(" ,")+"}"})(a):"Filter"}class FR extends Ue{constructor(t,i,r){super(t,i,r),this.key=ht.fromName(r.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class QR extends Ue{constructor(t,i){super(t,"in",i),this.keys=UT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class YR extends Ue{constructor(t,i){super(t,"not-in",i),this.keys=UT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function UT(a,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class KR extends Ue{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&Ol(i.arrayValue,this.value)}}class XR extends Ue{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ol(this.value.arrayValue,i)}}class ZR extends Ue{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ol(this.value.arrayValue,i)}}class JR extends Ue{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ol(this.value.arrayValue,r)))}}class $R{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Uv(a,t=null,i=[],r=[],l=null,c=null,d=null){return new $R(a,t,i,r,l,c,d)}function Om(a){const t=Tt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Wd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),lh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>eo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>eo(r))).join(",")),t.Te=i}return t.Te}function Vm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!HR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!MT(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!xv(a.startAt,t.startAt)&&xv(a.endAt,t.endAt)}function tm(a){return ht.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class co{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WR(a,t,i,r,l,c,d,p){return new co(a,t,i,r,l,c,d,p)}function ch(a){return new co(a)}function Lv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function LT(a){return a.collectionGroup!==null}function Sl(a){const t=Tt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new je(We.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Vl(c,r))})),i.has(We.keyField().canonicalString())||t.Ie.push(new Vl(We.keyField(),r))}return t.Ie}function Vi(a){const t=Tt(a);return t.Ee||(t.Ee=tI(t,Sl(a))),t.Ee}function tI(a,t){if(a.limitType==="F")return Uv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Vl(l.field,c)}));const i=a.endAt?new Xc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Xc(a.startAt.position,a.startAt.inclusive):null;return Uv(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function em(a,t){const i=a.filters.concat([t]);return new co(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Zc(a,t,i){return new co(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function hh(a,t){return Vm(Vi(a),Vi(t))&&a.limitType===t.limitType}function PT(a){return`${Om(Vi(a))}|lt:${a.limitType}`}function qa(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>xT(l))).join(", ")}]`),lh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${r})`})(Vi(a))}; limitType=${a.limitType})`}function fh(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ht.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of Sl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const v=Mv(d,p,y);return d.inclusive?v<=0:v<0})(r.startAt,Sl(r),l)||r.endAt&&!(function(d,p,y){const v=Mv(d,p,y);return d.inclusive?v>=0:v>0})(r.endAt,Sl(r),l))})(a,t)}function eI(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function kT(a){return(t,i)=>{let r=!1;for(const l of Sl(a)){const c=nI(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function nI(a,t,i){const r=a.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?to(y,v):gt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:a.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Zr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return TT(this.inner)}size(){return this.innerSize}}const iI=new fe(ht.comparator);function cs(){return iI}const zT=new fe(ht.comparator);function yl(...a){let t=zT;for(const i of a)t=t.insert(i.key,i);return t}function jT(a){let t=zT;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Br(){return bl()}function BT(){return bl()}function bl(){return new Jr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const sI=new fe(ht.comparator),rI=new je(ht.comparator);function xt(...a){let t=rI;for(const i of a)t=t.add(i);return t}const aI=new je(Mt);function oI(){return aI}function Mm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function qT(a){return{integerValue:""+a}}function HT(a,t){return UR(t)?qT(t):Mm(a,t)}class dh{constructor(){this._=void 0}}function lI(a,t,i){return a instanceof Ml?(function(l,c){const d={fields:{[bT]:{stringValue:ST},[RT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Nm(c)&&(c=uh(c)),c&&(d.fields[wT]=c),{mapValue:d}})(i,t):a instanceof xl?FT(a,t):a instanceof Ul?QT(a,t):(function(l,c){const d=GT(l,c),p=Pv(d)+Pv(l.Ae);return $d(d)&&$d(l.Ae)?qT(p):Mm(l.serializer,p)})(a,t)}function uI(a,t,i){return a instanceof xl?FT(a,t):a instanceof Ul?QT(a,t):i}function GT(a,t){return a instanceof Ll?(function(r){return $d(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Ml extends dh{}class xl extends dh{constructor(t){super(),this.elements=t}}function FT(a,t){const i=YT(t);for(const r of a.elements)i.some((l=>Pi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ul extends dh{constructor(t){super(),this.elements=t}}function QT(a,t){let i=YT(t);for(const r of a.elements)i=i.filter((l=>!Pi(l,r)));return{arrayValue:{values:i}}}class Ll extends dh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Pv(a){return Se(a.integerValue||a.doubleValue)}function YT(a){return Dm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class KT{constructor(t,i){this.field=t,this.transform=i}}function cI(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof xl&&l instanceof xl||r instanceof Ul&&l instanceof Ul?Wa(r.elements,l.elements,Pi):r instanceof Ll&&l instanceof Ll?Pi(r.Ae,l.Ae):r instanceof Ml&&l instanceof Ml})(a.transform,t.transform)}class hI{constructor(t,i){this.version=t,this.transformResults=i}}class ai{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ai}static exists(t){return new ai(void 0,t)}static updateTime(t){return new ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class mh{}function XT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new xm(a.key,ai.none()):new Hl(a.key,a.data,ai.none());{const i=a.data,r=qn.empty();let l=new je(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new $r(a.key,r,new si(l.toArray()),ai.none())}}function fI(a,t,i){a instanceof Hl?(function(l,c,d){const p=l.value.clone(),y=zv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof $r?(function(l,c,d){if(!Uc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=zv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(ZT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wl(a,t,i,r){return a instanceof Hl?(function(c,d,p,y){if(!Uc(c.precondition,d))return p;const v=c.value.clone(),A=jv(c.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,t,i,r):a instanceof $r?(function(c,d,p,y){if(!Uc(c.precondition,d))return p;const v=jv(c.fieldTransforms,y,d),A=d.data;return A.setAll(ZT(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(a,t,i,r):(function(c,d,p){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function dI(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=GT(r.transform,l||null);c!=null&&(i===null&&(i=qn.empty()),i.set(r.field,c))}return i||null}function kv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Wa(r,l,((c,d)=>cI(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Hl extends mh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class $r extends mh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ZT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function zv(a,t,i){const r=new Map;Yt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,uI(d,p,i[l]))}return r}function jv(a,t,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,lI(c,d,t))}return r}class xm extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mI extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gI{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&fI(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=wl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=wl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=BT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=XT(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),xt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,r)=>kv(i,r)))&&Wa(this.baseMutations,t.baseMutations,((i,r)=>kv(i,r)))}}class Um{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Yt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return sI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Um(t,i,r,l)}}class pI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yI{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,kt;function _I(a){switch(a){case Z.OK:return gt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return gt(15467,{code:a})}}function JT(a){if(a===void 0)return us("GRPC error has no .code"),Z.UNKNOWN;switch(a){case xe.OK:return Z.OK;case xe.CANCELLED:return Z.CANCELLED;case xe.UNKNOWN:return Z.UNKNOWN;case xe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case xe.INTERNAL:return Z.INTERNAL;case xe.UNAVAILABLE:return Z.UNAVAILABLE;case xe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case xe.NOT_FOUND:return Z.NOT_FOUND;case xe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case xe.ABORTED:return Z.ABORTED;case xe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case xe.DATA_LOSS:return Z.DATA_LOSS;default:return gt(39323,{code:a})}}(kt=xe||(xe={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function vI(){return new TextEncoder}const EI=new Ws([4294967295,4294967295],0);function Bv(a){const t=vI().encode(a),i=new cT;return i.update(t),new Uint8Array(i.digest())}function qv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ws([i,r],0),new Ws([l,c],0)]}class Lm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ws.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Ws.fromNumber(r)));return l.compare(EI)===1&&(l=new Ws([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Bv(t),[r,l]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Lm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Bv(t),[r,l]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new gh(_t.min(),l,new fe(Mt),cs(),xt())}}class Gl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Gl(r,i,xt(),xt(),xt())}}class Lc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class $T{constructor(t,i){this.targetId=t,this.Ce=i}}class WT{constructor(t,i,r=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Hv{constructor(){this.ve=0,this.Fe=Gv(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),i=xt(),r=xt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:gt(38017,{changeType:c})}})),new Gl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Gv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TI{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=Rc(),this.He=Rc(),this.Ye=new fe(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(tm(c))if(r===0){const d=new ht(c.path);this.et(i,d,rn.newNoDocument(d,_t.min()))}else Yt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=sr(r).toUint8Array()}catch(y){if(y instanceof AT)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Lm(d,l,c)}catch(y){return $a(y instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&tm(p.target)){const y=new ht(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,rn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=xt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new gh(t,i,this.Ye,this.je,r);return this.je=cs(),this.Je=Rc(),this.He=Rc(),this.Ye=new fe(Mt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Hv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new je(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new je(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Hv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Rc(){return new fe(ht.comparator)}function Gv(){return new fe(ht.comparator)}const AI={asc:"ASCENDING",desc:"DESCENDING"},SI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bI={and:"AND",or:"OR"};class wI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function nm(a,t){return a.useProto3Json||lh(t)?t:{value:t}}function Jc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function t0(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function RI(a,t){return Jc(a,t.toTimestamp())}function Mi(a){return Yt(!!a,49232),_t.fromTimestamp((function(i){const r=ir(i);return new le(r.seconds,r.nanos)})(a))}function Pm(a,t){return im(a,t).canonicalString()}function im(a,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function e0(a){const t=re.fromString(a);return Yt(a0(t),10190,{key:t.toString()}),t}function sm(a,t){return Pm(a.databaseId,t.path)}function xd(a,t){const i=e0(t);if(i.get(1)!==a.databaseId.projectId)throw new st(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new st(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ht(i0(i))}function n0(a,t){return Pm(a.databaseId,t)}function II(a){const t=e0(a);return t.length===4?re.emptyPath():i0(t)}function rm(a){return new re(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function i0(a){return Yt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Fv(a,t,i){return{name:sm(a,t),fields:i.value.mapValue.fields}}function CI(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Yt(A===void 0||typeof A=="string",58123),tn.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),tn.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?Z.UNKNOWN:JT(v.code);return new st(A,v.message||"")})(d);i=new WT(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=xd(a,r.document.name),c=Mi(r.document.updateTime),d=r.document.createTime?Mi(r.document.createTime):_t.min(),p=new qn({mapValue:{fields:r.document.fields}}),y=rn.newFoundDocument(l,c,d,p),v=r.targetIds||[],A=r.removedTargetIds||[];i=new Lc(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=xd(a,r.document),c=r.readTime?Mi(r.readTime):_t.min(),d=rn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Lc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=xd(a,r.document),c=r.removedTargetIds||[];i=new Lc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new yI(l,c),p=r.targetId;i=new $T(p,d)}}return i}function NI(a,t){let i;if(t instanceof Hl)i={update:Fv(a,t.key,t.value)};else if(t instanceof xm)i={delete:sm(a,t.key)};else if(t instanceof $r)i={update:Fv(a,t.key,t.data),updateMask:kI(t.fieldMask)};else{if(!(t instanceof mI))return gt(16599,{Vt:t.type});i={verify:sm(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:RI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(a,t.precondition)),i}function DI(a,t){return a&&a.length>0?(Yt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Mi(l.updateTime):Mi(c);return d.isEqual(_t.min())&&(d=Mi(c)),new hI(d,l.transformResults||[])})(i,t)))):[]}function OI(a,t){return{documents:[n0(a,t.path)]}}function VI(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=n0(a,l);const c=(function(v){if(v.length!==0)return r0(oi.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(M){return{field:Ha(M.field),direction:UI(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=nm(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function MI(a){let t=II(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Yt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const M=s0(b);return M instanceof oi&&VT(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((M=>(function(tt){return new Vl(Ga(tt.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let M;return M=typeof b=="object"?b.value:b,lh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(b){const M=!!b.before,Y=b.values||[];return new Xc(Y,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const M=!b.before,Y=b.values||[];return new Xc(Y,M)})(i.endAt)),WR(t,l,d,c,p,"F",y,v)}function xI(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function s0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ga(i.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return Ue.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ue.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return oi.create(i.compositeFilter.filters.map((r=>s0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(a):gt(30097,{filter:a})}function UI(a){return AI[a]}function LI(a){return SI[a]}function PI(a){return bI[a]}function Ha(a){return{fieldPath:a.canonicalString()}}function Ga(a){return We.fromServerFormat(a.fieldPath)}function r0(a){return a instanceof Ue?(function(i){if(i.op==="=="){if(Vv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(Ov(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Vv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(Ov(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:LI(i.op),value:i.value}}})(a):a instanceof oi?(function(i){const r=i.getFilters().map((l=>r0(l)));return r.length===1?r[0]:{compositeFilter:{op:PI(i.op),filters:r}}})(a):gt(54877,{filter:a})}function kI(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function a0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Xs{constructor(t,i,r,l,c=_t.min(),d=_t.min(),p=tn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class zI{constructor(t){this.yt=t}}function jI(a){const t=MI({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Zc(t,t.limit,"L"):t}class BI{constructor(){this.Cn=new qI}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(nr.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class qI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new je(re.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new je(re.comparator)).toArray()}}const Qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o0=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(o0,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class no{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new no(0)}static cr(){return new no(-1)}}const Yv="LruGarbageCollector",HI=1048576;function Kv([a,t],[i,r]){const l=Mt(a,i);return l===0?Mt(t,r):l}class GI{constructor(t){this.Ir=t,this.buffer=new je(Kv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Kv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Yv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?at(Yv,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Vr(3e5)}))}}class QI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(oh.ce);const r=new GI(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Qv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(v=Date.now(),Ba()<=Vt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function YI(a,t){return new QI(a,t)}class KI{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class XI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class ZI{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&wl(r.mutation,l,si.empty(),le.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,xt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=xt()){const l=Br();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=yl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Br();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,xt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=cs();const d=bl(),p=(function(){return bl()})();return i.forEach(((y,v)=>{const A=r.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof $r)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),wl(A.mutation,v,A.mutation.getFieldMask(),le.now())):d.set(v.key,si.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new XI(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=bl();let l=new fe(((d,p)=>d-p)),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let A=r.get(y)||si.empty();A=p.applyToLocalView(v,A),r.set(y,A);const b=(l.get(p.batchId)||xt()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,A=y.value,b=BT();A.forEach((M=>{if(!c.has(M)){const Y=XT(i.get(M),r.get(M));Y!==null&&b.set(M,Y),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):LT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):J.resolve(Br());let p=Cl,y=c;return d.next((v=>J.forEach(v,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{y=y.insert(A,M)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,xt()))).next((A=>({batchId:p,changes:jT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((r=>{let l=yl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(y=>{const v=(function(b,M){return new co(M,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,r,l).next((A=>{A.forEach(((b,M)=>{d=d.insert(b,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,rn.newInvalidDocument(A)))}));let p=yl();return d.forEach(((y,v)=>{const A=c.get(y);A!==void 0&&wl(A.mutation,v,si.empty(),le.now()),fh(i,v)&&(p=p.insert(y,v))})),p}))}}class JI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:jI(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),J.resolve()}}class $I{constructor(){this.overlays=new fe(ht.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Br();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const l=Br(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new fe(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let A=c.get(v.largestBatchId);A===null&&(A=Br(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Br(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=l)););return J.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new pI(i,r));let c=this.qr.get(i);c===void 0&&(c=xt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class WI{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class km{constructor(){this.Qr=new je(Ge.$r),this.Ur=new je(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ge(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ge(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ht(new re([])),r=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new re([])),r=new Ge(i,t),l=new Ge(i,t+1);let c=xt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ge{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class tC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Ge.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gI(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ge(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Cm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new je(Mt);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ht.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new ht(c),0);let p=new je(Mt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(p=p.add(y.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ge(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class eC{constructor(t){this.ri=t,this.docs=(function(){return new fe(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let r=cs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=cs();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||OR(DR(A),r)<=0||(l.has(A.key)||fh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,r,l){gt(9500)}ii(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new nC(this)}getSize(t){return J.resolve(this.size)}}class nC extends KI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class iC{constructor(t){this.persistence=t,this.si=new Jr((i=>Om(i)),Vm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new km,this.targetCount=0,this.ai=no.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new no(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class l0{constructor(t,i){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new WI,this.referenceDelegate=t(this),this.Pi=new iC(this),this.indexManager=new BI,this.remoteDocumentCache=(function(l){return new eC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new zI(i),this.Ii=new JI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new $I,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new tC(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new sC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class sC extends MR{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new km,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=ht.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class $c{constructor(t,i){this.persistence=t,this.pi=new Jr((r=>LR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=YI(this,i)}static mi(t,i){return new $c(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=xt(),l=xt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new jm(t,i.fromCache,r,l)}}class rC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class aC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JS()?8:xR(an())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ba()<=Vt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ba()<=Vt.DEBUG&&at("QueryEngine","Query:",qa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ba()<=Vt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):J.resolve())}ys(t,i){if(Lv(i))return J.resolve(null);let r=Vi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Zc(i,null,"F"),r=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=xt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const v=this.Ds(i,p);return this.Cs(i,v,d,y.readTime)?this.ys(t,Zc(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ws(t,i,r,l){return Lv(i)||l.isEqual(_t.min())?J.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?J.resolve(null):(Ba()<=Vt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.vs(t,d,i,NR(l,Cl)).next((p=>p)))}))}Ds(t,i){let r=new je(kT(t));return i.forEach(((l,c)=>{fh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Ba()<=Vt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(t,i,nr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Bm="LocalStore",oC=3e8;class lC{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new fe(Mt),this.xs=new Jr((c=>Om(c)),Vm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function uC(a,t,i,r){return new lC(a,t,i,r)}async function u0(a,t){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=xt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function cC(a,t){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,A){const b=v.batch,M=b.keys();let Y=J.resolve();return M.forEach((tt=>{Y=Y.next((()=>A.getEntry(y,tt))).next((it=>{const $=v.docVersions.get(tt);Yt($!==null,48541),it.version.compareTo($)<0&&(b.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=xt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function c0(a){const t=Tt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function hC(a,t){const i=Tt(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const M=l.get(b);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let Y=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?Y=Y.withResumeToken(tn.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,r)),l=l.insert(b,Y),(function(it,$,ft){return it.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=oC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,Y,A)&&p.push(i.Pi.updateTargetData(c,Y))}));let y=cs(),v=xt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(fC(c,d,t.documentUpdates).next((A=>{y=A.ks,v=A.qs}))),!r.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function fC(a,t,i){let r=xt(),l=xt();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=cs();return i.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(Bm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function dC(a,t){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Cm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function mC(a,t){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Xs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function am(a,t,i){const r=Tt(a),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;at(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Xv(a,t,i){const r=Tt(a);let l=_t.min(),c=xt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,A){const b=Tt(y),M=b.xs.get(A);return M!==void 0?J.resolve(b.Ms.get(M)):b.Pi.getTargetData(v,A)})(r,d,Vi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:xt()))).next((p=>(gC(r,eI(t),p),{documents:p,Qs:c})))))}function gC(a,t,i){let r=a.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class Zv{constructor(){this.activeTargetIds=oI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pC{constructor(){this.Mo=new Zv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Zv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class yC{Oo(t){}shutdown(){}}const Jv="ConnectivityMonitor";class $v{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Jv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Jv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function om(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const Ud="RestConnection",_C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=om(),p=this.zo(t,i.toUriEncodedString());at(Ud,`Sending RPC '${t}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:v}=new URL(p),A=so(v);return this.Jo(t,p,y,r,A).then((b=>(at(Ud,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw $a(Ud,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=_C[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class EC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class TC extends vC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=om();return new Promise(((p,y)=>{const v=new hT;v.setWithCredentials(!0),v.listenOnce(fT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Vc.NO_ERROR:const b=v.getResponseJson();at(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Vc.TIMEOUT:at(nn,`RPC '${t}' ${d} timed out`),y(new st(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const M=v.getStatus();if(at(nn,`RPC '${t}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let Y=v.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const tt=Y?.error;if(tt&&tt.status&&tt.message){const it=(function(ft){const vt=ft.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(vt)>=0?vt:Z.UNKNOWN})(tt.status);y(new st(it,tt.message))}else y(new st(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new st(Z.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{at(nn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);at(nn,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=om(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=gT(),p=mT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=c.join("");at(nn,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let M=!1,Y=!1;const tt=new EC({Yo:$=>{Y?at(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(M||(at(nn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),M=!0),at(nn,`RPC '${t}' stream ${l} sending:`,$),b.send($))},Zo:()=>b.close()}),it=($,ft,vt)=>{$.listen(ft,(mt=>{try{vt(mt)}catch(jt){setTimeout((()=>{throw jt}),0)}}))};return it(b,pl.EventType.OPEN,(()=>{Y||(at(nn,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),it(b,pl.EventType.CLOSE,(()=>{Y||(Y=!0,at(nn,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(b))})),it(b,pl.EventType.ERROR,($=>{Y||(Y=!0,$a(nn,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),tt.a_(new st(Z.UNAVAILABLE,"The operation could not be completed")))})),it(b,pl.EventType.MESSAGE,($=>{if(!Y){const ft=$.data[0];Yt(!!ft,16349);const vt=ft,mt=vt?.error||vt[0]?.error;if(mt){at(nn,`RPC '${t}' stream ${l} received error:`,mt);const jt=mt.status;let ne=(function(S){const I=xe[S];if(I!==void 0)return JT(I)})(jt),Ut=mt.message;ne===void 0&&(ne=Z.INTERNAL,Ut="Unknown error status: "+jt+" with message "+mt.message),Y=!0,tt.a_(new st(ne,Ut)),b.close()}else at(nn,`RPC '${t}' stream ${l} received:`,ft),tt.u_(ft)}})),it(p,dT.STAT_EVENT,($=>{$.stat===Xd.PROXY?at(nn,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Xd.NOPROXY&&at(nn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ld(){return typeof document<"u"?document:null}function ph(a){return new wI(a,!0)}class h0{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Wv="PersistentStream";class f0{constructor(t,i,r,l,c,d,p,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new st(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AC extends f0{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=CI(this.serializer,t),r=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Mi(d.readTime):_t.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=rm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=tm(y)?{documents:OI(c,y)}:{query:VI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=t0(c,d.resumeToken);const v=nm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Jc(c,d.snapshotVersion.toTimestamp());const v=nm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const r=xI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=rm(this.serializer),i.removeTarget=t,this.q_(i)}}class SC extends f0{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=DI(t.writeResults,t.commitTime),r=Mi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=rm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>NI(this.serializer,r)))};this.q_(i)}}class bC{}class wC extends bC{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,im(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(Z.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,im(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class IC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Wr(this)&&(at(Kr,"Restarting streams for network reachability change."),await(async function(y){const v=Tt(y);v.Ea.add(4),await Fl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await yh(v)})(this))}))})),this.Ra=new RC(r,l)}}async function yh(a){if(Wr(a))for(const t of a.da)await t(!0)}async function Fl(a){for(const t of a.da)await t(!1)}function d0(a,t){const i=Tt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Fm(i)?Gm(i):ho(i).O_()&&Hm(i,t))}function qm(a,t){const i=Tt(a),r=ho(i);i.Ia.delete(t),r.O_()&&m0(i,t),i.Ia.size===0&&(r.O_()?r.L_():Wr(i)&&i.Ra.set("Unknown"))}function Hm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ho(a).Y_(t)}function m0(a,t){a.Va.Ue(t),ho(a).Z_(t)}function Gm(a){a.Va=new TI({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),ho(a).start(),a.Ra.ua()}function Fm(a){return Wr(a)&&!ho(a).x_()&&a.Ia.size>0}function Wr(a){return Tt(a).Ea.size===0}function g0(a){a.Va=void 0}async function CC(a){a.Ra.set("Online")}async function NC(a){a.Ia.forEach(((t,i)=>{Hm(a,t)}))}async function DC(a,t){g0(a),Fm(a)?(a.Ra.ha(t),Gm(a)):a.Ra.set("Unknown")}async function OC(a,t,i){if(a.Ra.set("Online"),t instanceof WT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(r){at(Kr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Wc(a,r)}else if(t instanceof Lc?a.Va.Ze(t):t instanceof $T?a.Va.st(t):a.Va.tt(t),!i.isEqual(_t.min()))try{const r=await c0(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(tn.EMPTY_BYTE_STRING,A.snapshotVersion)),m0(c,y);const b=new Xs(A.target,y,v,A.sequenceNumber);Hm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){at(Kr,"Failed to raise snapshot:",r),await Wc(a,r)}}async function Wc(a,t,i){if(!uo(t))throw t;a.Ea.add(1),await Fl(a),a.Ra.set("Offline"),i||(i=()=>c0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{at(Kr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await yh(a)}))}function p0(a,t){return t().catch((i=>Wc(a,i,t)))}async function _h(a){const t=Tt(a),i=ar(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Cm;for(;VC(t);)try{const l=await dC(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,MC(t,l)}catch(l){await Wc(t,l)}y0(t)&&_0(t)}function VC(a){return Wr(a)&&a.Ta.length<10}function MC(a,t){a.Ta.push(t);const i=ar(a);i.O_()&&i.X_&&i.ea(t.mutations)}function y0(a){return Wr(a)&&!ar(a).x_()&&a.Ta.length>0}function _0(a){ar(a).start()}async function xC(a){ar(a).ra()}async function UC(a){const t=ar(a);for(const i of a.Ta)t.ea(i.mutations)}async function LC(a,t,i){const r=a.Ta.shift(),l=Um.from(r,t,i);await p0(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await _h(a)}async function PC(a,t){t&&ar(a).X_&&await(async function(r,l){if((function(d){return _I(d)&&d!==Z.ABORTED})(l.code)){const c=r.Ta.shift();ar(r).B_(),await p0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await _h(r)}})(a,t),y0(a)&&_0(a)}async function tE(a,t){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),at(Kr,"RemoteStore received new credentials");const r=Wr(i);i.Ea.add(3),await Fl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await yh(i)}async function kC(a,t){const i=Tt(a);t?(i.Ea.delete(2),await yh(i)):t||(i.Ea.add(2),await Fl(i),i.Ra.set("Unknown"))}function ho(a){return a.ma||(a.ma=(function(i,r,l){const c=Tt(i);return c.sa(),new AC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:CC.bind(null,a),t_:NC.bind(null,a),r_:DC.bind(null,a),H_:OC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Fm(a)?Gm(a):a.Ra.set("Unknown")):(await a.ma.stop(),g0(a))}))),a.ma}function ar(a){return a.fa||(a.fa=(function(i,r,l){const c=Tt(i);return c.sa(),new SC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:xC.bind(null,a),r_:PC.bind(null,a),ta:UC.bind(null,a),na:LC.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await _h(a)):(await a.fa.stop(),a.Ta.length>0&&(at(Kr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Qm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new Qm(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(a,t){if(us("AsyncQueue",`${t}: ${a}`),uo(a))return new st(Z.UNAVAILABLE,`${t}: ${a}`);throw a}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ht.comparator(i.key,r.key):(i,r)=>ht.comparator(i.key,r.key),this.keyedMap=yl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class eE{constructor(){this.ga=new fe(ht.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class io{constructor(t,i,r,l,c,d,p,y,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new io(t,i,Ka.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class zC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class jC{constructor(){this.queries=nE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Tt(i),c=l.queries;l.queries=nE(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new st(Z.ABORTED,"Firestore shutting down"))}}function nE(){return new Jr((a=>PT(a)),hh)}async function v0(a,t){const i=Tt(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new zC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Ym(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Km(i)}async function E0(a,t){const i=Tt(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function BC(a,t){const i=Tt(a);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Km(i)}function qC(a,t,i){const r=Tt(a),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Km(a){a.Ca.forEach((t=>{t.next()}))}var lm,iE;(iE=lm||(lm={})).Ma="default",iE.Cache="cache";class T0{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new io(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==lm.Cache}}class A0{constructor(t){this.key=t}}class S0{constructor(t){this.key=t}}class HC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=kT(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new eE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const M=l.get(A),Y=fh(this.query,b)?b:null,tt=!!M&&this.mutatedKeys.has(M.key),it=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let $=!1;M&&Y?M.data.isEqual(Y.data)?tt!==it&&(r.track({type:3,doc:Y}),$=!0):this.su(M,Y)||(r.track({type:2,doc:Y}),$=!0,(y&&this.eu(Y,y)>0||v&&this.eu(Y,v)<0)&&(p=!0)):!M&&Y?(r.track({type:0,doc:Y}),$=!0):M&&!Y&&(r.track({type:1,doc:M}),$=!0,(y||v)&&(p=!0)),$&&(Y?(d=d.add(Y),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(Y,tt){const it=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:$})}};return it(Y)-it(tt)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new io(this.query,t.tu,c,d,t.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new S0(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new A0(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=xt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xm="SyncEngine";class GC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class FC{constructor(t){this.key=t,this.hu=!1}}class QC{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((p=>PT(p)),hh),this.Iu=new Map,this.Eu=new Set,this.du=new fe(ht.comparator),this.Au=new Map,this.Ru=new km,this.Vu={},this.mu=new Map,this.fu=no.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YC(a,t,i=!0){const r=N0(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await b0(r,t,i,!0),l}async function KC(a,t){const i=N0(a);await b0(i,t,!0,!1)}async function b0(a,t,i,r){const l=await mC(a.localStore,Vi(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await XC(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&d0(a.remoteStore,l),p}async function XC(a,t,i,r,l){a.pu=(b,M,Y)=>(async function(it,$,ft,vt){let mt=$.view.ru(ft);mt.Cs&&(mt=await Xv(it.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,mt))));const jt=vt&&vt.targetChanges.get($.targetId),ne=vt&&vt.targetMismatches.get($.targetId)!=null,Ut=$.view.applyChanges(mt,it.isPrimaryClient,jt,ne);return rE(it,$.targetId,Ut.au),Ut.snapshot})(a,b,M,Y);const c=await Xv(a.localStore,t,!0),d=new HC(t,c.Qs),p=d.ru(c.documents),y=Gl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),v=d.applyChanges(p,a.isPrimaryClient,y);rE(a,i,v.au);const A=new GC(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function ZC(a,t,i){const r=Tt(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!hh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await am(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&qm(r.remoteStore,l.targetId),um(r,l.targetId)})).catch(lo)):(um(r,l.targetId),await am(r.localStore,l.targetId,!0))}async function JC(a,t){const i=Tt(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),qm(i.remoteStore,r.targetId))}async function $C(a,t,i){const r=r2(a);try{const l=await(function(d,p){const y=Tt(d),v=le.now(),A=p.reduce(((Y,tt)=>Y.add(tt.key)),xt());let b,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let tt=cs(),it=xt();return y.Ns.getEntries(Y,A).next(($=>{tt=$,tt.forEach(((ft,vt)=>{vt.isValidDocument()||(it=it.add(ft))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Y,tt))).next(($=>{b=$;const ft=[];for(const vt of p){const mt=dI(vt,b.get(vt.key).overlayedDocument);mt!=null&&ft.push(new $r(vt.key,mt,NT(mt.value.mapValue),ai.exists(!0)))}return y.mutationQueue.addMutationBatch(Y,v,ft,p)})).next(($=>{M=$;const ft=$.applyToLocalDocumentSet(b,it);return y.documentOverlayCache.saveOverlays(Y,$.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:jT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new fe(Mt)),v=v.insert(p,y),d.Vu[d.currentUser.toKey()]=v})(r,l.batchId,i),await Ql(r,l.changes),await _h(r.remoteStore)}catch(l){const c=Ym(l,"Failed to persist write");i.reject(c)}}async function w0(a,t){const i=Tt(a);try{const r=await hC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Ql(i,r,t)}catch(r){await lo(r)}}function sE(a,t,i){const r=Tt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Tt(d);y.onlineState=p;let v=!1;y.queries.forEach(((A,b)=>{for(const M of b.Sa)M.va(p)&&(v=!0)})),v&&Km(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function WC(a,t,i){const r=Tt(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new fe(ht.comparator);d=d.insert(c,rn.newNoDocument(c,_t.min()));const p=xt().add(c),y=new gh(_t.min(),new Map,new fe(Mt),d,p);await w0(r,y),r.du=r.du.remove(c),r.Au.delete(t),Zm(r)}else await am(r.localStore,t,!1).then((()=>um(r,t,i))).catch(lo)}async function t2(a,t){const i=Tt(a),r=t.batch.batchId;try{const l=await cC(i.localStore,t);I0(i,r,null),R0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(i,l)}catch(l){await lo(l)}}async function e2(a,t,i){const r=Tt(a);try{const l=await(function(d,p){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return y.mutationQueue.lookupMutationBatch(v,p).next((b=>(Yt(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(v,b)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>y.localDocuments.getDocuments(v,A)))}))})(r.localStore,t);I0(r,t,i),R0(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Ql(r,l)}catch(l){await lo(l)}}function R0(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function I0(a,t,i){const r=Tt(a);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function um(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||C0(a,r)}))}function C0(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(qm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Zm(a))}function rE(a,t,i){for(const r of i)r instanceof A0?(a.Ru.addReference(r.key,t),n2(a,r)):r instanceof S0?(at(Xm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||C0(a,r.key)):gt(19791,{wu:r})}function n2(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(at(Xm,"New document in limbo: "+i),a.Eu.add(r),Zm(a))}function Zm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ht(re.fromString(t)),r=a.fu.next();a.Au.set(r,new FC(i)),a.du=a.du.insert(i,r),d0(a.remoteStore,new Xs(Vi(ch(i.path)),r,"TargetPurposeLimboResolution",oh.ce))}}async function Ql(a,t,i){const r=Tt(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,t,i).then((v=>{if((v||i)&&r.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){l.push(v);const A=jm.As(y.targetId,v);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,v){const A=Tt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>J.forEach(v,(M=>J.forEach(M.Es,(Y=>A.persistence.referenceDelegate.addReference(b,M.targetId,Y))).next((()=>J.forEach(M.ds,(Y=>A.persistence.referenceDelegate.removeReference(b,M.targetId,Y)))))))))}catch(b){if(!uo(b))throw b;at(Bm,"Failed to update sequence numbers: "+b)}for(const b of v){const M=b.targetId;if(!b.fromCache){const Y=A.Ms.get(M),tt=Y.snapshotVersion,it=Y.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(M,it)}}})(r.localStore,c))}async function i2(a,t){const i=Tt(a);if(!i.currentUser.isEqual(t)){at(Xm,"User change. New user:",t.toKey());const r=await u0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new st(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ql(i,r.Ls)}}function s2(a,t){const i=Tt(a),r=i.Au.get(t);if(r&&r.hu)return xt().add(r.key);{let l=xt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function N0(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=s2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WC.bind(null,t),t.Pu.H_=BC.bind(null,t.eventManager),t.Pu.yu=qC.bind(null,t.eventManager),t}function r2(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=t2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=e2.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return uC(this.persistence,new aC,t.initialUser,this.serializer)}Cu(t){return new l0(zm.mi,this.serializer)}Du(t){return new pC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class a2 extends th{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof $c,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new l0((r=>$c.mi(r,i)),this.serializer)}}class cm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=i2.bind(null,this.syncEngine),await kC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jC})()}createDatastore(t){const i=ph(t.databaseInfo.databaseId),r=(function(c){return new TC(c)})(t.databaseInfo);return(function(c,d,p,y){return new wC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new IC(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>sE(this.syncEngine,i,0)),(function(){return $v.v()?new $v:new yC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,v,A){const b=new QC(l,c,d,p,y,v);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Tt(i);at(Kr,"RemoteStore shutting down."),r.Ea.add(5),await Fl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cm.provider={build:()=>new cm};class D0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const or="FirestoreClient";class o2{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Ym(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Pd(a,t){a.asyncQueue.verifyOperationInProgress(),at(or,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await u0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function aE(a,t){a.asyncQueue.verifyOperationInProgress();const i=await l2(a);at(or,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>tE(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>tE(t.remoteStore,l))),a._onlineComponents=t}async function l2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){at(or,"Using user provided OfflineComponentProvider");try{await Pd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Pd(a,new th)}}else at(or,"Using default OfflineComponentProvider"),await Pd(a,new a2(void 0));return a._offlineComponents}async function O0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(at(or,"Using user provided OnlineComponentProvider"),await aE(a,a._uninitializedComponentsProvider._online)):(at(or,"Using default OnlineComponentProvider"),await aE(a,new cm))),a._onlineComponents}function u2(a){return O0(a).then((t=>t.syncEngine))}async function hm(a){const t=await O0(a),i=t.eventManager;return i.onListen=YC.bind(null,t.syncEngine),i.onUnlisten=ZC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=KC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=JC.bind(null,t.syncEngine),i}function c2(a,t,i={}){const r=new tr;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,v){const A=new D0({next:M=>{A.Nu(),d.enqueueAndForget((()=>E0(c,b)));const Y=M.docs.has(p);!Y&&M.fromCache?v.reject(new st(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&M.fromCache&&y&&y.source==="server"?v.reject(new st(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),b=new T0(ch(p.path),A,{includeMetadataChanges:!0,qa:!0});return v0(c,b)})(await hm(a),a.asyncQueue,t,i,r))),r.promise}function V0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const oE=new Map;const M0="firestore.googleapis.com",lE=!0;class uE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M0,this.ssl=lE}else this.host=t.host,this.ssl=t.ssl??lE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=o0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HI)throw new st(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _R;switch(r.type){case"firstParty":return new AR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=oE.get(i);r&&(at("ComponentProvider","Removing Datastore"),oE.delete(i),r.terminate())})(this),Promise.resolve()}}function h2(a,t,i,r={}){a=Oi(a,vh);const l=so(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(RE(`https://${p}`),IE("Firestore",!0)),c.host!==M0&&c.host!==p&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!Gr(y,d)&&(a._setSettings(y),r.mockUserToken)){let v,A;if(typeof r.mockUserToken=="string")v=r.mockUserToken,A=sn.MOCK_USER;else{v=qS(r.mockUserToken,a._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new st(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new sn(b)}a._authCredentials=new vR(new yT(v,A))}}class lr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new lr(this.firestore,t,this._query)}}class be{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(ql(i,be._jsonSchema))return new be(t,r||null,new ht(re.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:Le("string",be._jsonSchemaVersion),referencePath:Le("string")};class er extends lr{constructor(t,i,r){super(t,i,ch(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new ht(t))}withConverter(t){return new er(this.firestore,t,this._path)}}function kd(a,t,...i){if(a=hn(a),_T("collection","path",t),a instanceof vh){const r=re.fromString(t,...i);return Av(r),new er(a,null,r)}{if(!(a instanceof be||a instanceof er))throw new st(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(re.fromString(t,...i));return Av(r),new er(a.firestore,null,r)}}function zr(a,t,...i){if(a=hn(a),arguments.length===1&&(t=Im.newId()),_T("doc","path",t),a instanceof vh){const r=re.fromString(t,...i);return Tv(r),new be(a,null,new ht(r))}{if(!(a instanceof be||a instanceof er))throw new st(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(re.fromString(t,...i));return Tv(r),new be(a.firestore,a instanceof er?a.converter:null,new ht(r))}}const cE="AsyncQueue";class hE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h0(this,"async_queue_retry"),this._c=()=>{const r=Ld();r&&at(cE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;at(cE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",fE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Qm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:fE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function fE(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function dE(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Xr extends vh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new hE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hE(t),this._firestoreClient=void 0,await t}}}function f2(a,t){const i=typeof a=="object"?a:OE(),r=typeof a=="string"?a:Yc,l=gm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=jS("firestore");c&&h2(l,...c)}return l}function Jm(a){if(a._terminated)throw new st(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||d2(a),a._firestoreClient}function d2(a){const t=a._freezeSettings(),i=(function(l,c,d,p){return new zR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,V0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new o2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(tn.fromBase64String(t))}catch(i){throw new st(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ql(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Le("string",Hn._jsonSchemaVersion),bytes:Le("string")};class $m{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Eh{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(ql(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Le("string",xi._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class Ui{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ql(t,Ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ui(t.vectorValues);throw new st(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Le("string",Ui._jsonSchemaVersion),vectorValues:Le("object")};const m2=/^__.*__$/;class g2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new $r(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}function x0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:a})}}class Wm{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Wm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return eh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(x0(this.Ac)&&m2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class p2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||ph(t)}Cc(t,i,r,l=!1){return new Wm({Ac:t,methodName:i,Dc:r,path:We.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tg(a){const t=a._freezeSettings(),i=ph(a._databaseId);return new p2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function U0(a,t,i,r,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);k0("Data must be an object, but it was:",d,r);const p=L0(r,d);let y,v;if(c.merge)y=new si(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const M=_2(t,b,i);if(!d.contains(M))throw new st(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);E2(A,M)||A.push(M)}y=new si(A),v=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,v=d.fieldTransforms;return new g2(new qn(p),y,v)}class eg extends Eh{_toFieldTransform(t){return new KT(t.path,new Ml)}isEqual(t){return t instanceof eg}}class ng extends Eh{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Ll(t.serializer,HT(t.serializer,this.Fc));return new KT(t.path,i)}isEqual(t){return t instanceof ng&&this.Fc===t.Fc}}function y2(a,t,i,r=!1){return ig(i,a.Cc(r?4:3,t))}function ig(a,t){if(P0(a=hn(a)))return k0("Unsupported field value:",t,a),L0(a,t);if(a instanceof Eh)return(function(r,l){if(!x0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=ig(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HT(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=le.fromDate(r);return{timestampValue:Jc(l.serializer,c)}}if(r instanceof le){const c=new le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,c)}}if(r instanceof xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:t0(l.serializer,r._byteString)};if(r instanceof be){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ui)return(function(d,p){return{mapValue:{fields:{[IT]:{stringValue:CT},[Kc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Mm(p.serializer,v)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${ah(r)}`)})(a,t)}function L0(a,t){const i={};return TT(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(a,((r,l)=>{const c=ig(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function P0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof le||a instanceof xi||a instanceof Hn||a instanceof be||a instanceof Eh||a instanceof Ui)}function k0(a,t,i){if(!P0(i)||!vT(i)){const r=ah(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function _2(a,t,i){if((t=hn(t))instanceof $m)return t._internalPath;if(typeof t=="string")return z0(a,t);throw eh("Field path arguments must be of type string or ",a,!1,void 0,i)}const v2=new RegExp("[~\\*/\\[\\]]");function z0(a,t,i){if(t.search(v2)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new $m(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function eh(a,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new st(Z.INVALID_ARGUMENT,p+a+y)}function E2(a,t){return a.some((i=>i.isEqual(t)))}class j0{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new T2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(sg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class T2 extends j0{data(){return super.data()}}function sg(a,t){return typeof t=="string"?z0(a,t):t instanceof $m?t._internalPath:t._delegate._internalPath}function A2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new st(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class ag extends rg{}function S2(a,t,...i){let r=[];t instanceof rg&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((y=>y instanceof lg)).length,p=c.filter((y=>y instanceof og)).length;if(d>1||d>0&&p>0)throw new st(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)a=l._apply(a);return a}class og extends ag{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new og(t,i,r)}_apply(t){const i=this._parse(t);return B0(t._query,i),new lr(t.firestore,t.converter,em(t._query,i))}_parse(t){const i=tg(t.firestore);return(function(c,d,p,y,v,A,b){let M;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){gE(b,A);const tt=[];for(const it of b)tt.push(mE(y,c,it));M={arrayValue:{values:tt}}}else M=mE(y,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||gE(b,A),M=y2(p,d,b,A==="in"||A==="not-in");return Ue.create(v,A,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class lg extends rg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new lg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:oi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)B0(d,y),d=em(d,y)})(t._query,i),new lr(t.firestore,t.converter,em(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ug extends ag{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new ug(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new st(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vl(c,d)})(t._query,this._field,this._direction);return new lr(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new co(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function b2(a,t="asc"){const i=t,r=sg("orderBy",a);return ug._create(r,i)}class cg extends ag{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new cg(t,i,r)}_apply(t){return new lr(t.firestore,t.converter,Zc(t._query,this._limit,this._limitType))}}function w2(a){return cg._create("limit",a,"F")}function mE(a,t,i){if(typeof(i=hn(i))=="string"){if(i==="")throw new st(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LT(t)&&i.indexOf("/")!==-1)throw new st(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(re.fromString(i));if(!ht.isDocumentKey(r))throw new st(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dv(a,new ht(r))}if(i instanceof be)return Dv(a,i._key);throw new st(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(i)}.`)}function gE(a,t){if(!Array.isArray(a)||a.length===0)throw new st(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function B0(a,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class R2{convertValue(t,i="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Zr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((r=>Se(r.doubleValue)));return new Ui(i)}convertGeoPoint(t){return new xi(Se(t.latitude),Se(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=uh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Nl(t));default:return null}}convertTimestamp(t){const i=ir(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=re.fromString(t);Yt(a0(r),9688,{name:t});const l=new Dl(r.get(1),r.get(3)),c=new ht(r.popFirst(5));return l.isEqual(i)||us(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function q0(a,t,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,r}class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hr extends j0{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(sg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Hr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hr._jsonSchema={type:Le("string",Hr._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Pc extends Hr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Pc(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:I2(p.type),doc:y,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function I2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:a})}}function pE(a){a=Oi(a,be);const t=Oi(a.firestore,Xr);return c2(Jm(t),a._key).then((i=>G0(t,a,i)))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Le("string",Xa._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class H0 extends R2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,i)}}function zd(a,t,i){a=Oi(a,be);const r=Oi(a.firestore,Xr),l=q0(a.converter,t,i);return hg(r,[U0(tg(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,ai.none())])}function C2(a){return hg(Oi(a.firestore,Xr),[new xm(a._key,ai.none())])}function N2(a,t){const i=Oi(a.firestore,Xr),r=zr(a),l=q0(a.converter,t);return hg(i,[U0(tg(a.firestore),"addDoc",r._key,l,a.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then((()=>r))}function yE(a,...t){a=hn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||dE(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dE(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let c,d,p;if(a instanceof be)d=Oi(a.firestore,Xr),p=ch(a._key.path),c={next:y=>{t[r]&&t[r](G0(d,a,y))},error:t[r+1],complete:t[r+2]};else{const y=Oi(a,lr);d=Oi(y.firestore,Xr),p=y._query;const v=new H0(d);c={next:A=>{t[r]&&t[r](new Xa(d,v,y,A))},error:t[r+1],complete:t[r+2]},A2(a._query)}return(function(v,A,b,M){const Y=new D0(M),tt=new T0(A,Y,b);return v.asyncQueue.enqueueAndForget((async()=>v0(await hm(v),tt))),()=>{Y.Nu(),v.asyncQueue.enqueueAndForget((async()=>E0(await hm(v),tt)))}})(Jm(d),p,l,c)}function hg(a,t){return(function(r,l){const c=new tr;return r.asyncQueue.enqueueAndForget((async()=>$C(await u2(r),l,c))),c.promise})(Jm(a),t)}function G0(a,t,i){const r=i.docs.get(t._key),l=new H0(a);return new Hr(a,l,t._key,r,new vl(i.hasPendingWrites,i.fromCache),t.converter)}function _E(){return new eg("serverTimestamp")}function vE(a){return new ng("increment",a)}(function(t,i=!0){(function(l){oo=l})(ro),Za(new Fr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Xr(new ER(r.getProvider("auth-internal")),new SR(d,r.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(v.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),$s(yv,_v,t),$s(yv,_v,"esm2020")})();const D2={apiKey:"AIzaSyDCgBUGV4WWYMPVCelPFvfo3UyH5KrgWE4",authDomain:"itgonein.firebaseapp.com",projectId:"itgonein",storageBucket:"itgonein.firebasestorage.app",messagingSenderId:"869060537900",appId:"1:869060537900:web:ed227fcbe2d64a6286ab89",measurementId:"G-NTB13JDT18"},F0=DE(D2),jd=pR(F0),O2=new ss,is=f2(F0),V2=()=>{const a="https://itsgonein.com/football-proxy.php",t="tm@solumre.com",[i,r]=Ae.useState("DASHBOARD"),[l,c]=Ae.useState("TABLE"),[d,p]=Ae.useState(39),[y,v]=Ae.useState(!1),[A,b]=Ae.useState(null),[M,Y]=Ae.useState(!1),[tt,it]=Ae.useState([]),[$,ft]=Ae.useState([]),[vt,mt]=Ae.useState([]),[jt,ne]=Ae.useState([]),[Ut,C]=Ae.useState([]),[S,I]=Ae.useState(""),V=Ae.useRef(null),[N,U]=Ae.useState(!1),[w,ie]=Ae.useState([{id:"bellingham",name:"Bellingham",team:"Real Madrid",votes:45},{id:"saka",name:"Saka",team:"Arsenal",votes:32},{id:"kane",name:"Kane",team:"Bayern",votes:28}]),[de,H]=Ae.useState(()=>{const F=localStorage.getItem("userPredictions");return F?JSON.parse(F):{}}),[nt,ut]=Ae.useState({}),Rt=[{id:39,name:"Premier League",icon:"",color:"#3d195b",accent:"#00ff85"},{id:140,name:"La Liga",icon:"",color:"#ee8707",accent:"#ffffff"},{id:78,name:"Bundesliga",icon:"",color:"#d20515",accent:"#ffffff"},{id:135,name:"Serie A",icon:"",color:"#008fd7",accent:"#00ff85"},{id:61,name:"Ligue 1",icon:"",color:"#dae025",accent:"#12233f"},{id:88,name:"Eredivisie",icon:"",color:"#00366d",accent:"#ffffff"},{id:71,name:"Brasileiro",icon:"",color:"#fcbf00",accent:"#009c3b"},{id:94,name:"Primeira Liga",icon:"",color:"#e83838",accent:"#f5ce42"}],Gt=[{id:1,tag:"RUMOR",title:"Mbapp to Liverpool? Agent spotted in London.",time:"2h ago",img:""},{id:2,tag:"VIRAL",title:"Haaland breaks another robot record.",time:"4h ago",img:""}];Ae.useEffect(()=>{const F=sw(jd,async he=>{if(b(he),he)try{const Lt=zr(is,"banned_users",he.uid),Fe=await pE(Lt);Y(Fe.exists())}catch(Lt){console.error(Lt)}try{const Lt=zr(is,"polls","week_1"),Fe=await pE(Lt);if(Fe.exists()){const on=Fe.data();ie(Kt=>Kt.map(me=>({...me,votes:on[me.id]||me.votes})))}}catch(Lt){console.error(Lt)}});Ae.useEffect(()=>{const he=async()=>{try{const on=await(await fetch(`${a}?type=live`)).json();on.response&&ne(on.response.map(Kt=>({id:Kt.fixture.id,home:Kt.teams.home.name,away:Kt.teams.away.name,homeScore:Kt.goals.home,awayScore:Kt.goals.away,status:Kt.fixture.status.elapsed})))}catch(Fe){console.error("Ticker Error:",Fe)}};he();const Lt=setInterval(he,6e4);return()=>clearInterval(Lt)},[]);const zt=S2(kd(is,"messages"),b2("createdAt"),w2(50)),Bt=yE(zt,he=>{C(he.docs.map(Lt=>({...Lt.data(),id:Lt.id}))),V.current?.scrollIntoView({behavior:"smooth"})}),Pe=yE(kd(is,"match_votes"),he=>{const Lt={};he.docs.forEach(Fe=>{Lt[Fe.id]=Fe.data()}),ut(Lt)});return()=>{F(),Bt(),Pe()}},[]),Ae.useEffect(()=>{const F=Rt.find(Bt=>Bt.id===d);F&&(document.documentElement.style.setProperty("--primary",F.color),document.documentElement.style.setProperty("--accent",F.accent)),(async()=>{v(!0),it([]),ft([]),mt([]);try{const Pe=await(await fetch(`${a}?league=${d}&type=standings`)).json();if(Pe.response&&Pe.response[0]){const Kt=Pe.response[0].league.standings[0];it(Kt.map(me=>({rank:me.rank,id:me.team.id,name:me.team.name,crest:me.team.logo,played:me.all.played,won:me.all.win,draw:me.all.draw,lost:me.all.lose,pts:me.points,form:me.form})))}const Lt=await(await fetch(`${a}?league=${d}&type=scorers`)).json();Lt.response&&ft(Lt.response.map((Kt,me)=>({rank:me+1,name:Kt.player.name,team:Kt.statistics[0].team.name,goals:Kt.statistics[0].goals.total,photo:Kt.player.photo})));const on=await(await fetch(`${a}?league=${d}&type=fixtures`)).json();on.response&&mt(on.response.map(Kt=>({id:Kt.fixture.id,date:new Date(Kt.fixture.date).toLocaleDateString("en-GB",{day:"numeric",month:"short"}),time:new Date(Kt.fixture.date).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),home:Kt.teams.home.name,homeCrest:Kt.teams.home.logo,away:Kt.teams.away.name,awayCrest:Kt.teams.away.logo})))}catch(Bt){console.error("API Error:",Bt)}v(!1)})()},[d]);const O=async F=>{window.confirm("Admin: Delete this message?")&&await C2(zr(is,"messages",F))},K=async(F,zt)=>{window.confirm(`Admin: PERMANENTLY BAN ${zt}?`)&&(await zd(zr(is,"banned_users",F),{bannedAt:_E(),bannedBy:A.email}),alert(`${zt} has been banned.`))},et=(F,zt)=>{const Bt={...de,[F]:zt};if(H(Bt),localStorage.setItem("userPredictions",JSON.stringify(Bt)),A){let Pe="draw";zt==="1"&&(Pe="home"),zt==="2"&&(Pe="away");const he=zr(is,"match_votes",String(F));zd(he,{[Pe]:vE(1)},{merge:!0}).catch(console.error)}},rt=F=>{const zt=nt[F];if(!zt)return{home:0,draw:0,away:0,total:0};const Bt=zt.home||0,Pe=zt.draw||0,he=zt.away||0,Lt=Bt+Pe+he;return Lt===0?{home:0,draw:0,away:0,total:0}:{home:Math.round(Bt/Lt*100),draw:Math.round(Pe/Lt*100),away:Math.round(he/Lt*100),total:Lt}},pt=async F=>{N||M||(ie(zt=>zt.map(Bt=>Bt.id===F?{...Bt,votes:Bt.votes+1}:Bt)),U(!0),await zd(zr(is,"polls","week_1"),{[F]:vE(1)},{merge:!0}))},At=async F=>{F.preventDefault(),!(!S.trim()||!A||M)&&(await N2(kd(is,"messages"),{text:S,createdAt:_E(),uid:A.uid,photoURL:A.photoURL,displayName:A.displayName}),I(""))},Nt=()=>w.reduce((F,zt)=>F+zt.votes,0),ye=async()=>{try{await ww(jd,O2)}catch(F){console.error(F)}};return j.jsxs("div",{className:"app-container",children:[j.jsxs("div",{className:"top-ticker",children:[j.jsx("div",{className:"live-badge",children:"LIVE"}),j.jsx("div",{className:"ticker-wrapper",children:j.jsxs("div",{className:"top-ticker",children:[j.jsx("div",{className:"live-badge",children:"LIVE"}),j.jsx("div",{className:"ticker-wrapper",children:j.jsxs("div",{className:"ticker-content",children:[jt.length>0?jt.map(F=>j.jsxs("span",{children:[F.home," ",j.jsxs("b",{className:"score",children:[F.homeScore,"-",F.awayScore]})," ",F.away,j.jsxs("span",{className:"ticker-minute",style:{marginLeft:"4px",color:"var(--accent)"},children:[F.status,"'"]})]},F.id)):j.jsx("span",{children:"No live matches currently in progress"}),jt.map(F=>j.jsxs("span",{children:[F.home," ",j.jsxs("b",{className:"score",children:[F.homeScore,"-",F.awayScore]})," ",F.away]},`dup-${F.id}`))]})})]})})]}),j.jsxs("div",{className:"dashboard-grid",children:[j.jsxs("nav",{className:"side-nav",children:[j.jsxs("div",{className:"brand",children:["ITS",j.jsx("span",{className:"accent",children:"GONE"}),"IN."]}),j.jsxs("div",{className:"nav-group",children:[j.jsx("label",{children:"LEAGUES"}),Rt.map(F=>j.jsxs("div",{className:`nav-item ${d===F.id&&i==="DASHBOARD"?"active":""}`,onClick:()=>{p(F.id),r("DASHBOARD")},children:[j.jsx("span",{className:"nav-icon",children:F.icon}),j.jsx("span",{className:"nav-text",children:F.name})]},F.id))]}),j.jsxs("div",{className:"nav-group",children:[j.jsx("label",{children:"COMMUNITY"}),j.jsx("div",{className:"nav-item",children:" Trending"})]})]}),j.jsxs("main",{className:"main-feed",children:[i==="DASHBOARD"&&j.jsxs(j.Fragment,{children:[j.jsxs("header",{className:"feed-header",children:[j.jsxs("div",{className:"header-title",children:[j.jsx("h1",{children:Rt.find(F=>F.id===d)?.name}),j.jsx("span",{children:"Season 2023/24"})]}),j.jsxs("div",{className:"tabs",children:[j.jsx("button",{className:`tab-btn ${l==="TABLE"?"active":""}`,onClick:()=>c("TABLE"),children:"STANDINGS"}),j.jsx("button",{className:`tab-btn ${l==="SCORERS"?"active":""}`,onClick:()=>c("SCORERS"),children:"SCORERS"}),j.jsx("button",{className:`tab-btn ${l==="FIXTURES"?"active":""}`,onClick:()=>c("FIXTURES"),children:"FIXTURES"})]})]}),j.jsxs("div",{className:"feed-content",children:[$.length>0&&l!=="FIXTURES"&&j.jsxs("div",{className:"spotlight-card",children:[j.jsxs("div",{className:"spotlight-info",children:[j.jsx("span",{className:"badge",children:"GOLDEN BOOT RACE"}),j.jsx("h3",{children:$[0].name}),j.jsx("p",{children:$[0].team})]}),j.jsxs("div",{className:"spotlight-stat",children:[j.jsx("span",{className:"big-num",children:$[0].goals}),j.jsx("span",{className:"label",children:"GOALS"})]})]}),j.jsxs("div",{className:"data-container",children:[y&&j.jsx("div",{style:{padding:40,textAlign:"center"},children:"Loading..."}),!y&&l==="TABLE"&&j.jsxs("table",{className:"modern-table",children:[j.jsx("thead",{children:j.jsxs("tr",{children:[j.jsx("th",{width:"40",children:"#"}),j.jsx("th",{children:"CLUB"}),j.jsx("th",{children:"MP"}),j.jsx("th",{children:"W/D/L"}),j.jsx("th",{className:"text-right",children:"PTS"})]})}),j.jsx("tbody",{children:tt.map(F=>j.jsxs("tr",{children:[j.jsx("td",{className:"rank",children:F.rank}),j.jsx("td",{children:j.jsxs("div",{className:"team-flex",children:[j.jsx("img",{src:F.crest,alt:""}),j.jsx("span",{children:F.name})]})}),j.jsx("td",{style:{color:"var(--text-dim)"},children:F.played}),j.jsxs("td",{className:"form-mini",children:[j.jsx("span",{className:"w",children:F.won}),"/",j.jsx("span",{style:{color:"var(--text-dim)"},children:F.draw}),"/",j.jsx("span",{className:"l",children:F.lost})]}),j.jsx("td",{className:"pts",children:F.points})]},F.id))})]}),!y&&l==="SCORERS"&&j.jsx("div",{className:"scorers-list",children:$.map(F=>j.jsxs("div",{className:"list-row",children:[j.jsx("div",{className:"rank-badge",children:F.rank}),j.jsxs("div",{className:"list-info",children:[j.jsx("span",{className:"list-name",children:F.name}),j.jsx("span",{className:"list-sub",children:F.team})]}),j.jsx("div",{className:"list-stat",children:j.jsx("span",{className:"stat-val",children:F.goals})})]},F.name))}),!y&&l==="FIXTURES"&&j.jsx("div",{className:"fixtures-list",children:vt.map(F=>{const zt=rt(F.id),Bt=de[F.id];return j.jsxs("div",{className:"fixture-row",children:[j.jsxs("div",{className:"fixture-date",children:[j.jsx("span",{className:"date",children:F.date}),j.jsx("span",{className:"time",children:F.time})]}),j.jsxs("div",{className:"fixture-center-group",children:[j.jsxs("div",{className:"fixture-matchup",children:[j.jsxs("div",{className:"team home",children:[j.jsx("span",{children:F.home}),j.jsx("img",{src:F.homeCrest,alt:""})]}),j.jsx("div",{className:"vs-badge",children:"VS"}),j.jsxs("div",{className:"team away",children:[j.jsx("img",{src:F.awayCrest,alt:""}),j.jsx("span",{children:F.away})]})]}),j.jsxs("div",{className:"prediction-wrapper",children:[j.jsxs("div",{className:"prediction-bar",children:[j.jsx("button",{className:`pred-btn ${Bt==="1"?"active":""}`,onClick:()=>et(F.id,"1"),children:"1"}),j.jsx("button",{className:`pred-btn ${Bt==="X"?"active":""}`,onClick:()=>et(F.id,"X"),children:"X"}),j.jsx("button",{className:`pred-btn ${Bt==="2"?"active":""}`,onClick:()=>et(F.id,"2"),children:"2"})]}),Bt&&j.jsxs("div",{className:"community-stats fade-in",children:[j.jsxs("div",{className:"stat-label",style:{textAlign:"left"},children:[zt.home,"%"]}),j.jsxs("div",{className:"stat-label",style:{textAlign:"center"},children:[zt.draw,"%"]}),j.jsxs("div",{className:"stat-label",style:{textAlign:"right"},children:[zt.away,"%"]})]})]})]})]},F.id)})})]})]})]}),i==="FORUM"&&j.jsxs("div",{className:"chat-interface",children:[j.jsx("header",{className:"feed-header",children:j.jsxs("div",{className:"header-title",children:[j.jsx("h1",{children:"Ultras Forum"}),j.jsx("span",{children:"Live Community Chat"})]})}),j.jsxs("div",{className:"chat-messages",children:[Ut.map(F=>j.jsxs("div",{className:`message ${F.uid===A?.uid?"sent":"received"}`,children:[j.jsx("img",{src:F.photoURL,alt:"",className:"chat-avatar"}),j.jsxs("div",{className:"message-content",children:[j.jsxs("div",{className:"msg-header",children:[j.jsx("span",{className:"msg-author",children:F.displayName}),A?.email===t&&j.jsxs("div",{className:"admin-controls",children:[j.jsx("span",{className:"admin-btn delete",onClick:()=>O(F.id),title:"Delete Msg",children:""}),j.jsx("span",{className:"admin-btn block",onClick:()=>K(F.uid,F.displayName),title:"Ban User",children:""})]})]}),j.jsx("p",{children:F.text})]})]},F.id)),j.jsx("div",{ref:V})]}),j.jsxs("form",{onSubmit:At,className:"chat-input-area",children:[j.jsx("input",{value:S,onChange:F=>I(F.target.value),placeholder:M?" You have been banned.":A?"Type a message...":"Login to chat",disabled:!A||M}),j.jsx("button",{type:"submit",disabled:!A||M,children:"SEND"})]})]})]}),j.jsxs("aside",{className:"hype-zone",children:[j.jsx("div",{className:"user-card",children:A?j.jsxs("div",{className:"logged-in",children:[j.jsx("img",{src:A.photoURL,className:"avatar-img",alt:""}),j.jsxs("div",{className:"user-info",children:[j.jsx("h4",{children:A.displayName}),j.jsx("button",{onClick:()=>rw(jd),className:"logout-btn",children:"Log Out"})]})]}):j.jsxs("div",{className:"login-prompt",children:[j.jsx("p",{children:"Join the community"}),j.jsx("button",{onClick:ye,className:"google-btn",children:"Login with Google"})]})}),j.jsxs("div",{className:"widget-box vote-box",children:[j.jsxs("div",{className:"widget-header",children:[j.jsx("h3",{children:"PLAYER OF THE WEEK"}),j.jsx("span",{className:"live-dot",children:"VOTING LIVE"})]}),j.jsx("div",{className:"vote-list",children:w.map(F=>{const zt=Nt(),Bt=zt>0?Math.round(F.votes/zt*100):0;return j.jsxs("div",{className:`vote-item ${N?"voted":""}`,onClick:()=>pt(F.id),children:[N&&j.jsx("div",{className:"vote-bar",style:{width:`${Bt}%`}}),j.jsxs("div",{className:"vote-content-row",children:[j.jsxs("div",{className:"vote-info",children:[j.jsx("span",{children:F.name}),j.jsx("small",{children:F.team})]}),N&&j.jsxs("div",{className:"vote-perc",children:[Bt,"%"]})]})]},F.id)})})]}),j.jsxs("div",{className:"widget-box news-box",children:[j.jsx("h3",{children:"LATEST DROPS"}),Gt.map(F=>j.jsxs("div",{className:"news-item",children:[j.jsx("div",{className:"news-icon",children:F.img}),j.jsxs("div",{className:"news-content",children:[j.jsx("span",{className:`tag ${F.tag}`,children:F.tag}),j.jsx("p",{children:F.title}),j.jsx("small",{children:F.time})]})]},F.id))]})]})]}),j.jsx("button",{className:"forum-fab",onClick:()=>r("FORUM"),title:"Open Community Forum",children:""})]})};OS.createRoot(document.getElementById("root")).render(j.jsx(Ae.StrictMode,{children:j.jsx(V2,{})}));
